(function(){var a=function(d,c,e){pinetree.rootHtmlElement=d;pinetree.staticRootHtmlElement=c;pinetree.staticDeviceRootHtmlElement=e;pinetree.stage=new pinetree.Stage(d,true,true);pinetree.staticStage=new pinetree.Stage(c);pinetree.staticDeviceStage=new pinetree.Stage(e);pinetree.stage.positionRef=pinetree.isDevice?"absolute":"fixed";pinetree.staticStage.positionRef="fixed";pinetree.staticDeviceStage.positionRef="absolute";this._frameRate=pinetree.FRAME_RATE;TweenMax.ticker.fps(this._frameRate);__defineGetterSetter(this,["frameRate"])};var b=a.prototype;b.start=function(c){var d=new c();pinetree.stage.addChild(d)};b.getFrameRate=function(){return this._frameRate};b.setFrameRate=function(c){this._frameRate=c;pinetree.timeMachine.setFPS(this._frameRate);TweenMax.ticker.fps(this._frameRate)};pinetree.Entry=a}());(function(){var a=function(){this._listeners={};this._disposeList=null;this.dynamicData={};this._privateId=pinetree.getGlobalPrivateId()};a.MAX_PRIORITY=16777215;var b=a.prototype;b.addEventListener=function(h,j,c,g){if(!this._listeners){return}if(g>a.MAX_PRIORITY){trace("Warning: priority is bigger than EventDispatcher.MAX_PRIORITY, The max value is 0xffffff!");g=a.MAX_PRIORITY}if(!this._listeners[h]){this._listeners[h]=[]}var d=this._listeners[h];var e=d.length,l=null;while(e--){l=d[e];if(l&&l.listener==j&&l.owner==c){return}}var k={type:h,listener:j,owner:c||this,priority:g||0};this._listeners[h].push(k);this._listeners[h].sort(this._onSortHandler)};b._onSortHandler=function(d,c){if(d.priority<c.priority){return -1}else{if(d.priority>c.priority){return 1}}return 0};b.removeEventListener=function(g,h,c){if(!this._listeners){return}var d=this._listeners[g];if(d){var e=d.length,j=null;while(e--){j=d[e];if(j&&j.listener==h&&j.owner==c){d[e]=null;d.splice(e,1);break}}}};b.dispatchEvent=function(d){if(!this._listeners){return}if(!d){return}var h=d.target||d.srcElement||this;d.customTarget=h;var g=d.type||d.eventType;var c=this._listeners[g];if(c){var e=c.length,j;while(e--){j=c[e];if(j){j.listener.apply(j.owner||this,arguments)}else{c.splice(e,1)}}}};b.dispatchWith=function(d){var c=pinetree.getEvent(d);this.dispatchEvent(c)};b.hasEventListener=function(d){if(!this._listeners){return false}var c=this._listeners[d]&&this._listeners[d].length>0?true:false;return c};b.registerAutoDispose=function(c){if(!this._disposeList){this._disposeList=[]}this._disposeList.push(c)};b.dispose=function(){var c,e=0,h;if(this._listeners){for(var g in this._listeners){c=this._listeners[g];if(c){e=c.length;while(e--){c[e]=null;c.splice(e,1)}}this._listeners[g]=null;delete this._listeners[g]}}if(this._disposeList){e=this._disposeList.length;while(e--){h=this._disposeList[e];if(h){h.dispose()}this._disposeList[e]=null;delete this._disposeList[e]}}if(this.dynamicData){for(var d in this.dynamicData){this.dynamicData[d]=null;delete this.dynamicData[d]}this.dynamicData=null}this._listeners=null;this._disposeList=null};b.toString=function(){return"[Object EventDispatcher]"};pinetree.EventDispatcher=a}());(function(){var a=function(){this._listeners=[]};var b=a.prototype;b.add=function(c,d){if(!this._listeners){return}this._listeners.push({owner:c,handler:d})};b.addOnce=function(c,e){if(!this._listeners){return}var d=this._listeners.length,g;while(d--){g=this._listeners[d];if(g&&g.owner==c&&g.handler==e){return}}this._listeners.push({owner:c,handler:e})};b.dispatch=function(){if(!this._listeners){return}var c=this._listeners.length,d;while(c--){d=this._listeners[c];if(d){d.handler.apply(d.owner,arguments)}}};b.remove=function(c,e){if(!this._listeners){return}var d=this._listeners.length,g;while(d--){g=this._listeners[d];if(g&&g.owner==c&&g.handler==e){this._listeners.splice(d,1)}}};b.removeByOwner=function(c){if(!this._listeners){return}var d=this._listeners.length,e;while(d--){e=this._listeners[d];if(e&&e.owner==c){this._listeners.splice(d,1)}}};b.removeAll=function(){if(!this._listeners){return}this._listeners.splice(0,this._listeners.length)};b.dispose=function(){this.removeAll();this._listeners=null};b.toString=function(){return"[Object Signal]"};pinetree.Signal=a}());(function(){var a=function(d,g,e,c){this._x=d;this._y=g;this._width=e;this._height=c;__defineGetterSetter(this,["x","y","width","height","left","right","top","bottom"])};var b=a.prototype;b.getX=function(){return this._x};b.setX=function(c){this._x=c};b.getY=function(){return this._y};b.setY=function(c){this._y=c};b.getWidth=function(){return this._width};b.setWidth=function(c){this._width=c};b.getHeight=function(){return this._height};b.setHeight=function(c){this._height=c};b.getLeft=function(){return this._x};b.setLeft=function(c){this._x=c};b.getTop=function(){return this._y};b.setTop=function(c){this._y=c};b.getRight=function(){return this._width};b.setRight=function(c){this._width=c};b.getBottom=function(){return this._height};b.setBottom=function(c){this._height=c};b.containsPoint=function(c){if(!(c instanceof pinetree.Point)){trace("Error: at Rectangle::containsPoint(), argument is not a Point!");return false}if(c.x>=this._x&&c.x<=this._x+this._width&&c.y>=this._y&&c.y<=this._y+this._height){return true}return false};b.containsRect=function(c){if(!(c instanceof pinetree.Rectangle)){trace("Error: at Rectangle::containsRect(), argument is not a Rectangle!");return false}var d=new pinetree.Point(c.x,c.y);if(!this.containsPoint(d)){return false}d.x+=c.width;if(!this.containsPoint(d)){return false}d.y+=c.height;if(!this.containsPoint(d)){return false}d.x-=c.width;if(!this.containsPoint(d)){return false}return true};b.intersects=function(e){if(!(e instanceof pinetree.Rectangle)){trace("Error: at Rectangle::intersects(), argument is not a Rectangle!");return false}var d=Math.abs(this._x+this._width/2-(e.x+e.width/2));var c=Math.abs(this._y+this._height/2-(e.y+e.height/2));return d+d<this._width+e.width&&c+c<this._height+e.height};b.clone=function(){return new pinetree.Rectangle(this._x,this._y,this._width,this._height)};b.toString=function(){return"[Object Rectangle:x="+this._x+",y="+this._y+",width="+this._width+",height="+this._height+"]"};pinetree.Rectangle=a}());(function(){var a=function(c,d){this._x=c||0;this._y=d||0;__defineGetterSetter(this,["x","y"])};var b=a.prototype;b.getX=function(){return this._x};b.setX=function(c){this._x=c};b.getY=function(){return this._y};b.setY=function(c){this._y=c};b.clone=function(){return new pinetree.Point(this._x,this._y)};b.toString=function(){return"[Object Point:x="+this._x+",y="+this._y+"]"};pinetree.Point=a}());(function(){var a=function(){this._keys=[];this._values=[];__defineGetterSetter(this,["length"])};var b=a.prototype;b.set=function(d,e){var c=this.indexOf(d);if(c>-1){this._values[c]=e}else{this._keys.push(d);this._values.push(e)}};b.get=function(d){var c=this.indexOf(d);if(c>-1){return this._values[c]}return null};b.getKeyByIndex=function(c){return this._keys[c]};b.getValueByIndex=function(c){return this._values[c]};b.indexOf=function(d){var c=this._keys.length;while(c--){if(this._keys[c]===d){return c}}return -1};b.getLength=function(){return this._keys.length};b.remove=function(d){var c=this.indexOf(d);if(c>-1){this._keys[c]=null;this._keys.splice(c,1);this._values[c]=null;this._values.splice(c,1)}};b.removeAll=function(){var c=this._keys.length;while(c--){this.remove(this._keys[c])}};pinetree.Dictionary=a})();(function(){var b=function(){this._handlers={}};var a=b.prototype;a.delayCall=function(c,e,d,i,h){if(!i){i=[]}if(h){this.removeByHandler(c,e)}var g=setTimeout(Delegate.create(this,this._onTimeOutHandler,c,e,d,i),d*1000);this._handlers[g]={owner:c,handler:e,delay:d,params:i};return g};a.delayAfterFrames=function(c,e,i,h,g){if(!i){i=1}var d=i/60;return this.delayCall(c,e,d,h,g)};a.queueCall=function(c,d,g,e){this.delayCall(c,d,0,g,e)};a._onTimeOutHandler=function(c,e,d,h){e.apply(c,h);for(var g in this._handlers){if(this._handlers.hasOwnProperty(g)&&this._handlers[g]){if(this._handlers[g].owner==c&&this._handlers[g].handler==e&&this._handlers[g].delay==d&&this._handlers[g].params==h){this._clearById(g);break}}else{if(this._handlers.hasOwnProperty(g)){delete this._handlers[g]}}}};a.removeByOwner=function(c){if(!c){return}for(var d in this._handlers){if(this._handlers.hasOwnProperty(d)&&this._handlers[d]&&this._handlers[d].owner==c){this._clearById(d)}}};a.removeByHandler=function(c,d){if(!d){return}for(var e in this._handlers){if(this._handlers.hasOwnProperty(e)&&this._handlers[e]&&this._handlers[e].owner==c&&this._handlers[e].handler==d){this._clearById(e)}}};a._clearById=function(c){clearInterval(c);this._handlers[c].owner=null;this._handlers[c].handler=null;this._handlers[c].delay=null;this._handlers[c].params=null;this._handlers[c]=null;delete this._handlers[c]};pinetree.Delay=new b()}());(function(){var a=function(d,c){pinetree.EventDispatcher.call(this);if(d==undefined||d==0){trace("Error: interval should be bigger than 0");return}this._delay=d;this.repeatCount=c||0;this._isRunning=false;this._currentCount=0;this._intervalId=-1;this._renderHandler=null;__defineGetterSetter(this,["running","currentCount","delay"])};var b=__extends(a,pinetree.EventDispatcher);b.getDelay=function(){return this._delay};b.setDelay=function(c){this._delay=c;this.stop();this.start()};b._onRender=function(){this._currentCount++;this.dispatchWith(pinetree.TimerEvent.TIMER);if(this._currentCount==this.repeatCount){this.dispatchWith(pinetree.TimerEvent.TIMER_COMPLETE);this.stop()}};b.start=function(){if(this.repeatCount>0&&this._currentCount>=this.repeatCount){trace("Warning: currentCount is requal to repeatCount, the timer will not start!");return}if(this._isRunning){return}this._isRunning=true;this._renderHandler=Delegate.create(this,this._onRender);this._intervalId=setInterval(this._renderHandler,this._delay)};b.stop=function(){if(this._intervalId>-1){clearInterval(this._intervalId);this._intervalId=-1;this._isRunning=false;this._renderHandler=null}};b.reset=function(){this.stop();this._currentCount=0};b.getRunning=function(){return this._isRunning};b.getCurrentCount=function(){return this._currentCount};pinetree.dispose=function(){this.stop();pinetree.EventDispatcher.prototype.dispose.call(this)};pinetree.Timer=a}());(function(){var a={};a.TIMER="timer";a.TIMER_COMPLETE="timer_complete";pinetree.TimerEvent=a}());(function(){var a={};a._canvas=document.createElement("canvas");a._context=a._canvas.getContext("2d");a.getImageData=function(i,g,b){this._context.clearRect(0,0,this._canvas.width,this._canvas.height);b=__defaultSet(b,true);if(i instanceof Image){var c,d;if(b){c=i.naturalWidth;d=i.naturalHeight}else{c=g.width;d=g.height}this._canvas.width=c;this._canvas.height=d;try{this._context.drawImage(i,g.x,g.y,c,d)}catch(j){}}else{this._canvas.width=i.width;this._canvas.height=i.height;this._context.drawImage(i,g.x,g.y,i.width,i.height)}var k=null;try{k=this._context.getImageData(g.x,g.y,g.width,g.height)}catch(j){k=this._context.createImageData(1,1)}return k};pinetree.BitmapUtil=a}());(function(){var a=function(){this._target=null;this._lockCenter=false;this._bounds=null;this._stage=null;this._oldMouseX=0;this._oldMouseY=0;this._currentX=0;this._currentY=0};var b=a.prototype;b.startDrag=function(e,c,d){if(!e.stage||!e.parent){this.stopDrag();return}if(!this._stage){this._stage=e.stage}this._stage.removeEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onMouseMove,this);this._stage.addEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onMouseMove,this);this._target=e;this._lockCenter=c||false;this._bounds=d||null;this._oldMouseX=this._stage.mouseX;this._oldMouseY=this._stage.mouseY;this._currentX=this._target.x;this._currentY=this._target.y};b._onMouseMove=function(c){if(!this._target.parent){this.stopDrag();return}this._currentX+=this._stage.mouseX-this._oldMouseX;this._currentY+=this._stage.mouseY-this._oldMouseY;this._oldMouseX=this._stage.mouseX;this._oldMouseY=this._stage.mouseY;if(this._lockCenter){var d=this._target.parent.globalToLocal(new pinetree.Point(this._stage.mouseX,this._stage.mouseY));this._currentX=d.x;this._currentY=d.y}if(this._bounds){if(this._currentX<this._bounds.x){this._currentX=this._bounds.x}else{if(this._currentX>this._bounds.x+this._bounds.width){this._currentX=this._bounds.x+this._bounds.width}}if(this._currentY<this._bounds.y){this._currentY=this._bounds.y}else{if(this._currentY>this._bounds.y+this._bounds.height){this._currentY=this._bounds.y+this._bounds.height}}}this._target.x=this._currentX;this._target.y=this._currentY};b.stopDrag=function(){this._target=null;this._lockCenter=false;this._bounds=null;if(this._stage){this._stage.removeEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onMouseMove,this)}};pinetree.dragPlugin=new a()}());(function(){var a=function(){};a.A=65;a.ALTERNATE=18;a.B=66;a.BACKQUOTE=192;a.BACKSLASH=220;a.BACKSPACE=8;a.C=67;a.CAPS_LOCK=20;a.COMMA=188;a.COMMAND=15;a.CONTROL=17;a.D=68;a.DELETE=46;a.DOWN=40;a.E=69;a.END=35;a.ENTER=13;a.EQUAL=187;a.ESCAPE=27;a.F=70;a.F1=112;a.F10=121;a.F11=122;a.F12=123;a.F13=124;a.F14=125;a.F15=126;a.F2=113;a.F3=114;a.F4=115;a.F5=116;a.F6=117;a.F7=118;a.F8=119;a.F9=120;a.G=71;a.H=72;a.HOME=36;a.I=73;a.INSERT=45;a.J=74;a.K=75;a.L=76;a.LEFT=37;a.LEFTBRACKET=219;a.M=77;a.MINUS=189;a.N=78;a.NUMBER_0=48;a.NUMBER_1=49;a.NUMBER_2=50;a.NUMBER_3=51;a.NUMBER_4=52;a.NUMBER_5=53;a.NUMBER_6=54;a.NUMBER_7=55;a.NUMBER_8=56;a.NUMBER_9=57;a.NUMPAD=21;a.NUMPAD_0=96;a.NUMPAD_1=97;a.NUMPAD_2=98;a.NUMPAD_3=99;a.NUMPAD_4=100;a.NUMPAD_5=101;a.NUMPAD_6=102;a.NUMPAD_7=103;a.NUMPAD_8=104;a.NUMPAD_9=105;a.NUMPAD_ADD=107;a.NUMPAD_DECIMAL=110;a.NUMPAD_DIVIDE=111;a.NUMPAD_ENTER=108;a.NUMPAD_MULTIPLY=106;a.NUMPAD_SUBTRACT=109;a.O=79;a.P=80;a.PAGE_DOWN=34;a.PAGE_UP=33;a.PERIOD=190;a.Q=81;a.QUOTE=222;a.R=82;a.RIGHT=39;a.RIGHTBRACKET=221;a.S=83;a.SEMICOLON=186;a.SHIFT=16;a.SLASH=191;a.SPACE=32;a.T=84;a.TAB=9;a.U=85;a.UP=38;a.V=86;a.W=87;a.X=88;a.Y=89;a.Z=90;pinetree.Keyboards=a}());(function(){var a={ABORT:"abort",CHANGE:"change",IO_ERROR:"ioError",ERROR:"error",LOAD:"load",SCROLL:"scroll",RESET:"reset",RESIZE:"resize",SELECT:"select",SUBMIT:"submit",UNLOAD:"unload",ADDED_TO_STAGE:"addedToStage",REMOVED_FROM_STAGE:"removeFromStage",ENTER_FRAME:"enterFrame",COMPLETE:"complete",DISPOSE:"dispose",PROGRESS:"progress"};pinetree.Event=a}());(function(){var a={FOCUS_IN:"focus",FOCUS_OUT:"blur"};a.isInterested=function(b){if(b==this.FOCUS_IN||b==this.FOCUS_OUT){return true}return false};pinetree.FocusEvent=a}());(function(){var a={KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup"};a.isInterested=function(b){if(b==this.KEYDOWN||b==this.KEYPRESS||b==this.KEYUP){return true}return false};pinetree.KeyboardEvent=a}());(function(){var a={ROLL_OVER:"mouseenter",ROLL_OUT:"mouseleave",MOUSE_OVER:"mouseover",MOUSE_OUT:"mouseout",CLICK:"click",DBLCLICK:"dblclick",MOUSE_DOWN:pinetree.isDevice&&!__global.isDebug?"touchstart":"mousedown",MOUSE_UP:pinetree.isDevice&&!__global.isDebug?"touchend":"mouseup",MOUSE_MOVE:pinetree.isDevice&&!__global.isDebug?"touchmove":"mousemove",MOUSE_WHEEL:"wheel"};a.isInterested=function(b){if(b==this.ROLL_OVER||b==this.ROLL_OUT||b==this.MOUSE_OVER||b==this.MOUSE_OUT||b==this.CLICK||b==this.DBLCLICK||b==this.MOUSE_DOWN||b==this.MOUSE_UP||b==this.MOUSE_MOVE||b==this.MOUSE_WHEEL){return true}return false};pinetree.MouseEvent=a}());(function(){var a=function(c){if(c){this.decode(c)}};var b=a.prototype;b.decode=function(h){var d=h.split("&"),e;var c=d.length;for(var g=0;g<c;g++){e=d[g].split("=");if(e.length>1){this[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}}};b.toString=function(){var c=[];for(var d in this){if(typeof(this[d])=="string"){c.push(encodeURIComponent(d)+"="+encodeURIComponent(this[d]))}}return c.join("&")};pinetree.URLVariables=a}());(function(){var a={};a.TEXT="text";a.VARIABLES="variables";pinetree.URLLoaderDataFormat=a}());(function(){var a=function(c){this._url=__defaultSet(c,"");this._method=pinetree.URLRequestMethod.GET;this._contentType="";this._data=null;__defineGetterSetter(this,["url","method","contentType","data"])};var b=a.prototype;b.getUrl=function(){return this._url};b.setUrl=function(c){this._url=c};b.getMethod=function(){return this._method};b.setMethod=function(c){this._method=c==pinetree.URLRequestMethod.GET?pinetree.URLRequestMethod.GET:pinetree.URLRequestMethod.POST};b.getContentType=function(){return this._contentType};b.setContentType=function(c){this._contentType=c};b.getData=function(){return this._data};b.setData=function(c){this._data=c};pinetree.URLRequest=a}());(function(){var a={};a.GET="GET";a.POST="POST";pinetree.URLRequestMethod=a}());(function(){var a=function(c){pinetree.EventDispatcher.call(this);this._data=null;this.dataFormat=pinetree.URLLoaderDataFormat.TEXT;this._disposed=false;this.ON_PROGRESS=new pinetree.Signal();this.ON_LOAD_COMPLETE=new pinetree.Signal();this.ON_IO_ERROR=new pinetree.Signal();this._xmlHttpRequest=new XMLHttpRequest();this._xmlHttpRequest.onabort=Delegate.create(this,this.onAbort);this._xmlHttpRequest.onreadystatechange=Delegate.create(this,this.onReadyStateChange);this._xmlHttpRequest.onprogress=Delegate.create(this,this.onProgress);if(c){this.load(c)}__defineGetterSetter(this,["data"])};var b=__extends(a,pinetree.EventDispatcher);b.onAbort=function(c){this.dispatchWith(pinetree.Event.ABORT)};b.onProgress=function(c){this.dispatchEvent(c);(!this._disposed)&&this.ON_PROGRESS&&this.ON_PROGRESS.dispatch(c.loaded/c.total)};b.load=function(d){if(!d){trace("Error: at URLLoader::load(), urlRequest can't be null or undefined!");return}if(!(d instanceof pinetree.URLRequest)){trace("Error: at URLLoader::load(), urlRequest is not an instance of pinetree.URLRequest!");return}var c=d.url;if(c.indexOf("http://")<0){c=PARENT_URL+c}if(this.dataFormat==pinetree.URLLoaderDataFormat.VARIABLES){this._xmlHttpRequest.open(pinetree.URLRequestMethod.POST,c,true);this._xmlHttpRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var e=d.data?d.data.toString():"";this._xmlHttpRequest.send(e)}else{this._xmlHttpRequest.open(d.method,c,true);this._xmlHttpRequest.send()}};b.onReadyStateChange=function(){if(this._xmlHttpRequest.readyState==4){if(this._xmlHttpRequest.status==200||this._xmlHttpRequest.status==0){this._data=this._xmlHttpRequest.responseText;this.dispatchWith(pinetree.Event.COMPLETE);(!this._disposed)&&this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.dispatch(this)}else{this.dispatchWith(pinetree.Event.IO_ERROR);(!this._disposed)&&this.ON_IO_ERROR&&this.ON_IO_ERROR.dispatch(this)}}};b.getData=function(){return this._data};b.close=function(){this._xmlHttpRequest.abort()};b.dispose=function(){if(this._disposed){return}this._disposed=true;this._xmlHttpRequest.onabort=null;this._xmlHttpRequest.onreadystatechange=null;this._xmlHttpRequest.onprogress=null;this.close();this.ON_PROGRESS&&this.ON_PROGRESS.removeAll();this.ON_PROGRESS=null;this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.removeAll();this.ON_LOAD_COMPLETE=null;this.ON_IO_ERROR&&this.ON_IO_ERROR.removeAll();this.ON_IO_ERROR=null;pinetree.EventDispatcher.prototype.dispose.call(this)};b.toString=function(){return"[Object URLLoader]"};pinetree.URLLoader=a}());(function(){var a=function(c){this._canvas=c;if(c){this._context=c.getContext("2d")}this._fillStyle="";this._lineWidth=0;this._strokeStyle="";this._lineCap=null;this._lineJoin=null;this._miterLimit=null;this._isFill=false;this._drawOffsetX=0;this._drawOffsetY=0;this._drawPathX=null;this._drawPathY=null;this._shadowColor=0;this._shadowAlpha=0.5;this._shadowBlur=0;this._shadowOffsetX=0;this._shadowOffsetY=0;this._width=c?c.width:0;this._height=c?c.height:0;__defineGetterSetter(this,["canvas","context"])};var b=a.prototype;b.beginBitmapFill=function(g,e){if(e==undefined){e="repeat"}if((g instanceof pinetree.TextureImage)||(g instanceof pinetree.Bitmap)){g=g.canvas}else{if(g instanceof pinetree.Texture){var c=new pinetree.TextureImage(g);g=c.canvas;c.dispose();c=null}else{if(g instanceof pinetree.BitmapData){var h=new pinetree.Bitmap(g);g=h.canvas;h.dispose();h=null}}}this._context.beginPath();var d=this._context.createPattern(g,e);this._fillStyle=d;this._updateStyle()};b._readyToFill=function(){this._isFill=true;if(this._shadowBlur>0){if(this._shadowOffsetX<0||this._shadowOffsetX-this._shadowBlur<0){this._drawOffsetX=this._shadowBlur-this._shadowOffsetX}if(this._shadowOffsetY<0||this._shadowOffsetY-this._shadowBlur<0){this._drawOffsetY=this._shadowBlur-this._shadowOffsetY}}};b.beginFill=function(c,d){this._readyToFill();this._context.beginPath();d=d<0?0:d>1?1:d;this._fillStyle=pinetree.getRGBA(c,d);this._updateStyle()};b.beginGradientFill=function(h,d,c,i,g,e,k,j){this._readyToFill();this._updateStyle()};b.clear=function(){this._isFill=false;this._context.clearRect(0,0,this._canvas.width,this._canvas.height);this._canvas.width=this._width;this._canvas.height=this._height};b.curveTo=function(e,d,c,g){if(this._isFill){e+=this._drawOffsetX;d+=this._drawOffsetY;c+=this._drawOffsetX;g+=this._drawOffsetY}this._updateSize(0,0,Math.max(e,c),Math.max(d,g));this._context.quadraticCurveTo(e,d,c,g)};b.scale=function(c,d){};b.drawCircle=function(d,j,c,e,i,h){if(this._isFill){d+=this._drawOffsetX;j+=this._drawOffsetY}var g=this._lineWidth/2;d+=g;j+=g;this._updateSize(d-c,j-c,2*c,2*c);e=e==undefined?0:e;i=i==undefined?Math.PI*2:i;h=h==undefined?true:false;this._context.arc(d,j,c,e,i,h)};b.drawEllipse=function(n,l,c,p){if(this._isFill){n+=this._drawOffsetX;l+=this._drawOffsetY}var m=this._lineWidth/2;n+=m;l+=m;this._updateSize(n,l,c,p);var h=0.5522848;var g=(c/2)*h;var d=(p/2)*h;var o=n+c;var j=l+p;var i=n+c/2;var e=l+p/2;this._context.moveTo(n,e);this._context.bezierCurveTo(n,e-d,i-g,l,i,l);this._context.bezierCurveTo(i+g,l,o,e-d,o,e);this._context.bezierCurveTo(o,e+d,i+g,j,i,j);this._context.bezierCurveTo(i-g,j,n,e+d,n,e);this._context.closePath()};b.drawRect=function(d,h,g,c){if(this._isFill){d+=this._drawOffsetX;h+=this._drawOffsetY}var e=this._lineWidth/2;d+=e;h+=e;this._updateSize(d,h,g,c);this._context.rect(d,h,g,c)};b.stroke=function(){this.drawPath();this._context.stroke()};b.strokeRect=function(d,h,g,c){if(this._isFill){d+=this._drawOffsetX;h+=this._drawOffsetY}var e=this._lineWidth/2;d+=e;h+=e;this._updateSize(d,h,g,c);this._context.strokeRect(d,h,g,c)};b.drawRoundRect=function(k,h,c,l,e,d,j,g){if(this._isFill){k+=this._drawOffsetX;h+=this._drawOffsetY}var i=this._lineWidth/2;k+=i;h+=i;this._updateSize(k,h,c,l);this._context.moveTo(k+c-d,h);this._context.arcTo(k+c,h,k+c,h+d,d);this._context.lineTo(k+c,h+l-g);this._context.arcTo(k+c,h+l,k+c-g,h+l,g);this._context.lineTo(k+j,h+l);this._context.arcTo(k,h+l,k,h+l-j,j);this._context.lineTo(k,h+e);this._context.arcTo(k,h,k+e,h,e);this._context.closePath()};b.endFill=function(){this._context.fill();this._context.closePath();if(this._isFill){this._canvas.style.left=(-this._drawOffsetX)+"px";this._canvas.style.top=(-this._drawOffsetY)+"px"}};b.lineGradientStyle=function(h,d,c,i,g,e,k,j){this._updateStyle()};b.lineStyle=function(g,e,i,h,c,d){this._lineWidth=g;this._strokeStyle=pinetree.getRGBA(e,i);this._lineCap=h;this._lineJoin=c;this._miterLimit=d;this._updateStyle()};b.lineTo=function(c,d){if(this._isFill){c+=this._drawOffsetX;d+=this._drawOffsetY}this._updateSize(c,d);this._drawPathX.push(c);this._drawPathY.push(d)};b.moveTo=function(c,d){if(this._drawPathX){this._drawPathX.splice(0,this._drawPathX.length)}else{this._drawPathX=[]}if(this._drawPathY){this._drawPathY.splice(0,this._drawPathY.length)}else{this._drawPathY=[]}this._drawPathX.push(c);this._drawPathY.push(d)};b.drawPath=function(){if(!this._drawPathX||!this._drawPathY){return}var c=this._drawPathX.length;if(c<1){return}this._context.save();this._context.translate(this._lineWidth/2,this._lineWidth/2);this._context.moveTo(this._drawPathX[0],this._drawPathY[0]);for(var d=1;d<c;d++){this._context.lineTo(this._drawPathX[d],this._drawPathY[d])}this._context.restore()};b.getCanvas=function(){return this._canvas};b.getContext=function(){return this._context};b.setShadow=function(d,e,g,c,h){this._shadowColor=__defaultSet(d,this._shadowColor);this._shadowAlpha=__defaultSet(e,this._shadowAlpha);this._shadowBlur=__defaultSet(g,0);this._shadowOffsetX=__defaultSet(c,0);this._shadowOffsetY=__defaultSet(h,0)};b._updateSize=function(d,h,e,c){if(!e){e=0}if(!c){c=0}var g=false;if(d+e+this._shadowBlur+this._lineWidth>this._canvas.width){this._canvas.width=d+e+this._shadowBlur+this._lineWidth;this._width=this._canvas.width;g=true}if(h+c+this._shadowBlur+this._lineWidth>this._canvas.height){this._canvas.height=h+c+this._shadowBlur+this._lineWidth;this._height=this._canvas.height;g=true}if(g){this._updateStyle()}};b._updateStyle=function(){this._context.lineWidth=this._lineWidth;this._context.strokeStyle=this._strokeStyle;this._context.lineCap=this._lineCap;this._context.lineJoin=this._lineJoin;this._context.miterLimit=this._miterLimit;if(this._isFill){this._context.shadowColor=pinetree.getRGBA(this._shadowColor,this._shadowAlpha);this._context.shadowBlur=this._shadowBlur;this._context.shadowOffsetX=this._shadowOffsetX;this._context.shadowOffsetY=this._shadowOffsetY}this._context.fillStyle=this._fillStyle};b.toString=function(){return"[Object Graphics]"};pinetree.Graphics=a}());(function(){var a=function(){pinetree.EventDispatcher.call(this);this._parent=null;this._stage=null;this.isInitialized=false;this.useIntPosition=false;this._id="";this._name="";this._className="";this._x=0;this._y=0;this._width=0;this._height=0;this._rotation=0;this._alpha=1;this._scale=1;this._scaleX=1;this._scaleY=1;this._backgroundAlpha=0;this._backgroundColor=16777215;this._isTweeningBgColor=false;this._tweenBgColorPercent=0;this._tweenBgSrcColor=0;this._tweenBgDestColor=0;this._animations=[];this._selectable=true;this._useMouseHand=false;this._clip=new pinetree.Rectangle(0,0,0,0);this._htmlElement=null;__defineGetterSetter(this,["x","y","width","height","alpha","positionRef","visible","rotation","scale","scaleX","scaleY","id","name","parent","stage","className","clip","elementOffsetWidth","elementOffsetHeight","htmlElement","scrollWidth","scrollHeight","cursor","disabled","htmlStyle","selectable","computedStyle","useMouseHand","backgroundColor","backgroundAlpha"])};var b=__extends(a,pinetree.EventDispatcher);b.addedToStage=function(){if(!this.isInitialized){this.isInitialized=true}};b.removedFromStage=function(){this.stopTweenBackgroundColor();if(this._isTweeningBgColor){this.backgroundColor=this._tweenBgDestColor}var d=this._animations.length,c;while(d--){c=this._animations[d];if(c&&c.parentNode){c.parentNode.removeChild(c)}}this._animations.splice(0,this._animations.length)};b.addEventListener=function(e,g,c,d){if(e==pinetree.Event.ENTER_FRAME){pinetree.timeMachine.add(this)}pinetree.EventDispatcher.prototype.addEventListener.call(this,e,g,c,d)};b.removeEventListener=function(d,e,c){if(d==pinetree.Event.ENTER_FRAME){pinetree.timeMachine.remove(this)}pinetree.EventDispatcher.prototype.removeEventListener.call(this,d,e,c)};b.addTo=function(c){if(c instanceof pinetree.DisplayObjectContainer){c.addChild(this)}};b.removeFromParent=function(c){if(!!c){this.dispose()}if(this._parent&&(this._parent instanceof pinetree.DisplayObjectContainer)){this._parent.removeChild(this)}};b.tweenAlphaByCSS=function(g,h,d,j,k,i){var c="tween_alpha_"+Math.floor(Math.random()*4294967295);var e=c+" {0% {opacity:"+this._alpha+"} 100% {opacity:"+g+"}}";return this.tweenPropertyByCSS(c,e,["alpha"],[g],h,d,j,k,i)};b.tweenXByCSS=function(g,h,d,j,k,i){var c="tween_x_"+Math.floor(Math.random()*4294967295);var e=c+" {0% {left:"+this._x+"px} 100% {left:"+g+"px}}";return this.tweenPropertyByCSS(c,e,["x"],[g],h,d,j,k,i)};b.tweenYByCSS=function(g,h,d,j,k,i){var c="tween_y_"+Math.floor(Math.random()*4294967295);var e=c+" {0% {top:"+this._y+"px} 100% {top:"+g+"px}}";return this.tweenPropertyByCSS(c,e,["y"],[g],h,d,j,k,i)};b.tweenXYByCSS=function(k,j,d,g,i,l,e){var c="tween_xy_"+Math.floor(Math.random()*4294967295);var h=c+" {0% {left:"+this._x+"px; top:"+this._y+"px} 100% {left:"+k+"px; top:"+j+"px}}";return this.tweenPropertyByCSS(c,h,["x","y"],[k,j],d,g,i,l,e)};b.tweenWidthByCSS=function(g,h,d,j,k,i){var c="tween_width_"+Math.floor(Math.random()*4294967295);var e=c+" {0% {width:"+this._width+"px} 100% {width:"+g+"px}}";return this.tweenPropertyByCSS(c,e,["width"],[g],h,d,j,k,i)};b.tweenHeightByCSS=function(g,h,d,j,k,i){var c="tween_height_"+Math.floor(Math.random()*4294967295);var e=c+" {0% {height:"+this._height+"px} 100% {height:"+g+"px}}";return this.tweenPropertyByCSS(c,e,["height"],[g],h,d,j,k,i)};b.tweenSizeByCSS=function(l,j,d,g,k,m,e){var c="tween_size_"+Math.floor(Math.random()*4294967295);var i=c+" {0% {width:"+this._width+"px; height:"+this._height+"px} 100% {width:"+l+"px; height:"+j+"px}}";return this.tweenPropertyByCSS(c,i,["width","height"],[l,j],d,g,k,m,e)};b.tweenPropertyByCSS=function(h,i,k,l,d,g,j,m,e){if(!pinetree.isSupportAnimation){return false}if(d==undefined){d=0}if(g==undefined){g=0}if(!j){j="linear"}var c=pinetree.addKeyFrames(i);pinetree.setAnimation(this._htmlElement,h+" "+d+"s "+j+" "+g+"s both");this._animations.push(c);pinetree.Delay.delayCall(this,this._onTweenPropertyEnd,d+g,[c,k,l,m,e],false);return true};b._onTweenPropertyEnd=function(j,h,d,l,k){if(j){var e=this._animations.indexOf(j);if(e>-1){this._animations.splice(e,1)}if(j.parentNode){j.parentNode.removeChild(j)}}var c=h.length;for(var g=0;g<c;g++){this[h[g]]=d[g]}l&&l.apply(this,k)};b.clearAllDelays=function(){pinetree.Delay.removeByOwner(this)};b.getClip=function(){return this._clip};b.setClip=function(c){if(c){this._htmlElement.style.clip=pinetree.makeClip(c.x,c.y,c.width,c.height)}else{this._htmlElement.style.clip=pinetree.makeClip(0,0,this.width,this.height)}this._clip=c};b.getParent=function(){return this._parent};b.getStage=function(){return this._stage};b.setCursor=function(c){this._htmlElement.style.cursor=c};b.getUseMouseHand=function(){return this._useMouseHand};b.setUseMouseHand=function(c){this._useMouseHand=c;this.cursor=!!c?"pointer":"auto"};b.getPositionRef=function(){return this._htmlElement.style.position};b.setPositionRef=function(c){this._htmlElement.style.position=c};b.getHtmlElement=function(){return this._htmlElement};b.getHtmlStyle=function(){if(this._htmlElement){return this._htmlElement.style}return null};b.getComputedStyle=function(){var c=window.getComputedStyle(this.getHtmlElement(),null);return c||null};b.getBackgroundColor=function(){return this._backgroundColor};b.setBackgroundColor=function(d){this._backgroundColor=d;var c=pinetree.getRGBA(this._backgroundColor,this._backgroundAlpha);this._htmlElement.style.backgroundColor=c};b.getBackgroundAlpha=function(){return this._backgroundAlpha};b.setBackgroundAlpha=function(d){this._backgroundAlpha=d;var c=pinetree.getRGBA(this._backgroundColor,this._backgroundAlpha);this._htmlElement.style.backgroundColor=c};b.tweenBackgroundColor=function(c,d,e,g){if(d==0){this.backgroundColor=c;g&&g();return}this._isTweeningBgColor=true;this._tweenBgColorPercent=0;this._tweenBgSrcColor=this._backgroundColor;this._tweenBgDestColor=c;this.stopTweenBackgroundColor();TweenMax.to(this,isNaN(d)?1:d,{_tweenBgColorPercent:1,ease:e||Quad.easeOut,onUpdate:this.onTweenBgColorUpdate,onUpdateParams:[this],onComplete:this.onTweenBgColorComplete,onCompleteParams:[this,g]})};b.onTweenBgColorUpdate=function(c){c.backgroundColor=pinetree.getOffsetColor(c._tweenBgSrcColor,c._tweenBgDestColor,c._tweenBgColorPercent)};b.onTweenBgColorComplete=function(c,d){c._isTweeningBgColor=false;d&&d()};b.stopTweenBackgroundColor=function(){TweenMax.killTweensOf(this,false,{_tweenBgColorPercent:true})};b.getSelectable=function(){return this._selectable};b.setSelectable=function(c){this._selectable=c?true:false;if(this._selectable){this._htmlElement.onselectstart=function(){return true}}else{this._htmlElement.onselectstart=function(){return false}}};b.translate=function(c,d){this.setTransform("translate("+c+"px,"+d+"px)")};b.setTransform=function(c){pinetree.setTransform(this._htmlElement,c)};b.setTransformOrigin=function(c,e,d){pinetree.setTransformOrigin(this._htmlElement,c,e,d)};b.getId=function(){return this._id};b.setId=function(d){var c=pinetree.ids;while(c--){if(pinetree.ids[c]==d){trace("Error: at DisplayObject::setId(), this value has been used!");return}}this._id=d;pinetree.ids.push(this._id);this._htmlElement.setAttribute("id",this._id)};b.getName=function(){return this._name};b.setName=function(c){this._name=c};b.getClassName=function(){return this._className};b.setClassName=function(c){this._className=c;this._htmlElement.className=this._className};b.getAlpha=function(){return this._alpha};b.setAlpha=function(c){this._alpha=c;this._htmlElement.style.opacity=c};b.getVisible=function(){return this._htmlElement.style.display!="none"};b.setVisible=function(c){this._htmlElement.style.display=c?"inline":"none"};b.getRotation=function(){return this._rotation};b.setRotation=function(c){this._rotation=c;this.setTransform("rotate("+c+"deg)")};b.getScale=function(){return this._scale};b.setScale=function(c){this._scale=c;this.setTransform("scale("+c+")")};b.getScaleX=function(){return this._scaleX};b.setScaleX=function(c){this._scaleX=c;this.setTransform("scaleX("+c+")")};b.getScaleY=function(){return this._scaleY};b.setScaleY=function(c){this._scaleY=c;this.setTransform("scaleY("+c+")")};b.getWidth=function(){return this._htmlElement.scrollWidth};b.setWidth=function(c){this._width=c;this.validate()};b.getHeight=function(){return this._htmlElement.scrollHeight};b.setHeight=function(c){this._height=c;this.validate()};b.getScrollWidth=function(){return this._htmlElement.scrollWidth};b.getScrollHeight=function(){return this._htmlElement.scrollHeight};b.getElementOffsetWidth=function(){return this._htmlElement.offsetWidth};b.getElementOffsetHeight=function(){return this._htmlElement.offsetHeight};b.setSize=function(c,d){this.setWidth(c);this.setHeight(d)};b.getX=function(){return this._x};b.setX=function(c){if(this.useIntPosition){c=Math.round(c)}this._htmlElement.style.left=c+"px";this._x=c};b.getY=function(){return this._y};b.setY=function(c){if(this.useIntPosition){c=Math.round(c)}this._htmlElement.style.top=c+"px";this._y=c};b.setPosition=function(c,d){this.setX(c);this.setY(d)};b.setDisabled=function(d){var c=!!d;this._htmlElement.style.pointerEvents=c?"none":"auto"};b.getBounds=function(){return new pinetree.Rectangle(this.x,this.y,this.scrollWidth,this.scrollHeight)};b.getGlobalBounds=function(){var c=this.localToGlobal(new pinetree.Point());return new pinetree.Rectangle(c.x,c.y,this.scrollWidth,this.scrollHeight)};b.hitTestPoint=function(c,e){var d=this.getGlobalBounds();return d.containsPoint(new pinetree.Point(c,e))};b.hitTestObject=function(e){if(!(e instanceof pinetree.DisplayObject)){return false}if(!this.stage||!e.stage){return false}var d=this.getGlobalBounds();var c=e.getGlobalBounds();return d.intersects(c)};b.localToGlobal=function(c){if(!this.stage||!this.parent){return new pinetree.Point()}if(this.parent instanceof pinetree.Stage){return c}else{c.x+=this.x;c.y+=this.y;this.parent.localToGlobal(c)}return c};b.globalToLocal=function(c){if(!this.stage||!this.parent){return new pinetree.Point()}if(this.parent instanceof pinetree.Stage){return c}else{c.x-=this.x;c.y-=this.y;this.parent.globalToLocal(c)}return c};b.removeAllElementNodes=function(c){if(!c){return}var g=c.childNodes,e;for(var d=g.length-1;d>=0;d--){e=g.item(d);if(!e){continue}if(e.childNodes&&e.childNodes.length>0){this.removeAllElementNodes(e)}c.removeChild(e)}};b.validate=function(){if(this._width<=0){this._width=this.width}if(this._height<=0){this._height=this.height}this._htmlElement.style.width=this._width+"px";this._htmlElement.style.height=this._height+"px"};b.dispose=function(){this.isInitialized=false;this.clearAllDelays();this.stopTweenBackgroundColor();var d=this._animations.length,c;while(d--){c=this._animations[d];if(c&&c.parentNode){c.parentNode.removeChild(c)}}this._animations.splice(0,this._animations.length);this.removeAllElementNodes(this._htmlElement);pinetree.EventDispatcher.prototype.dispose.call(this)};b.toString=function(){return"[Object DisplayObject]"};pinetree.DisplayObject=a}());(function(){var a=function(){pinetree.DisplayObject.call(this);this._htmlElement=document.createElement("div");this._htmlElement.style.position="absolute";this._specialEventHandlers=[];this._mouseEnabled=true;this._mouseEnabledFromParent=true;this._mouseDownX=-1;this._mouseDownY=-1;this._isDeviceClick=false;if(pinetree.isDevice){this.addEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onDeviceClickCheck,this)}__defineGetterSetter(this,["mouseEnabled"])};var b=__extends(a,pinetree.DisplayObject);b._isSpecialInterested=function(d){var c=pinetree.MouseEvent.isInterested(d)||pinetree.KeyboardEvent.isInterested(d)||pinetree.FocusEvent.isInterested(d)||d==pinetree.Event.SCROLL;return c};b.addEventListener=function(e,g,c,d){if(this._isSpecialInterested(e)){if(pinetree.isDevice&&e==pinetree.MouseEvent.CLICK){this._addSpecialEvent(pinetree.MouseEvent.MOUSE_DOWN,g,c,d,e);this._addSpecialEvent(pinetree.MouseEvent.MOUSE_UP,g,c,d,e)}else{this._addSpecialEvent(e,g,c,d,e)}return}pinetree.DisplayObject.prototype.addEventListener.call(this,e,g,c,d)};b.removeEventListener=function(d,e,c){if(this._isSpecialInterested(d)){if(pinetree.isDevice&&d==pinetree.MouseEvent.CLICK){this._removeSpecialEvent(pinetree.MouseEvent.MOUSE_DOWN,e,c);this._removeSpecialEvent(pinetree.MouseEvent.MOUSE_UP,e,c)}else{this._removeSpecialEvent(d,e,c)}return}pinetree.DisplayObject.prototype.removeEventListener.call(this,d,e,c)};b.dispatchEvent=function(c){if(!c){return}var d=c.type||c.eventType;if(this._isSpecialInterested(d)){if(d==pinetree.MouseEvent.ROLL_OVER&&(pinetree.isChrome||pinetree.isSafari)){c=pinetree.getEvent(pinetree.MouseEvent.MOUSE_OVER)}else{if(d==pinetree.MouseEvent.ROLL_OUT&&(pinetree.isChrome||pinetree.isSafari)){c=pinetree.getEvent(pinetree.MouseEvent.MOUSE_OUT)}else{if(pinetree.isDevice&&d==pinetree.MouseEvent.CLICK){c=pinetree.getEvent(pinetree.MouseEvent.MOUSE_UP)}}}if(d==pinetree.Event.SCROLL){c.elementTarget=window}c.elementTarget=this._htmlElement;pinetree.dispatchEvent(this._htmlElement,c)}else{pinetree.DisplayObject.prototype.dispatchEvent.call(this,c)}};b._addSpecialEvent=function(i,j,c,e,k,d){if(!this._specialEventHandlers){return}var h=Delegate.create(this,this._onSpecialEventHandler,c,j,i,k);var g=i;if(i==pinetree.MouseEvent.ROLL_OVER&&(pinetree.isChrome||pinetree.isSafari)){g=pinetree.MouseEvent.MOUSE_OVER}else{if(i==pinetree.MouseEvent.ROLL_OUT&&(pinetree.isChrome||pinetree.isSafari)){g=pinetree.MouseEvent.MOUSE_OUT}}if(i==pinetree.Event.SCROLL){d=window}pinetree.addEventListener(d||this._htmlElement,g,h,false);this._specialEventHandlers.push({type:i,owner:c,listener:j,newListener:h,element:d||this._htmlElement,originType:k})};b._onSpecialEventHandler=function(p,d,c,j,l){if(!this._mouseEnabled||!this._mouseEnabledFromParent){return}p.elementTarget=p.elementTarget||this._htmlElement;p.customTarget=this;if(this._isSpecialInterested(j)){var g=p.clientX;var e=p.clientY;var m=p.screenX;var k=p.screenY;if(pinetree.isDevice&&!__global.isDebug){if(j==pinetree.MouseEvent.MOUSE_UP){if(p&&p.changedTouches){g=p.changedTouches[0].pageX;e=p.changedTouches[0].pageY}else{if(window.event&&window.event.changedTouches){g=window.event.changedTouches[0].pageX;e=window.event.changedTouches[0].pageY}}}else{if(p&&p.touches){g=p.touches[0].pageX;e=p.touches[0].pageY}else{if(window.event&&window.event.touches){g=window.event.touches[0].pageX;e=window.event.touches[0].pageY}}}m=g;k=e}p.mouseX=g;p.mouseY=e;p.stageMouseX=m;p.stageMouseY=k}if(pinetree.isDevice&&l==pinetree.MouseEvent.CLICK){if(j==pinetree.MouseEvent.MOUSE_DOWN){this._mouseDownX=this.stage.mouseX;this._mouseDownY=this.stage.mouseY;this._isDeviceClick=true;return}else{if(j==pinetree.MouseEvent.MOUSE_UP){if(this._mouseDownX<0||this._mouseDownY<0){return}var h=Math.sqrt(Math.pow(this._mouseDownX-this.stage.mouseX,2)+Math.pow(this._mouseDownY-this.stage.mouseY,2));this._mouseDownX=-1;this._mouseDownY=-1;if(h>pinetree.touchGapSet||!this._isDeviceClick){return}this._isDeviceClick=false}}}var i,o;if(j==pinetree.MouseEvent.MOUSE_WHEEL){var n=0;if(pinetree.isFirefox){n=p.deltaY/3}else{n=p.deltaY/120}p.delta=-n*pt.SCOLL_SPEED}else{if(j==pinetree.MouseEvent.ROLL_OVER&&(pinetree.isChrome||pinetree.isSafari)){i=p.currentTarget,o=p.relatedTarget||p.fromElement;if(!pinetree.containsElement(i,o)&&i!==o){c.call(d,p)}return}else{if(j==pinetree.MouseEvent.ROLL_OUT&&(pinetree.isChrome||pinetree.isSafari)){i=p.currentTarget,o=p.relatedTarget||p.toElement;if(!pinetree.containsElement(i,o)&&i!==o){c.call(d,p)}return}}}c.call(d,p)};b._removeSpecialEvent=function(g,h,c){if(!this._specialEventHandlers){return}var d=this._specialEventHandlers.length,j,e;while(d--){j=this._specialEventHandlers[d];if(j){if(j.type==g&&j.listener==h&&j.owner==c){e=j.newListener;break}}else{this._specialEventHandlers[d]=null;this._specialEventHandlers.splice(d,1)}}if(e){pinetree.removeEventListener(j.element,g,e,false);j.listener=null;j.newListener=null;j.owner=null;j.type=null;j.originType=null;j.element=null;delete j.listener;delete j.newListener;delete j.owner;delete j.type;delete j.element;this._specialEventHandlers[d]=null;this._specialEventHandlers.splice(d,1)}};b.hasEventListener=function(d){if(this._specialEventHandlers&&this._isSpecialInterested(d)){var c=this._specialEventHandlers.length,e;while(c--){e=this._specialEventHandlers[c];if(e){if(e.originType==d){return true}}}}return pinetree.DisplayObject.prototype.hasEventListener.call(this,d)};b._onDeviceClickCheck=function(c){if(!this._isDeviceClick){return}this._isDeviceClick=false};b.getMouseEnabled=function(){return this._mouseEnabled};b.setMouseEnabled=function(c){this._mouseEnabled=c;if(c){if(this.stage&&this.hitTestPoint(this.stage.mouseX,this.stage.mouseY)){this.dispatchWith(pinetree.MouseEvent.ROLL_OVER);if(!(pinetree.isChrome||pinetree.isSafari)){this.dispatchWith(pinetree.MouseEvent.MOUSE_OVER)}}this._htmlElement.style.cursor="auto"}else{this.dispatchWith(pinetree.MouseEvent.ROLL_OUT);if(!(pinetree.isChrome||pinetree.isSafari)){this.dispatchWith(pinetree.MouseEvent.MOUSE_OUT)}this._htmlElement.style.cursor="default"}};b.dispose=function(){if(this._specialEventHandlers){var c=this._specialEventHandlers.length,e,d;while(c--){e=this._specialEventHandlers[c];if(e){d=e.newListener;if(d){pinetree.removeEventListener(e.element,e.type,d,false);e.listener=null;e.newListener=null;e.owner=null;e.type=null;e.element=null;delete e.listener;delete e.newListener;delete e.owner;delete e.type;delete e.element;this._specialEventHandlers[c]=null;this._specialEventHandlers.splice(c,1)}}else{this._specialEventHandlers[c]=null;this._specialEventHandlers.splice(c,1)}}}if(pinetree.isDevice){this.removeEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onDeviceClickCheck,this)}this._specialEventHandlers=null;pinetree.DisplayObject.prototype.dispose.call(this)};b.toString=function(){return"[Object InteractiveObject]"};pinetree.InteractiveObject=a}());(function(){var a=function(){pinetree.InteractiveObject.call(this);this._mouseChildren=true;this._children=[];__defineGetterSetter(this,["numChildren","mouseChildren"])};var b=__extends(a,pinetree.InteractiveObject);b.contains=function(c){if(!c){trace("error: at DisplayObjectContainer::contains(), child is null!");return false}if(!(c instanceof pinetree.DisplayObject)){trace("error: at DisplayObjectContainer::contains(), child is not a displayobject!");return false}return this.getChildIndex(c)>-1};b.addChild=function(c){if(!c){trace("error: at DisplayObjectContainer::addChild(), child is null!");return null}if(!(c instanceof pinetree.DisplayObject)){trace("error: at DisplayObjectContainer::addChild(), child is not a displayobject!");return null}this.addChildAt(c,this.getNumChildren());return c};b.addChildAt=function(d,c){if(!d){trace("error: at DisplayObjectContainer::addChildAt(), child is null!");return null}if(!(d instanceof pinetree.DisplayObject)){trace("error: at DisplayObjectContainer::addChildAt(), child is not a displayobject!");return null}if(!this.contains(d)){if(d.parent){d.removeFromParent()}this._children.push(d);this._htmlElement.appendChild(d.getHtmlElement());d._parent=this;this.setChildEnabled(this._mouseChildren?this._mouseEnabledFromParent:false,false);if((d instanceof pinetree.Sprite)&&!this._mouseChildren){d.getHtmlElement().style.cursor="default"}this._setChildStage(d,this.stage!=null)}if(d instanceof pinetree.Sprite){d.buttonMode=d.buttonMode}this.setChildIndex(d,c);return d};b._setChildStage=function(g,d){if((g instanceof pinetree.DisplayObjectContainer)&&g.numChildren>0){var c=g.numChildren;while(c--){this._setChildStage(g.getChildAt(c),d)}}var e=(g._stage&&!d)||(!g._stage&&d);if(e){if(d){g._stage=pinetree.stage;g.dispatchWith(pinetree.Event.ADDED_TO_STAGE);g.addedToStage()}else{g.dispatchWith(pinetree.Event.REMOVED_FROM_STAGE);g.removedFromStage();g._stage=null}}};b.removeChild=function(d){if(!d){trace("error: at DisplayObjectContainer::removeChild(), child is null!");return}if(!(d instanceof pinetree.DisplayObject)){trace("error: at DisplayObjectContainer::removeChild(), child is not a displayobject!");return}var c=this.getChildIndex(d);if(c>-1){this._children[c]=null,this._children.splice(c,1);d._mouseEnabledFromParent=true;this._htmlElement.removeChild(d.getHtmlElement());if(d instanceof pinetree.Sprite){d.buttonMode=d.buttonMode}d._parent=null;this._setChildStage(d,false);this._updateIndex()}};b.removeChildAt=function(c){var d=this.getChildAt(c);if(d){this.removeChild(d)}else{trace("error: at DisplayObjectContainer::removeChildAt(), child is null!")}return d};b.removeAllChildren=function(){var c=this.getNumChildren();while(c--){this.removeChildAt(c)}this._children.splice(0,this._children.length)};b.getChildIndex=function(d){var c=this._children.length;while(c--){if(this._children[c]==d){return c}}return -1};b.getChildAt=function(c){if(c<0||c>this._children.length-1){return null}return this._children[c]};b.setChildIndex=function(e,c){if(!e){trace("error: at DisplayObjectContainer::setChildIndex(), child is null!");return}if(!(e instanceof pinetree.DisplayObject)){trace("error: at DisplayObjectContainer::setChildIndex(), child is not a displayobject!");return}var d=this.getChildIndex(e);if(d<0){return}if(c<0||c>=this._children.length){c=this._children.length-1}this._children.splice(d,1);this._children.splice(c,0,e);this._updateIndex()};b._updateIndex=function(){var c=this._children.length;while(c--){this._children[c].getHtmlElement().style.zIndex=c}};b.getNumChildren=function(){return this._children.length};b.getChildById=function(e){var c=this.getNumChildren(),d;while(c--){d=this.getChildAt(c);if(d&&d.id==e){return d}}return null};b.getChildByName=function(c){var d=this.getNumChildren(),e;while(d--){e=this.getChildAt(d);if(e&&e.name==c){return e}}return null};b.swapChildren=function(d,c){if(!d||!c){trace("error: at DisplayObjectContainer::swapChildren(), child1 or child2 is null!");return}if(!(d instanceof pinetree.DisplayObject)||!(c instanceof pinetree.DisplayObject)){trace("error: at DisplayObjectContainer::swapChildren(), child1 or child2 is not a displayobject!");return}var g=this.getChildIndex(d);var e=this.getChildIndex(c);if(g<0||e<0){trace("error: at DisplayObjectContainer::swapChildren(), child1 or child2 is not a child of this Sprite!");return}this.swapChildrenAt(g,e)};b.swapChildrenAt=function(g,e){var d=this.getChildAt(g);var c=this.getChildAt(e);if(!d||!c){trace("error: at DisplayObjectContainer::swapChildrenAt(), index1 or index2 is wrong!");return}this._children[g]=c;this._children[e]=d;this._updateIndex()};b.getMouseChildren=function(){return this._mouseChildren};b.setMouseChildren=function(c){this._mouseChildren=c;this.setChildEnabled(this._mouseChildren?this._mouseEnabledFromParent:false,true)};b.setChildEnabled=function(e,d){var c=this.getNumChildren(),g;while(c--){g=this.getChildAt(c);if(g){if(d){if(!e){g.dispatchWith(pinetree.MouseEvent.ROLL_OUT);if(!(pinetree.isChrome||pinetree.isSafari)){g.dispatchWith(pinetree.MouseEvent.MOUSE_OUT)}}else{if(this.mouseEnabled&&g.stage&&(!(g.stage.mouseX==0&&g.stage.mouseY==0))&&g.hitTestPoint(g.stage.mouseX,g.stage.mouseY)){g.dispatchWith(pinetree.MouseEvent.ROLL_OVER);if(!(pinetree.isChrome||pinetree.isSafari)){g.dispatchWith(pinetree.MouseEvent.MOUSE_OVER)}}}}g._mouseEnabledFromParent=e;if(g instanceof pinetree.DisplayObjectContainer){g.setChildEnabled(e,d)}}}};b.dispose=function(){this.removeAllChildren();pinetree.InteractiveObject.prototype.dispose.call(this)};b.toString=function(){return"[Object DisplayObjectContainer]"};pinetree.DisplayObjectContainer=a}());(function(){var b=function(){pinetree.DisplayObject.call(this);this._htmlElement=document.createElement("div");this._htmlElement.style.position="absolute";this._canvas=null;this._graphics=null;__defineGetterSetter(this,["graphics"])};var a=__extends(b,pinetree.DisplayObject);a.validate=function(){pinetree.DisplayObject.prototype.validate.call(this);if(this._canvas){this._canvas.style.width=this._htmlElement.style.width;this._canvas.style.height=this._htmlElement.style.height}};a.getGraphics=function(){if(!this._graphics){if(!this._canvas){this._canvas=document.createElement("canvas");this._canvas.width=1;this._canvas.height=1;this._canvas.style.position="absolute";this._htmlElement.appendChild(this._canvas)}this._graphics=new pinetree.Graphics(this._canvas)}return this._graphics};a.toString=function(){return"[Object Shape]"};pinetree.Shape=b}());(function(){var b=function(){pinetree.DisplayObject.call(this);this._htmlElement=document.createElement("div");this._htmlElement.style.position="absolute";this._color=16777215;this._width=0;this._height=0;this._tweenSrcColor=0;this._tweenDestColor=16777215;this._tweenPercent=0;this._isTweeningColor=false;__defineGetterSetter(this,["color"])};var a=__extends(b,pinetree.DisplayObject);a.getColor=function(){return this._color};a.setColor=function(c){this._color=c;this._htmlElement.style.backgroundColor=pinetree.getColorString(this._color)};a.tweenColor=function(c,d,e,g){if(d==0){this.color=c;g&&g();return}this._tweenPercent=0;this._tweenSrcColor=this._color;this._tweenDestColor=c;this._isTweeningColor=true;TweenMax.killTweensOf(this,false,{_tweenPercent:true});TweenMax.to(this,isNaN(d)?1:d,{_tweenPercent:1,ease:e||b.easeOut,onUpdate:this.onTweenColorUpdate,onUpdateParams:[this],onComplete:this.onTweenColorComplete,onCompleteParams:[this,g]})};a.onTweenColorComplete=function(c,d){c._isTweeningColor=false;d&&d()};a.onTweenColorUpdate=function(c){c.color=pinetree.getOffsetColor(c._tweenSrcColor,c._tweenDestColor,c._tweenPercent)};a.stopTweenColor=function(){TweenMax.killTweensOf(this,false,{_tweenPercent:true})};a.removedFromStage=function(){this.stopTweenColor();if(this._isTweeningColor){this.color=this._tweenDestColor}pinetree.DisplayObject.prototype.removedFromStage.call(this)};a.dispose=function(){this.stopTweenColor();pinetree.DisplayObject.prototype.dispose.call(this)};a.toString=function(){return"[Object Quad]"};pinetree.Quad=b}());(function(){var a=function(i,d,h,c,g,e){pinetree.Quad.call(this);this._canvas=null;this._graphics=null;this._isStroke=__defaultSet(g,false);this._thickness=__defaultSet(e,1);this._radiusTL=__defaultSet(i,0);this._radiusTR=__defaultSet(d,0);this._radiusBL=__defaultSet(h,0);this._radiusBR=__defaultSet(c,0);__defineGetterSetter(this,["graphics"])};var b=__extends(a,pinetree.Quad);b.getGraphics=function(){if(!this._graphics){if(!this._canvas){this._canvas=document.createElement("canvas");this._canvas.width=1;this._canvas.height=1;this._canvas.style.position="absolute";this._htmlElement.appendChild(this._canvas)}this._graphics=new pinetree.Graphics(this._canvas)}return this._graphics};b.setShadow=function(d,e,g,c,h){this.graphics.setShadow(d,e,g,c,h);this.draw()};b.getColor=function(){return this._color};b.setColor=function(c){this._color=c;this.draw()};b.getWidth=function(){return this._width};b.setWidth=function(c){this._width=c;this.draw()};b.getHeight=function(){return this._height};b.setHeight=function(c){this._height=c;this.draw()};b.draw=function(){this.graphics.clear();if(this._width<=0||this._height<=0){return}if(this._width>0&&this._height>0){this._canvas.width=this._width;this._canvas.height=this._height}if(this._isStroke){this.graphics.lineStyle(this._thickness,this._color,1);this.graphics.drawRoundRect(0,0,this._width,this._height,this._radiusTL,this._radiusTR,this._radiusBL,this._radiusBR);this.graphics.stroke()}else{this.graphics.beginFill(this._color,1);this.graphics.drawRoundRect(0,0,this._width,this._height,this._radiusTL,this._radiusTR,this._radiusBL,this._radiusBR);this.graphics.endFill()}};b.toString=function(){return"[Object CanvasQuad]"};pinetree.CanvasQuad=a}());(function(){var a=function(c,d){pinetree.CanvasQuad.call(this);this._radius=__defaultSet(c,0);this._isRegisterCenter=__defaultSet(d,false);if(this._radius>0){this.draw()}__defineGetterSetter(this,["radius"])};var b=__extends(a,pinetree.CanvasQuad);b.getWidth=function(){return this._radius+this._radius};b.setWidth=function(c){this._width=c};b.getHeight=function(){return this._radius+this._radius};b.setHeight=function(c){this._height=c};b.getRadius=function(){return this._radius};b.setRadius=function(c){if(isNaN(c)||c<0||c==this._radius){return}this._radius=c;this.draw()};b.tweenRadius=function(c,d,e,g){if(d==0){this.radius=c;g&&g();return}TweenMax.killTweensOf(this,false,{radius:true});TweenMax.to(this,isNaN(d)?1:d,{radius:c,ease:e||Quad.easeOut,onComplete:g})};b.stopTweenRadius=function(){TweenMax.killTweensOf(this)};b.draw=function(){this.graphics.clear();if(this._radius<=0){return}if(this._radius>0){this._canvas.width=this._radius+this._radius;this._canvas.height=this._radius+this._radius}this.graphics.beginFill(this._color,1);this.graphics.drawCircle(this._radius,this._radius,this._radius);this.graphics.endFill();if(this._isRegisterCenter){this._canvas.style.left=-this._radius+"px";this._canvas.style.top=-this._radius+"px"}};b.dispose=function(){this.stopTweenRadius();pinetree.CanvasQuad.prototype.dispose.call(this)};pinetree.CanvasCircle=a})();(function(){var a=function(h,g,e,c,d){this.name="";this._imageData=h;this._drawX=g||0;this._drawY=e||0;this._sourceWidth=c==undefined?this._imageData?this._imageData.width:0:c;this._sourceHeight=d==undefined?this._imageData?this._imageData.height:0:d;__defineGetterSetter(this,["imageData","drawX","drawY","sourceWidth","sourceHeight"])};a.fromBitmapData=function(c){var d=c.imageData;return new pinetree.Texture(d)};a.fromImage=function(e){var c=e.naturalWidth;var d=e.naturalHeight;var g=pinetree.BitmapUtil.getImageData(e,new pinetree.Rectangle(0,0,c,d));return new pinetree.Texture(g)};a.fromCanvas=function(d){var c=d.width;var e=d.height;var g=pinetree.BitmapUtil.getImageData(d,new pinetree.Rectangle(0,0,c,e));return new pinetree.Texture(g)};var b=a.prototype;b.getImageData=function(){return this._imageData};b.getDrawX=function(){return this._drawX};b.getDrawX=function(){return this._drawX};b.getDrawY=function(){return this._drawY};b.getSourceWidth=function(){return this._sourceWidth};b.getSourceHeight=function(){return this._sourceHeight};pinetree.Texture=a}());(function(){var a=function(d,c){this._image=d;this._jsonData=c;this._textures={};this._texturesByPrefix={};this._parse()};var b=a.prototype;b._parse=function(){var j=this._jsonData.frames;if(j&&j.length&&this._image){var e=pinetree.createCanvas(this._image.naturalWidth,this._image.naturalHeight);var d=e.getContext("2d");d.drawImage(this._image,0,0,this._image.naturalWidth,this._image.naturalHeight);var k=j.length,h,l,c,m;for(var g=0;g<k;g++){h=j[g];c=d.getImageData(h.frame.x,h.frame.y,h.frame.w,h.frame.h);l=new pinetree.Texture(c,h.spriteSourceSize.x,h.spriteSourceSize.y,h.sourceSize.w,h.sourceSize.h);m=this._removeFileExtension(h.filename);l.name=m;this._textures[m]=l}}};b.getTexture=function(c){return this._textures[c]};b.getTextures=function(g){if(this._texturesByPrefix[g]){return this._texturesByPrefix[g]}var e=[];for(var d in this._textures){if(d.indexOf(g)==0){e.push({index:d.substring(g.length),texture:this._textures[d]})}}e.sort(this._sortCompareHandler);var c=e.length;while(c--){e[c]=e[c].texture}this._texturesByPrefix[g]=e;return e};b._sortCompareHandler=function(e,c){var g=parseFloat(e.index);var d=parseFloat(c.index);if(g<d){return -1}else{if(g>d){return 1}else{return 0}}};b._removeFileExtension=function(d){var c=d.lastIndexOf(".");if(c>0){return d.substring(0,c)}return d};b.dispose=function(){var c;for(c in this._textures){delete this._textures[c]}for(c in this._texturesByPrefix){this._texturesByPrefix[c]&&this._texturesByPrefix[c].splice(0,this._texturesByPrefix[c].length);delete this._texturesByPrefix[c]}this._image=null;this._jsonData=null};pinetree.TextureAtlas=a}());(function(){var a=function(c){pinetree.InteractiveObject.call(this);this._htmlElement=document.createElement("canvas");this._context=this._htmlElement.getContext("2d");this._htmlElement.style.position="absolute";this._originWidth=0;this._originHeight=0;this.setTexture(c);__defineGetterSetter(this,["texture","canvas","context","originWidth","originHeight"])};var b=__extends(a,pinetree.InteractiveObject);b.getTexture=function(){return this._texture};b.setTexture=function(c){this._texture=c;this._context.clearRect(0,0,this._htmlElement.width,this._htmlElement.height);if(c){this._htmlElement.width=c.sourceWidth;this._htmlElement.height=c.sourceHeight;this._context.putImageData(c.imageData,c.drawX,c.drawY);this._originWidth=c.sourceWidth;this._originHeight=c.sourceHeight;this._width=this._htmlElement.width;this._height=this._htmlElement.height}};b.getCanvas=function(){return this._htmlElement};b.getContext=function(){return this._context};b.getWidth=function(){return this._width};b.getHeight=function(){return this._height};b.getOriginWidth=function(){return this._originWidth};b.getOriginHeight=function(){return this._originHeight};pinetree.TextureImage=a}());(function(){var a=function(d,c,e,g){pinetree.EventDispatcher.call(this);this._disposed=false;this._width=d||0;this._height=c||0;this._transparent=e==undefined?true:false;this._fillColor=g||0;this._imageData=null;__defineGetterSetter(this,["imageData","width","height","isTransparent","fillColor"])};var b=__extends(a,pinetree.EventDispatcher);b.clone=function(){if(this._disposed){return null}var c=new pinetree.BitmapData(this._width,this._height,this._transparent,this._fillColor);c._imageData=this._imageData;return c};b.from=function(c){this._imageData=c};b.draw=function(d,c){if(this._disposed){return}if(!c){c=new pinetree.Rectangle(0,0,d.naturalWidth||this._width,d.naturalHeight||this._height)}if(this._width<=0){this._width=c.width}if(this._height<=0){this._height=c.height}if(c.width>this._width){c.width=this._width}if(c.height>this._height){c.height=this._height}this._imageData=pinetree.BitmapUtil.getImageData(d,c)};b.getImageData=function(){return this._imageData};b.getWidth=function(){return this._width};b.getHeight=function(){return this._height};b.getIsTransparent=function(){this._transparent};b.getFillColor=function(){return this._fillColor};b.dispose=function(){if(this._disposed){return}this.dispatchWith(pinetree.Event.DISPOSE);this._disposed=true;pinetree.EventDispatcher.prototype.dispose.call(this)};b.toString=function(){return"[Object BitmapData]"};pinetree.BitmapData=a}());(function(){var a=function(c){pinetree.DisplayObject.call(this);this._bitmapData=null;this._htmlElement=document.createElement("canvas");this._context=this._htmlElement.getContext("2d");this._htmlElement.style.position="absolute";this.setBitmapData(c||null);__defineGetterSetter(this,["bitmapData","canvas","context"])};var b=__extends(a,pinetree.DisplayObject);b.getBitmapData=function(){return this._bitmapData};b.setBitmapData=function(c){if(this._bitmapData==c){return}if(!c){if(this._bitmapData){this._bitmapData.removeEventListener(pinetree.Event.DISPOSE,this._onBitmapDataDispose,this);this._context.clearRect(0,0,this._bitmapData.width,this._bitmapData.height);this._bitmapData=null}return}if(!(c instanceof pinetree.BitmapData)){return}if(!this._bitmapData){c.addEventListener(pinetree.Event.DISPOSE,this._onBitmapDataDispose,this)}this._bitmapData=c;this._htmlElement.width=this._bitmapData.width;this._htmlElement.height=this._bitmapData.height;var d=this._bitmapData.imageData||this._context.createImageData(this._bitmapData.width,this._bitmapData.height);this._context.putImageData(d,0,0)};b._onBitmapDataDispose=function(){this._bitmapData.removeEventListener(pinetree.Event.DISPOSE,this._onBitmapDataDispose,this);this._context.clearRect(0,0,this._bitmapData.width,this._bitmapData.height);this._bitmapData=null};b.getCanvas=function(){return this._htmlElement};b.getContext=function(){return this._context};b.toString=function(){return"[Object Bitmap]"};pinetree.Bitmap=a}());(function(){var a=function(){pinetree.InteractiveObject.call(this);this._width=-1;this._height=-1;this._overflow=null;this._limitValue=0;this._limitWithNumlines=true;this._htmlElement.style.display="block";this.className="textfield";this._text="";this._textColor=-1;this._align="left";this._tweenSrcColor=0;this._tweenDestColor=16777215;this._tweenPercent=0;__defineGetterSetter(this,["textColor","text","htmlText","textWidth","textHeight","wordWrap","fontSize","bold","lineHeight","overflow","align","textAlign","fontFamily"])};var b=__extends(a,pinetree.InteractiveObject);b.setLimitation=function(g,c){if(!this.computedStyle){return}this._limitValue=g;this._limitWithNumlines=!!c;this.overflow="hidden";var i=0;var e=Math.floor(this._pixelToNumber(this.computedStyle.lineHeight));if(isNaN(e)){return}this.height=1;if(this._limitWithNumlines){i=g}else{i=Math.floor(this._limitValue/e)}var d=i*e;if(d<=this.height){this.height=d}else{this.height=this.height}if(!this._limitWithNumlines){if(g<e){this.height=1}}};b._pixelToNumber=function(c){if(c==undefined){return 0}if(c.toLowerCase().indexOf("px")>-1){c=c.replace("px","")}return parseFloat(c)};b.getText=function(){return this._text};b.setText=function(c){if(c==this._text){return}this._text=c;if(pinetree.isFirefox){this._htmlElement.textContent=c}else{this._htmlElement.innerText=c}};b.getAlign=function(){return this._align};b.setAlign=function(c){this._align=c;this._htmlElement.style.textAlign=c};b.getTextAlign=function(){return this._align};b.setTextAlign=function(c){this._align=c;this._htmlElement.style.textAlign=c};b.setLineHeight=function(c){this.htmlStyle.lineHeight=c};b.getHtmlText=function(){return this._htmlText};b.setHtmlText=function(c){if(c==this._htmlText){return}this._htmlText=c;this._htmlElement.innerHTML=c};b.getTextColor=function(){return this._textColor};b.setTextColor=function(c){if(c==this._textColor){return}this._textColor=c;this._htmlElement.style.color=pinetree.getColorString(this._textColor)};b.setFontFamily=function(c){this._htmlElement.style.fontFamily=c};b.setWordWrap=function(c){this._htmlElement.style.whiteSpace=!c?"nowrap":"pre-wrap"};b.setBold=function(c){this._htmlElement.style.fontWeight=!c?"normal":"bolder"};b.setOverflow=function(c){if(this._overflow==c){return}this._overflow=c;this._htmlElement.style.overflow=c};b.getTextWidth=function(){return this._htmlElement.clientWidth};b.getTextHeight=function(){return this._htmlElement.clientHeight};b.getFontSize=function(){return this._htmlElement.style.fontSize};b.setFontSize=function(c){this._htmlElement.style.fontSize=c+"px"};b.tweenColor=function(c,d,e,g){if(d==0){this.textColor=c;return}this._tweenPercent=0;this._tweenSrcColor=this._textColor;this._tweenDestColor=c;TweenMax.killTweensOf(this,false,{_tweenPercent:true});TweenMax.to(this,isNaN(d)?1:d,{_tweenPercent:1,ease:e||Quad.easeOut,onUpdate:this.onTweenColorUpdate,onUpdateParams:[this],onComplete:this.onTweenColorComplete,onCompleteParams:[this,g]})};b.onTweenColorComplete=function(c,d){d&&d()};b.onTweenColorUpdate=function(c){var d=pinetree.getOffsetColor(c._tweenSrcColor,c._tweenDestColor,c._tweenPercent);c.textColor=d};b.stopTweenColor=function(){TweenMax.killTweensOf(this,false,{_tweenPercent:true})};b.removedFromStage=function(){pinetree.InteractiveObject.prototype.removedFromStage.call(this)};b.dispose=function(){TweenMax.killTweensOf(this);pinetree.InteractiveObject.prototype.dispose.call(this)};b.toString=function(){return"[Object TextField]"};pinetree.TextField=a}());(function(){var a=function(){pinetree.InteractiveObject.call(this);this._width=100;this._height=50;this._htmlElement=document.createElement("textarea");this._htmlElement.style.display="block";this._htmlElement.style.border="0px";this._htmlElement.style.resize="none";this._htmlElement.style.overflow="hidden";this._htmlElement.style.outline="none";this._htmlElement.style.position="absolute";this._htmlElement.style.backgroundColor=pinetree.getRGBA(0,0);this._restrict="";this.className="input_textfield";this._textColor=0;this._selectable=true;this._tweenSrcColor=0;this._tweenDestColor=16777215;this._tweenPercent=0;this.setWordWrap(false);this.width=this._width;this.height=this._height;__defineGetterSetter(this,["textColor","text","textWidth","textHeight","wordWrap","fontSize","restrict"])};var b=__extends(a,pinetree.InteractiveObject);b.addedToStage=function(){pinetree.InteractiveObject.prototype.addedToStage.call(this);this.addEventListener(pinetree.KeyboardEvent.KEYPRESS,this._onKeyPress,this)};b.removedFromStage=function(){this.removeEventListener(pinetree.KeyboardEvent.KEYPRESS,this._onKeyPress,this);pinetree.InteractiveObject.prototype.removedFromStage.call(this)};b._onKeyPress=function(c){if(!this._restrict){return}var e=c.keyCode;var d=String.fromCharCode(e);if(this._restrict.indexOf(d)==-1){c.returnValue=false}};b.setRestrict=function(c){this._restrict=c};b.focus=function(){this._htmlElement.focus()};b.getText=function(){return this._htmlElement.value};b.setText=function(c){if(c==this._htmlElement.value){return}this._htmlElement.value=c};b.getTextColor=function(){return this._textColor};b.setTextColor=function(c){if(c==this._textColor){return}this._textColor=c;this._htmlElement.style.color=pinetree.getColorString(this._textColor)};b.setWordWrap=function(c){this._htmlElement.style.whiteSpace=!c?"nowrap":"pre-wrap"};b.getTextWidth=function(){return this._width};b.getTextHeight=function(){return this._height};b.getWidth=function(){return this._htmlElement.scrollWidth};b.getHeight=function(){return this._htmlElement.scrollHeight};b.getFontSize=function(){return this._htmlElement.style.fontSize};b.setFontSize=function(c){this._htmlElement.style.fontSize=c+"px"};b.tweenColor=function(c,d,e,g){if(d==0){this.color=c;return}this._tweenPercent=0;this._tweenSrcColor=this._textColor;this._tweenDestColor=c;TweenMax.to(this,isNaN(d)?1:d,{_tweenPercent:1,ease:e||Quad.easeOut,onUpdate:Delegate.create(this,this.onTweenColorUpdate),onComplete:g})};b.onTweenColorUpdate=function(){var c=pinetree.getOffsetColor(this._tweenSrcColor,this._tweenDestColor,this._tweenPercent);this.textColor=c};b.stopTweenColor=function(){TweenMax.killTweensOf(this)};b.toString=function(){return"[Object InputTextField]"};pinetree.InputTextField=a}());(function(){var a=function(){pinetree.DisplayObjectContainer.call(this);this._buttonMode=false;this._canvas=null;this._graphics=null;__defineGetterSetter(this,["buttonMode","graphics"])};var b=__extends(a,pinetree.DisplayObjectContainer);b.getButtonMode=function(){return this._buttonMode};b.setButtonMode=function(c){this._buttonMode=c;this._htmlElement.style.cursor=c&&this._mouseEnabled?"pointer":"auto"};b.getGraphics=function(){if(!this._graphics){if(!this._canvas){this._canvas=document.createElement("canvas");this._canvas.width=1;this._canvas.height=1;this._canvas.style.position="absolute";this._htmlElement.appendChild(this._canvas)}this._graphics=new pinetree.Graphics(this._canvas)}return this._graphics};b.setMouseEnabled=function(c){pinetree.DisplayObjectContainer.prototype.setMouseEnabled.call(this,c);if(c){this._htmlElement.style.cursor=this._buttonMode?"pointer":"auto"}else{this._htmlElement.style.cursor="default"}};b.startDrag=function(d,c){pinetree.dragPlugin.startDrag(this,d,c)};b.stopDrag=function(){pinetree.dragPlugin.stopDrag()};b.validate=function(){pinetree.DisplayObjectContainer.prototype.validate.call(this);if(this._canvas){this._canvas.style.width=this._htmlElement.style.width;this._canvas.style.height=this._htmlElement.style.height}};b.dispose=function(){this.stopDrag();pinetree.DisplayObjectContainer.prototype.dispose.call(this)};b.toString=function(){return"[Object Sprite]"};pinetree.Sprite=a}());(function(){var b=function(c,e,d){pinetree.Sprite.call(this);if(!this._canvas){this._canvas=document.createElement("canvas");this._canvas.width=1;this._canvas.height=1;this._canvas.style.position="absolute";this._htmlElement.appendChild(this._canvas)}this._context=this._canvas.getContext("2d");this._width=0;this._height=0;this._isPlaying=false;this._textures=null;this._textureImages=null;this._timeScale=e==undefined?1:Math.floor(e);this._timeCount=0;if(this._timeScale<1){this._timeScale=1}this._reverse=false;this._currentFrame=1;this._totalFrames=0;this.setTextures(c);if(d==undefined||d==true){this.play()}__defineGetterSetter(this,["textures","isPlaying","currentFrame","totalFrames","reverse"])};var a=__extends(b,pinetree.Sprite);a.setTextures=function(e){if(e&&e.constructor!=Array){trace("Error: at pinetree.MovieClip::setTextures(), value is not an Array!");return}this._textures=e;this._textureImages=[];if(this._textures&&this._textures.length>0){this._totalFrames=this._textures.length;var c;for(var d=0;d<this._totalFrames;d++){c=new pinetree.TextureImage(this._textures[d]);this._textureImages.push(c);if(c.width>this._width){this._width=c.width}if(c.height>this._height){this._height=c.height}}}else{this._totalFrames=0}this._currentFrame=1;this._timeCount=0;this._draw()};a.render=function(){if(this._isPlaying){this._timeCount++;if(this._timeCount==this._timeScale){this._timeCount=0;if(this._reverse){this._currentFrame--;if(this._currentFrame<1){this._currentFrame=this._totalFrames}}else{this._currentFrame++;if(this._currentFrame>this._totalFrames){this._currentFrame=1}}this._draw()}}};a._draw=function(){if(this._totalFrames<1){return}var c=this._textureImages[this._currentFrame-1];if(c){this.removeAllChildren();this.addChild(c)}};a.setColor=function(d,k){var j,c,l,m,e;var g=this._textureImages.length;while(g--){e=this._textureImages[g];j=e.context;c=e.width;l=e.height;m=j.getImageData(0,0,c,l);this._context.clearRect(0,0,this._canvas.width,this._canvas.height);this._canvas.width=c;this._canvas.height=l;this._context.putImageData(m,0,0);j.clearRect(0,0,c,l);j.globalAlpha=k==undefined?1:k;j.fillStyle=pinetreecom.StringUtil.toColorString(d,false);j.fillRect(0,0,c,l);j.globalCompositeOperation="destination-atop";j.globalAlpha=1;j.drawImage(this._canvas,0,0)}this._context.clearRect(0,0,c,l);this._canvas.width=1;this._canvas.height=1};a.play=function(){this._isPlaying=true;pinetree.timeMachine.addRender(this,this.render);this._draw()};a.stop=function(){pinetree.timeMachine.removeRender(this);this._isPlaying=false;this._draw();this._timeCount=0};a.gotoAndPlay=function(c){this._currentFrame=c;this.play()};a.gotoAndStop=function(c){this._currentFrame=c;this.stop()};a.removeAllFrames=function(){this._textureImages.splice(0,this._totalFrames);this._textures=[];this._totalFrames=0};a.getIsPlaying=function(){return this._isPlaying};a.getWidth=function(){return this._width};a.getHeight=function(){return this._height};a.getCurrentFrame=function(){return this._currentFrame};a.getTotalFrames=function(){return this._totalFrames};a.setReverse=function(c){this._reverse=c?true:false};a.toString=function(){return"[Object MovieClip]"};pinetree.MovieClip=b}());(function(){var a=function(){pinetree.Sprite.call(this);this._overIcon=null;this._overBg=null;this._outIcon=null;this._outBg=null;this._isOver=false;this.addEventListener(pinetree.Event.ROLL_OVER,this._onOverButton,this);this.addEventListener(pinetree.Event.ROLL_OUT,this._onOutButton,this);this.buttonMode=true;__defineGetterSetter(this,["isOver"])};var b=__extends(a,pinetree.Sprite);b.setOverState=function(d,c,e){this._overIcon=(d instanceof pinetree.DisplayObject)?d:null;this._overBg=(c instanceof pinetree.DisplayObject)?c:null;this._overBg&&this.addChild(this._overBg);this._overIcon&&this.addChild(this._overIcon);if(this._overIcon){this._overIcon.visible=false}if(this._overBg){this._overBg.visible=false}if(!!e&&this._overIcon&&this._overBg){this._overIcon.x=(this._overBg.width-this._overIcon.width)>>1;this._overIcon.y=(this._overBg.height-this._overIcon.height)>>1}};b.setOutState=function(d,c,e){this._outIcon=(d instanceof pinetree.DisplayObject)?d:null;this._outBg=(c instanceof pinetree.DisplayObject)?c:null;this._outBg&&this.addChild(this._outBg);this._outIcon&&this.addChild(this._outIcon);if(this._outIcon){this._outIcon.visible=true}if(this._outBg){this._outBg.visible=true}if(!!e&&this._outIcon&&this._outBg){this._outIcon.x=(this._outBg.width-this._outIcon.width)>>1;this._outIcon.y=(this._outBg.height-this._outIcon.height)>>1}};b._onOverButton=function(c){if(this._overIcon){this._overIcon.visible=true}if(this._overBg){this._overBg.visible=true}if(this._outIcon){this._outIcon.visible=false}if(this._outBg){this._outBg.visible=false}this._isOver=true};b._onOutButton=function(c){if(this._overIcon){this._overIcon.visible=false}if(this._overBg){this._overBg.visible=false}if(this._outIcon){this._outIcon.visible=true}if(this._outBg){this._outBg.visible=true}this._isOver=false};b.getIsOver=function(){return this._isOver};pinetree.Button=a}());(function(){var b=function(e,d,c){pinetree.DisplayObjectContainer.call(this);this._htmlElement=e;this._stage=this;this._needResize=!!d;this._needMouseMove=!!c;this._mouseX=0;this._mouseY=0;if(this._needMouseMove){this.addEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onMouseMove,this,pinetree.EventDispatcher.MAX_PRIORITY)}if(this._needResize){this._resizeEvent=pinetree.getEvent(pinetree.Event.RESIZE);this._addSpecialEvent(pinetree.Event.RESIZE,this._onRootResize,this,0,pinetree.Event.RESIZE,window);this.addEventListener(pinetree.Event.RESIZE,this._onResize,this);this._onResize(null);pinetree.isSmallMode=this.getStageWidth()<pinetree.EDGE_DEVICE_WIDTH||pinetree.isDevice?true:false;pt.TOP_HEIGHT=pinetree.isSmallMode?pt.DEVICE_TOP_HEIGHT_CONST:pt.TOP_HEIGHT_CONST;if(pt.config.menuPosition=="top"&&!pinetree.isSmallMode){pt.TOP_HEIGHT=pt.FOOTER_HEIGHT_CONST}pt.FOOTER_HEIGHT=pinetree.isSmallMode||pt.config.footerPosition=="top"?0:pt.FOOTER_HEIGHT_CONST}this._selectable=true;__defineGetterSetter(this,["stageWidth","stageHeight","mouseX","mouseY"])};var a=__extends(b,pinetree.DisplayObjectContainer);a._onRootResize=function(c){pinetree.isSmallMode=this.stageWidth<pinetree.EDGE_DEVICE_WIDTH||pinetree.isDevice?true:false;pt.TOP_HEIGHT=pinetree.isSmallMode?pt.DEVICE_TOP_HEIGHT_CONST:pt.TOP_HEIGHT_CONST;if(pt.config.menuPosition=="top"&&!pinetree.isSmallMode){pt.TOP_HEIGHT=pt.FOOTER_HEIGHT_CONST}pt.FOOTER_HEIGHT=pinetree.isSmallMode||pt.config.footerPosition=="top"?0:pt.FOOTER_HEIGHT_CONST;this.dispatchEvent(this._resizeEvent)};a._onMouseMove=function(c){if(pinetree.isDevice){this._mouseX=c.mouseX;this._mouseY=c.mouseY}else{if(c.pageX||c.pageY){this._mouseX=c.pageX-pinetree.rootHtmlElement.offsetLeft;this._mouseY=c.pageY-pinetree.rootHtmlElement.offsetTop}else{this._mouseX=c.clientX+document.body.scrollLeft-document.body.clientLeft-pinetree.rootHtmlElement.offsetLeft;this._mouseY=c.clientY+document.body.scrollTop-document.body.clientTop-pinetree.rootHtmlElement.offsetTop}}};a.getMouseX=function(){return this._mouseX};a.getMouseY=function(){return this._mouseY};a._onResize=function(c){this.width=this.stageWidth;this.height=this.stageHeight};a.getStageWidth=function(){var c=window.innerWidth;if(typeof c!="number"){if(document.compatMode=="number"){c=document.documentElement.clientWidth}else{c=document.body.clientWidth}}return c-pinetree.rootHtmlElement.offsetLeft};a.getStageHeight=function(){var c=window.innerHeight;if(typeof c!="number"){if(document.compatMode=="number"){c=document.documentElement.clientHeight}else{c=document.body.clientHeight}}return c-pinetree.rootHtmlElement.offsetTop};a.addEventListener=function(e,g,c,d){if(this._isSpecialInterested(e)){this._addSpecialEvent(e,g,c,d,e,window);return}pinetree.DisplayObjectContainer.prototype.addEventListener.call(this,e,g,c,d)};a.toString=function(){return"[Object Stage]"};pinetree.Stage=b}());(function(){var a=function(){this._listenObjects=[];this._listenRenders=new pinetree.Dictionary();this._enterFrameEvents=new pinetree.Dictionary();this._renderHandler=Delegate.create(this,this._onTimer);this._duration=0;if(!requestAnimationFrame){this._duration=1000/60;setTimeout(this._renderHandler,this._duration)}else{requestAnimationFrame(this._renderHandler)}};var b=a.prototype;b._onTimer=function(){var d=this._listenObjects.length,h,g;while(d--){h=this._listenObjects[d];if(h){g=this._enterFrameEvents.get(h);g&&h.dispatchEvent(g)}else{this._listenObjects.splice(d,1)}}d=this._listenRenders.length;var c,e;while(d--){c=this._listenRenders.getKeyByIndex(d);e=this._listenRenders.getValueByIndex(d);if(c&&e){e.apply(c,null)}}if(!requestAnimationFrame){setTimeout(this._renderHandler,this._duration)}else{requestAnimationFrame(this._renderHandler)}};b.add=function(e){if(!(e instanceof pinetree.DisplayObject)){return}var c=this._listenObjects.length;while(c--){if(this._listenObjects[c]==e){return}}var d=pinetree.getEvent(pinetree.Event.ENTER_FRAME);this._enterFrameEvents.set(e,d);this._listenObjects.push(e)};b.remove=function(d){if(!(d instanceof pinetree.DisplayObject)){return}var c=this._listenObjects.length;while(c--){if(this._listenObjects[c]==d){this._listenObjects.splice(c,1);this._enterFrameEvents.remove(d);return}}};b.addRender=function(c,d){if(!c||this._listenRenders.get(c)){return}this._listenRenders.set(c,d)};b.removeRender=function(c){if(!c||!this._listenRenders.get(c)){return}this._listenRenders.remove(c)};b.toString=function(){return"[Object TimeMachine]"};pinetree.timeMachine=new a()}());(function(){var a=function(c,e,g,d){pinetree.Sprite.call(this);this._viewWidth=c;this._viewHeight=e;this.width=c;this.height=e;this.backgroundColor=g;this.backgroundAlpha=d;this._container=new pinetree.Sprite();this.addChild(this._container);this._txt=new pinetree.TextField();this._container.addChild(this._txt);this._txt.width=c-20;this._txt.height=e-20-22;this._txt.fontSize=10;this._txt.wordWrap=true;this._txt.textColor=16777215;this._txt.setPosition(10,10);this._txt.htmlText="";this._txt.htmlElement.style.overflowY="auto";var i="";this._openBtn=new pinetree.Sprite();this.addChild(this._openBtn);this._openBtn.x=7;this._openBtn.y=5;i="<span style='color:#ffffff;cursor:pointer'><i class='fa fa-expand'></i></span>";this._openBtn.htmlElement.innerHTML=i;this._openBtn.addEventListener(pinetree.MouseEvent.CLICK,this._onOpen,this);this._openBtn.visible=false;this._closeBtn=new pinetree.Sprite();this.addChild(this._closeBtn);this._closeBtn.x=c-25;this._closeBtn.y=e-30;i="<span style='color:#ffffff;cursor:pointer'><i class='fa fa-compress'></i></span>";this._closeBtn.htmlElement.innerHTML=i;this._closeBtn.addEventListener(pinetree.MouseEvent.CLICK,this._onClose,this);this._cleanBtn=new pinetree.Sprite();this.addChild(this._cleanBtn);this._cleanBtn.x=c-50;this._cleanBtn.y=e-30;i="<span style='color:#ffffff;cursor:pointer;font-size:8px'><i class='fa fa-trash'></i></span>";this._cleanBtn.htmlElement.innerHTML=i;this._cleanBtn.addEventListener(pinetree.MouseEvent.CLICK,this._onClean,this)};var b=__extends(a,pinetree.Sprite);b._onJSError=function(e){var g=e.message;var d=e.filename;var c=e.lineno;this.trace(g+", at line: "+c+", file: "+d+".");return false};b.trace=function(g){if(!this.stage){pinetree.stage.addChild(this)}var e=[],c=arguments.length,h;for(var d=0;d<c;d++){h=arguments[d]===undefined?"undefined":arguments[d]===null?"null":arguments[d].toString();e.push(h)}this._txt.htmlText+=e.join(" ")+"\n"};b._onOpen=function(c){this._container.visible=true;this._openBtn.visible=false;this._closeBtn.visible=true;this._cleanBtn.visible=true;this.width=this._viewWidth;this.height=this._viewHeight};b._onClose=function(c){this._container.visible=false;this._openBtn.visible=true;this._closeBtn.visible=false;this._cleanBtn.visible=false;this.width=30;this.height=33};b._onClean=function(c){this._txt.htmlText=""};b.dispose=function(){pinetree.Sprite.prototype.dispose.call(this);if(this._openBtn){this._openBtn.removeEventListener(pinetree.MouseEvent.CLICK,this._onOpen,this);this._openBtn=null}if(this._closeBtn){this._closeBtn.removeEventListener(pinetree.MouseEvent.CLICK,this._onClose,this);this._closeBtn=null}if(this._cleanBtn){this._cleanBtn.removeEventListener(pinetree.MouseEvent.CLICK,this._onClean,this);this._cleanBtn=null}};pinetree.debug=new a(300,200,0,0.5)}());(function(){var b=function(c,e,d){this._name=c;this._data=e;this._type=d;__defineGetterSetter(this,["name","data","type"])};var a=b.prototype;a.getName=function(){return this._name};a.getData=function(){return this._data};a.getType=function(){return this._type};a.toString=function(){return"[Object pinetreemvc::Notification]"};pinetreemvc.Notification=b})();(function(){var b=function(e,d,g,c){this.facade=e;if(!e){trace("Error: At pinetreemvc.Proxy::constructor, facade is null!");return}if(!g){trace("Error: At pinetreemvc.Proxy::constructor, source is invalid!");return}this.ON_DISPOSE_COMPLETE=new pinetree.Signal();this.data=null;this._name=d||b.NAME;this._dataLoader=new pinetreecom.FileLoader(pt.assetLoading,c);this._dataLoader.ON_IO_ERROR.add(this,this.onIOError);this._dataLoader.ON_LOAD_COMPLETE.add(this,this.onLoadDataComplete);var h=g.indexOf("?")>-1;g=h?g+"&rid="+Math.random():g+"?rid="+Math.random();this._dataLoader.load(new pinetree.URLRequest(g));__defineGetterSetter(this,["name"])};b.NAME="Proxy";var a=b.prototype;a.getName=function(){return this._name};a.onLoadDataComplete=function(c){this.data=c.data;this.parse(this.data)};a.parse=function(c){};a.onIOError=function(c){trace("Load error: At Proxy::onIOError().")};a.getLoader=function(){return this._dataLoader};a.sendNotification=function(d,e,c){this.facade.sendNotification(d,e,c)};a.toString=function(){return"[Object pinetreemvc::Proxy]"};a.predispose=function(){this.dispose()};a.dispose=function(){this.facade=null;if(this._dataLoader){this._dataLoader.dispose();this._dataLoader=null}if(this.ON_DISPOSE_COMPLETE){this.ON_DISPOSE_COMPLETE.dispatch();this.ON_DISPOSE_COMPLETE.removeAll();this.ON_DISPOSE_COMPLETE=null}};pinetreemvc.Proxy=b})();(function(){var b=function(e,d,c){this.facade=e;this.viewComponent=c;if(!e){trace("Error: At pinetreemvc.Mediator::constructor, facade is null!");return}if(!c){trace("Error: At pinetreemvc.Mediator::constructor, viewComponent is null!");return}this.viewComponent.ON_DISPOSE_COMPLETE.add(this,this.dispose);this._name=d||b.NAME;this.ON_DISPOSE_COMPLETE=new pinetree.Signal();this.interests=[];__defineGetterSetter(this,["name"])};b.NAME="Mediator";var a=b.prototype;a.getName=function(){return this._name};a.sendNotification=function(d,e,c){this.facade.sendNotification(d,e,c)};a.isInterested=function(c){return this.interests&&this.interests.indexOf(c)>-1};a.handleNotification=function(c){};a.toString=function(){return"[Object pinetreemvc::Mediator]"};a.predispose=function(){if(this.viewComponent){this.viewComponent.predispose()}};a.dispose=function(){if(this.ON_DISPOSE_COMPLETE){this.ON_DISPOSE_COMPLETE.dispatch();this.ON_DISPOSE_COMPLETE.removeAll();this.ON_DISPOSE_COMPLETE=null;this.interests&&this.interests.splice(0,this.interests.length);this.viewComponent=null;this.facade=null}};pinetreemvc.Mediator=b})();(function(){var a=function(){pinetree.Sprite.call(this);this.facade=null;this.mediator=null;this.ON_DISPOSE_COMPLETE=new pinetree.Signal();this.isInitialized=false;this.resizePriority=0;this.tweenTime=1;this.transition=Quad.easeOut;this.tweenDelay=0.5};var b=__extends(a,pinetree.Sprite);b.addedToStage=function(){pinetree.Sprite.prototype.addedToStage.call(this);pinetree.stage.addEventListener(pinetree.Event.RESIZE,this._onResize,this,this.resizePriority)};b.removedFromStage=function(){pinetree.Sprite.prototype.removedFromStage.call(this);pinetree.stage.removeEventListener(pinetree.Event.RESIZE,this._onResize,this)};b._onResize=function(c){if(this.stage){this.resize(pinetree.stage.stageWidth,pinetree.stage.stageHeight)}};b.resize=function(c,d){};b.redraw=function(){this.stage&&this._onResize(null)};b.linkTo=function(c,d){};b.show=function(){this.visible=true};b.hide=function(){this.visible=false};b.toString=function(){return"[Object pinetreemvc::ViewComponentBase]"};b.predispose=function(){};b.dispose=function(){this.facade=null;this.mediator=null;pinetree.stage.removeEventListener(pinetree.Event.RESIZE,this._onResize,this);if(this.ON_DISPOSE_COMPLETE){this.ON_DISPOSE_COMPLETE.dispatch();this.ON_DISPOSE_COMPLETE.removeAll();this.ON_DISPOSE_COMPLETE=null}this.isInitialized=false;pinetree.Sprite.prototype.dispose.call(this)};pinetreemvc.ViewComponentBase=a})();(function(){var a=function(){this.facade=null};var b=a.prototype;b.execute=function(c){};pinetreemvc.Command=a})();(function(){var a=function(){this._disposeCount=0;this._disposeIndex=0;this._disposed=false;this._mediators={};this._proxies={};this._commands={};this.$={};this.ON_DISPOSE_COMPLETE=new pinetree.Signal()};var b=a.prototype;b.startUp=function(c){};b.sendNotification=function(e,h,d){if(h==undefined){h=null}if(d==undefined){d=null}var i=new pinetreemvc.Notification(e,h,d);if(this._commands.hasOwnProperty(e)){var k=this._commands[e];if(k){var j=new k();j.facade=this;j.execute(i)}}var g;for(var c in this._mediators){g=this._mediators[c];if(g){if(g.isInterested(e)){g.handleNotification(i)}}else{delete this._mediators[c]}}};b.registerMediator=function(g,e,d){if(!e||!d){trace("Error: At Facade::registerMediator, mediatorClassRef or viewComponent is null!");return null}var h=g||e.NAME;if(this._mediators[h]){trace("Error: At Facade::registerMediator, this name has been used!");return null}var c=new e(this,h,d);d.facade=this;d.mediator=c;if(!(c instanceof pinetreemvc.Mediator)){trace("Error: At Facade::registerMediator, classRef is not instance of Mediator!");return null}this._mediators[h]=c;return c};b.registerProxy=function(g,h,i,d){if(!h){trace("Error: At Facade::registerProxy, proxyClassRef is null!");return null}if(!i){trace("Error: At Facade::registerProxy, source is null!");return null}var e=g||h.NAME;if(this._proxies[e]){trace("Error: At Facade::registerProxy, this name has been used!");return null}var c=new h(this,e,i,d);if(!(c instanceof pinetreemvc.Proxy)){trace("Error: At Facade::registerProxy, classRef is not instance of Proxy!");return null}this._proxies[e]=c;return c};b.registerCommand=function(c,d){if(!d){trace("Error: At Facade::registerCommand, commandClassRef is null!");return false}if(this._commands[c]){trace("Error: At Facade::registerCommand, this name has been used!");return false}this._commands[c]=d;return true};b.getMediatorByName=function(c){if(this._mediators[c]){return this._mediators[c]}return null};b.getProxyByName=function(c){if(this._proxies[c]){return this._proxies[c]}return null};b.removeMediator=function(c){if(this._mediators.hasOwnProperty(c)&&this._mediators[c]){this._mediators[c]=null;delete this._mediators[c]}else{delete this._mediators[c]}};b.removeAllMediators=function(){for(var c in this._mediators){this.removeMediator(c)}};b.removeProxy=function(c){if(this._proxies.hasOwnProperty(c)&&this._proxies[c]){this._proxies[c]=null;delete this._proxies[c]}else{delete this._proxies[c]}};b.removeAllProxies=function(){for(var c in this._proxies){this.removeProxy(c)}};b.removeCommand=function(c){if(this._commands.hasOwnProperty(c)&&this._commands[c]){this._commands[c]=null;delete this._commands[c]}else{delete this._commands[c]}};b.removeAllCommands=function(){for(var c in this._commands){this.removeCommand(c)}};b.toString=function(){return"[Object pinetreemvc::Facade]"};b.predispose=function(){if(this._disposed){return}this._disposed=true;this._disposeCount=0;this._disposeIndex=0;var d,e,c;for(d in this._mediators){e=this._mediators[d];if(e){this._disposeCount++;e.ON_DISPOSE_COMPLETE.add(this,this.onEachDisposed)}else{delete this._mediators[d]}}for(d in this._proxies){c=this._proxies[d];if(c){this._disposeCount++;c.ON_DISPOSE_COMPLETE.add(this,this.onEachDisposed)}else{delete this._proxies[d]}}for(d in this._mediators){this._mediators[d].predispose()}for(d in this._proxies){this._proxies[d].predispose()}};b.onEachDisposed=function(){this._disposeIndex++;if(this._disposeIndex==this._disposeCount){this.dispose()}};b.dispose=function(){this.removeAllMediators();this.removeAllProxies();this.removeAllCommands();this._mediators=null;this._proxies=null;this._commands=null;if(this.ON_DISPOSE_COMPLETE){this.ON_DISPOSE_COMPLETE.dispatch();this.ON_DISPOSE_COMPLETE.removeAll();this.ON_DISPOSE_COMPLETE=null}};pinetreemvc.Facade=a})();(function(){var a={};a.isFunction=function(b,c){if(!b||!c){return false}if(b[c]&&typeof(b[c])=="function"){return true}return false};a.getStageX=function(c,b){if(!c.parent||!c.stage){return 0}return c.localToGlobal(new pinetree.Point(b||0,0)).x};a.getStageY=function(b,c){if(!b.parent||!b.stage){return 0}return b.localToGlobal(new pinetree.Point(0,c||0)).y};a.getCurrentX=function(c,b){if(!c.parent||!c.stage){return 0}return c.parent.globalToLocal(new pinetree.Point(b,0)).x};a.getCurrentY=function(c,b){if(!c.parent||!c.stage){return 0}return c.parent.globalToLocal(new pinetree.Point(0,b)).y};a.getGrayBitmapData=function(b){if(!b){return null}var d=new pinetree.BitmapData(b.width,b.height);var c=ImageFilters.GrayScale(b.getImageData());d.from(c);return d};a.getBlurBitmapData=function(c,b){if(!c){return null}if(b==undefined){b=5}var e=new pinetree.BitmapData(c.width,c.height);var d=ImageFilters.StackBlur(c.getImageData(),b);e.from(d);return e};a.setSimpleShadow=function(e){var c=pt.config?pt.config.shadowColor:pt.onOutColor;var d=pt.config?pt.config.shadowStrength:0.2;var g=12;var b=0;var h=0;if((e instanceof pinetree.Graphics)||(e instanceof pinetree.CanvasQuad)){e.setShadow(c,d,g,b,h)}else{if((e instanceof pinetree.Shape)||(e instanceof pinetree.Sprite)){e.graphics.setShadow(c,d,g,b,h)}}};pinetreecom.CommonUtil=a}());(function(){var a=function(){};a.removeSignalListeners=function(e){if(!e){return}var b=Object.prototype.toString.call(e)==="[object Array]";if(!b){if(e instanceof pinetree.Signal){e.removeAll()}return}var c=e.length;if(c<1){return}var d=null;while(c--){d=e[c];if(d&&d instanceof pinetree.Signal){d.removeAll()}}};a.disposeObjects=function(d){if(!d){return}var b=Object.prototype.toString.call(d)==="[object Array]";if(!b){if(d.dispose){d.dispose()}return}var c=d.length;if(c<1){return}var e=null;while(c--){e=d[c];if(e&&e.dispose){e.dispose()}}};pinetreecom.MemoryUtil=a}());(function(){var a={};a.getFileExtension=function(c){if(!c){return""}var b=c.lastIndexOf(".");if(b>0){return c.substring(b+1)}return""};a.removeFileExtension=function(c){if(!c){return""}var b=c.lastIndexOf(".");if(b>0){return c.substring(0,b)}return c};a.toColorString=function(b,e){var d=b.toString(16);var c=e?8-d.length:6-d.length;while(c-->0){d="0"+d}return"#"+d};a.fromColorString=function(b){if(b==undefined){return 0}if(b.indexOf("#")>-1){b=b.replace("#","0x")}else{if(b.indexOf("0x")==-1&&b.indexOf("0X")==-1){b="0x"+b}}return Math.floor(b)};a.trimAll=function(d){if(!d){return""}var c=/\s/g;var b=d.replace(c,"");return b};a.isValidEmail=function(b){var c=/^[A-Z0-9._%+-]+@(?:[A-Z0-9-]+\.)+[A-Z]{2,4}$/i;return c.test(b)};a.pixelToNumber=function(b){return parseFloat(b)};pinetreecom.StringUtil=a})();(function(){var a={};a.getDistance=function(c,b){return Math.sqrt((b.x-c.x)*(b.x-c.x)+(b.y-c.y)*(b.y-c.y))};a.randomArray=function(c){var e=c.concat();var b=[];var d;while(e.length){d=Math.random()*e.length;b.push(e.splice(d,1))}return b};a.rand=function(c,b){return Math.floor((b-c+1)*Math.random()+c)};a.getRange=function(d,b,c){if(c<0){c=0}if(c>1){c=1}return d+(b-d)*c};a.getShootPoint=function(i,d,g){var e=i.x;var m=i.y;var c=d.x;var k=d.y;var h=Math.sqrt(Math.pow((c-e),2)+Math.pow((k-m),2))+g;var l=Math.atan2(Math.abs(k-m),Math.abs(c-e));var o=h*Math.cos(l);var n=h*Math.sin(l);var b,j;if(c<e){b=e-o}else{b=e+o}if(k<m){j=m-n}else{j=m+n}return new pinetree.Point(b,j)};a.parseFloatByFixed=function(d,c){if(c==undefined){return d}var e=Math.floor(d);if(c==0){return e}var b=d-e;var g=Math.pow(10,c);return Math.round((e+b)*g)/g};pinetreecom.MathUtil=a}());(function(){var a={};a.drawRect=function(g,n,e,c,b,m,j,k,l,i,d){if(!(g instanceof pinetree.Shape)&&!(g instanceof pinetree.Sprite)&&!(g instanceof pinetree.MovieClip)){return}d&&g.graphics.clear();g.graphics.lineStyle(m||0,j||0,k||0);g.graphics.beginFill(c||0,b||0);g.graphics.drawRect(l||0,i||0,n||100,e||100);g.graphics.endFill();g.graphics.stroke()};a.drawRoundRect=function(i,o,e,g,c,b,n,l,k,m,j,d){if(!(i instanceof pinetree.Shape)&&!(i instanceof pinetree.Sprite)&&!(i instanceof pinetree.MovieClip)){return}if(g==undefined){g=5}d&&i.graphics.clear();i.graphics.lineStyle(n||0,l||0,k||0);i.graphics.beginFill(c||0,b||0);i.graphics.drawRoundRect(m||0,j||0,o||100,e||100,g,g,g,g);i.graphics.endFill();i.graphics.stroke()};a.drawExactRoundRect=function(k,r,g,i,b,q,j,d,c,p,n,m,o,l,e){if(!(k instanceof pinetree.Shape)&&!(k instanceof pinetree.Sprite)&&!(k instanceof pinetree.MovieClip)){return}if(i==undefined){i=5}if(b==undefined){b=5}if(q==undefined){q=5}if(j==undefined){j=5}e&&k.graphics.clear();k.graphics.lineStyle(p||0,n||0,m||0);k.graphics.beginFill(d||0,c||0);k.graphics.drawRoundRect(o||0,l||0,r||100,g||100,i,b,q,j);k.graphics.endFill();k.graphics.stroke()};a.drawCircle=function(g,e,c,b,k,i,j,l,h,d){if(!(g instanceof pinetree.Shape)&&!(g instanceof pinetree.Sprite)&&!(g instanceof pinetree.MovieClip)){return}d&&g.graphics.clear();g.graphics.lineStyle(k||0,i||0,j||0);g.graphics.beginFill(c||0,b||0);g.graphics.drawCircle(l||0,h||0,e||100);g.graphics.endFill();g.graphics.stroke()};pinetreecom.DrawUtil=a}());(function(){var a=function(h,g,c,e,d,j,i){this._target=h;this._startColor=g;this._color=c;this._time=e==undefined?0.5:e;this._delay=d||0;this._callback=j||null;this.ease=i||Quad.easeOut;this.percent=0;this._start()};a.addTween=function(h,g,c,e,d,j,i){return new pinetreecom.ColorTweener(h,g,c,e,d,j,i)};var b=a.prototype;b._start=function(){if(!this._target){trace("Error: at pinetreecom.ColorTweener::start(), target is null!");return}this.percent=0;TweenMax.to(this,this._time,{percent:1,time:this._time,delay:this._delay,ease:this._ease,onUpdate:this._onUpdate,onUpdateParams:[this],onComplete:this._onComplete,onCompleteParams:[this]})};b._onUpdate=function(c){var d=pinetree.getOffsetColor(c._startColor,c._color,c.percent);pinetreecom.ColorUtil.setColor(c._target,d)};b._onComplete=function(c){c._callback&&c._callback();c.dispose()};b.dispose=function(){TweenMax.killTweensOf(this);this._target=null;this._callback=null;this._ease=null};pinetreecom.ColorTweener=a})();(function(){var b=function(){};var a=b.prototype;a.setColor=function(k,e){if(!k||!k.dynamicData){return}var i,d,j,l;if((k instanceof pinetree.Shape)||(k instanceof pinetree.Sprite)){i=k.graphics.context;d=k.graphics.canvas.width;j=k.graphics.canvas.height}else{if(k instanceof pinetree.Bitmap){i=k.context;d=k.getHtmlElement().width;j=k.getHtmlElement().height}else{if(k instanceof pinetree.TextureImage){i=k.context;d=k.originWidth;j=k.originHeight}}}if(!k.dynamicData.imageData){l=i.getImageData(0,0,d,j);k.dynamicData.imageData=l}else{l=k.dynamicData.imageData}var g=pinetree.createCanvas(d,j);var c=g.getContext("2d");c.putImageData(l,0,0);i.globalCompositeOperation="copy";i.globalAlpha=1;i.fillStyle=pinetree.getRGBA(e,1);i.fillRect(0,0,d,j);i.globalCompositeOperation="destination-in";i.globalAlpha=1;i.drawImage(g,0,0)};a.tweenColor=function(h,d,c,g,e,j,i){return pinetreecom.ColorTweener.addTween(h,d,c,g,e,j,i)};pinetreecom.ColorUtil=new b()})();(function(){var a={};a.kick=function(b,d){var c;for(c=0;c<b.length;c++){if(b[c]==d){b.splice(c,1);break}}};a.contains=function(c,e,b){if(!c){trace("Error: at pinetreecom.ArrayUtil::contains(), arr is Null!");return false}if(!this.isArray(c)){trace("Error: at pinetreecom.ArrayUtil::contains(), arr is not an Array!");return false}var d=c.length;if(b){while(d--){if(c[d]===e){return true}}}else{while(d--){if(c[d]==e){return true}}}return false};a.isArray=function(b){return Object.prototype.toString.call(b)==="[object Array]"};pinetreecom.ArrayUtil=a}());(function(){var a={};a.ALIGN_HORIZONTAL="horizontal";a.ALIGN_VERTICAL="vertical";a.align=function(h,d,g,c,j,i,e,b){if(!h){return}if(d==this.ALIGN_VERTICAL){h.originX=(g+j)*Math.floor(e%b);h.originY=(c+i)*Math.floor(e/b)}else{h.originX=(g+j)*Math.floor(e/b);h.originY=(c+i)*Math.floor(e%b)}};a.getMaxColumn=function(b,c,d){return(b+d)/(c+d)};a.alignVMixVerticalFit=function(u,q,d,l,k,g){if(q.length<d){return}var e=[],x,w,z,m,B;var A=0;for(x=0;x<d;x++){w=q[x].length;while(w--){A+=q[x][w].currentHeight+k}}var c=Math.floor(A/d);z=u.length;e.splice(0,e.length);for(x=0;x<z;x++){if(u[x].y+u[x].currentHeight>c){e.push(u[x]);m=-1;for(w=0;w<d;w++){m=q[w].indexOf(u[x]);if(m>-1){q[w].splice(m,1);break}}}}e.sort(this.compareHandler);if(e.length<1){return}var p=false;var s=u[0].currentHeight;z=u.length;for(x=1;x<z;x++){if(s!=u[x].currentHeight){p=true;break}}if(!p){return}var v=e.length;var b=0,r,o,t=16777215,y=0;while(v--){t=16777215;for(x=0;x<d;x++){y=0;w=q[x].length;while(w--){y+=q[x][w].currentHeight+k}if(y<t){t=y;b=x}}B=q[b];r=B[B.length-1];o=e.pop();if(r){o.x=o.originX=r.x;o.y=o.originY=r.y+r.currentHeight+k}else{o.x=o.originX=b*(l+g)+l;o.y=o.originY=k}q[b].push(o)}};a.alignVMixHorizontalFit=function(b,e,c,d){};a.compareHandler=function(c,b){return c.y>b.y?1:c.y<b.y?-1:0};pinetreecom.AlignUtil=a}());(function(){var a=function(){this._handlers={}};var b=a.prototype;b.delayCall=function(c,e,d,i,h){if(!i){i=[]}if(h){this.removeByHandler(c,e)}var g=setTimeout(Delegate.create(this,this._onTimeOutHandler,c,e,d,i),d*1000);this._handlers[g]={owner:c,handler:e,delay:d,params:i};return g};b.delayAfterFrames=function(c,e,i,h,g){if(!i){i=1}var d=i/60;return this.delayCall(c,e,d,h,g)};b._onTimeOutHandler=function(c,e,d,h){e.apply(c,h);for(var g in this._handlers){if(this._handlers.hasOwnProperty(g)&&this._handlers[g]){if(this._handlers[g].owner==c&&this._handlers[g].handler==e&&this._handlers[g].delay==d&&this._handlers[g].params==h){this._clearById(g);break}}else{if(this._handlers.hasOwnProperty(g)){delete this._handlers[g]}}}};b.removeByOwner=function(c){if(!c){return}for(var d in this._handlers){if(this._handlers.hasOwnProperty(d)&&this._handlers[d]&&this._handlers[d].owner==c){this._clearById(d)}}};b.removeByHandler=function(c,d){if(!d){return}for(var e in this._handlers){if(this._handlers.hasOwnProperty(e)&&this._handlers[e]&&this._handlers[e].owner==c&&this._handlers[e].handler==d){this._clearById(e)}}};b.removeById=function(c){if(c<0){return}if(this._handlers.hasOwnProperty(c)&&this._handlers[c]){this._clearById(c)}};b._clearById=function(c){clearInterval(c);this._handlers[c].owner=null;this._handlers[c].handler=null;this._handlers[c].delay=null;this._handlers[c].params=null;this._handlers[c]=null;delete this._handlers[c]};pinetreecom.DelayCaller=new a()}());(function(){var b=function(){this._data=new pinetree.Dictionary()};var a=b.prototype;a._onKeyUp=function(d){var h=d.keyCode;var c=this._data.get(h);if(c){var e=c.length,g;while(e--){g=c[e];if(g&&g.listener){g.listener.call(g.owner,h)}}}};a.listen=function(c,e,g){this._checkAddKeyListener();if(typeof(e)=="number"){this._add(c,e,g)}else{var d=e.length;while(d--){this._add(c,e[d],g)}}};a.cancel=function(c,e,g){if(typeof(e)=="number"){this._remove(c,e,g)}else{var d=e.length;while(d--){this._remove(c,e[d],g)}}};a.cancelByOwnerKey=function(c,e){if(typeof(e)=="number"){this._remove(c,e,null)}else{var d=e.length;while(d--){this._remove(c,e[d],null)}}};a.cancelByKey=function(e){var c;if(typeof(e)=="number"){c=this._data.get(e);if(c){c.length=0}this._data.remove(e)}else{var d=e.length;while(d--){c=this._data.get(e[d]);if(c){c.length=0}this._data.remove(e[d])}}this._checkRemoveKeyListener()};a.cancelByOwner=function(d){var g=this._data.length,e,k,c,h;while(g--){k=this._data.getKeyByIndex(g);c=this._data.get(k);e=c.length;while(e--){h=c[e];if(h&&h.owner==d){c.splice(e,1)}}if(c.length==0){this._data.remove(k)}}this._checkRemoveKeyListener()};a.cancelAll=function(){var d=this._data.length,c;while(d--){c=this._data.getValueByIndex(d);if(c){c.length=0}}this._data.removeAll();this._checkRemoveKeyListener()};a._add=function(d,k,h){var e,j,g=false;var c=this._data.get(k);if(!c){c=[];this._data.set(k,c)}e=c.length;while(e--){j=c[e];if(j.owner==d&&j.listener==h){g=true;break}}if(!g){c.push({owner:d,listener:h})}};a._remove=function(d,j,g){var c=this._data.get(j);if(!c){return}var e=c.length,h;while(e--){h=c[e];if(h){if((d==null||h.owner==d)&&(g==null||h.listener==g)){c.splice(e,1)}}}if(c.length==0){this._data.remove(j)}this._checkRemoveKeyListener()};a._checkAddKeyListener=function(){if(!pinetree.stage.hasEventListener(pinetree.KeyboardEvent.KEYUP)){pinetree.stage.addEventListener(pinetree.KeyboardEvent.KEYUP,this._onKeyUp,this)}};a._checkRemoveKeyListener=function(){if(this._data.length==0){pinetree.stage.removeEventListener(pinetree.KeyboardEvent.KEYUP,this._onKeyUp,this)}};pinetreecom.KeyboardUtil=new b()}());(function(){var b=function(){this._storage=window.localStorage};var a=b.prototype;a.get=function(c){if(!this._storage){return null}return this._storage.getItem(c)};a.set=function(c,d){if(!this._storage){return}this._storage.setItem(c,d)};a.remove=function(c){if(!this._storage){return}this._storage.removeItem(c)};a.removeAll=function(){if(!this._storage){return}this._storage.clear()};a.getKeyByIndex=function(c){if(!this._storage){return null}return this._storage.key(c)};a.getAllData=function(){if(!this._storage){return null}var e={};var d=this._storage.length,c;while(d--){c=this.getKeyByIndex(d);e[c]=this.get(c)}return e};pinetreecom.StorageManager=new b()}());(function(){var a=function(){pinetree.Sprite.call(this);__defineGetterSetter(this,["isBusy"])};var b=__extends(a,pinetree.Sprite);b.getIsBusy=function(){return this._isBusy};b.setIsBusy=function(c){this._isBusy=c};b.init=function(c){};b.reset=function(){};pinetreecom.PoolBase=a}());(function(){var a=function(){};a._instances=new pinetree.Dictionary();a.getMultiple=function(b,c){var d=[];while(c-->0){d.push(this.get(b))}return d};a.get=function(g){if(!this._instances.get(g)){this._instances.set(g,[])}var e=this._instances.get(g);var h,d=e.length,c;var b;for(h=0;h<d;h++){c=e[h];if(!c){e.splice(h,1);h--;d--;continue}else{if(!c.isBusy){b=c;b.isBusy=true;break}}}if(!b){b=new g();if(b instanceof pinetreecom.PoolBase){b.isBusy=true;e.push(b)}else{b=null;trace("Error:The class does not extend from pinetreecom.PoolBase!!!")}}return b};a.remove=function(d,g){g=__defaultSet(g,true);var c=this._instances.get(d);if(c){if(g){var b;for(var e in c){b=c[e];b&&b.dispose()}}c.splice(0,c.length);this._instances.remove(d)}};a.resetAll=function(){var c,e=0,b,g;for(var d in this._instances){g=this._instances.get(d);if(g){b=g.length;for(e=0;e<b;e++){c=g[e];if(!c){g.splice(e,1);e--;b--;continue}c.reset();c.isBusy=false}}}};a.resetExcept=function(d,g){var c,e,b;var h=this._instances.get(d);if(h&&h.length>0){b=h.length;for(e=0;e<b;e++){c=h[e];if(!c){h.splice(e,1);e--;b--;continue}if(g.indexOf(c)>-1){continue}c.reset();c.isBusy=false}}};a.reset=function(e){if(e&&e.length>0){var c=e.length,b;for(var d=0;d<c;d++){b=e[d];if(!b){e.splice(d,1);d--;c--;continue}b.reset();b.isBusy=false}}};a.removeAll=function(h){h=__defaultSet(h,true);var c,g,b=this._instances.length,e,j;for(var d=0;d<b;d++){e=this._instances.getKeyByIndex(d);g=this._instances.get(e);if(g){if(h){for(j in g){c=g[j];c&&c.dispose()}}g.splice(0,g.length)}this._instances.remove(e)}};pinetreecom.PoolUtil=a}());(function(){var a={};a.to=function(b){if(b.indexOf("http:")>-1){navigateToURL(b,"_blank")}else{pinetreesite.siteController.gotoPage(b)}};pinetreecom.LinkManager=a})();(function(){var b=function(c){this._enabled=c;this._target=null;this._owner=null;this._prevHandler=null;this._nextHandler=null;this._backHandler=null;this._direction="x";this._autoRemove=false;this._mouseX=0;this._mouseY=0;this._currentX=0;this._currentY=0;this._mouseDownTargetX=0;this._mouseDownTargetY=0;this._originX=0;this._originY=0;this.distanceScale=0.5;this.edgeX=50;this.edgeY=50;this.tweenTime=0.5;this.transition=Quart.easeOut};var a=b.prototype;a.listen=function(i,c,h,d,e,j,g,l,k){if(!i||!this._enabled){return}if(this._target){this._target.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onMouseDown,this)}this._target=i;this._owner=c||null;this._prevHandler=h;this._nextHandler=d;this._backHandler=e;this._direction=j||this._direction||"x";this._autoRemove=g||false;this._originX=l==undefined?this._target.x:l;this._originY=k==undefined?this._target.y:k;this._target.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onMouseDown,this);this._target.addEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onMouseDown,this)};a._onMouseDown=function(c){c.preventDefault();TweenMax.killTweensOf(this._target,false,{x:true,y:true});this._mouseX=c.mouseX;this._mouseY=c.mouseY;this._mouseDownTargetX=this._target.x;this._mouseDownTargetY=this._target.y;this._currentX=this._target.x;this._currentY=this._target.y;pinetree.stage.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._onStageMouseUp,this);pinetree.stage.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onStageMouseUp,this);pinetree.stage.removeEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onStageMouseMove,this);pinetree.stage.addEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onStageMouseMove,this)};a._onStageMouseMove=function(d){d.preventDefault();if(this._direction=="x"){var c=d.mouseX-this._mouseX;this._currentX+=c;this._mouseX=d.mouseX;this._target.x=this._currentX*this.distanceScale}else{var e=d.mouseY-this._mouseY;this._currentY+=e;this._mouseY=d.mouseY;this._target.y=this._currentY*this.distanceScale}};a._onStageMouseUp=function(c){pinetree.stage.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._onStageMouseUp,this);pinetree.stage.removeEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onStageMouseMove,this);var d=0;if(this._direction=="x"){d=this._target.x-this._mouseDownTargetX;if(Math.abs(d)<this.edgeX){if(this._backHandler){this._backHandler.call(this._owner,this._target)}else{this.back()}return}}else{d=this._target.y-this._mouseDownTargetY;if(Math.abs(d)<this.edgeY){if(this._backHandler){this._backHandler.call(this._owner,this._target)}else{this.back()}return}}if(d<0){this._nextHandler&&this._nextHandler.call(this._owner,this._target)}else{this._prevHandler&&this._prevHandler.call(this._owner,this._target)}if(this._autoRemove){this.remove()}};a.back=function(){if(!this._target||!this._enabled){return}if(this._direction=="x"){TweenMax.to(this._target,this.tweenTime,{x:this._originX,ease:this.transition})}else{TweenMax.to(this._target,this.tweenTime,{y:this._originY,ease:this.transition})}};a.remove=function(){if(!this._enabled){return}this._prevHandler=null;this._nextHandler=null;this._backHandler=null;if(this._target){TweenMax.killTweensOf(this._target,false,{x:true,y:true});this._target.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onMouseDown,this);this._target=null;pinetree.stage.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._onStageMouseUp,this);pinetree.stage.removeEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onStageMouseMove,this)}this._owner=null};pinetreecom.DragPrevNextUtil=b}());(function(){var a=function(){pinetree.Sprite.call(this);this.tweenTime=1;this.transition=Quad.easeOut;this.tweenDelay=0.5;this.resizePriority=0;__defineGetterSetter(this,["stageX","stageY"])};var b=__extends(a,pinetree.Sprite);b.addedToStage=function(){pinetree.Sprite.prototype.addedToStage.call(this);pinetree.stage.addEventListener(pinetree.Event.RESIZE,this._onResize,this,this.resizePriority)};b.removedFromStage=function(){pinetree.Sprite.prototype.removedFromStage.call(this);pinetree.stage.removeEventListener(pinetree.Event.RESIZE,this._onResize,this)};b._onResize=function(c){this.resize(pinetree.stage.stageWidth,pinetree.stage.stageHeight)};b.resize=function(c,d){};b.redraw=function(){this.stage&&this._onResize(null)};b.linkTo=function(c,d){};b.show=function(){this.visible=true};b.hide=function(){this.visible=false};b.getStageX=function(){if(this.stage){return pinetreecom.CommonUtil.getStageX(this)}return 0};b.getStageY=function(){if(this.stage){return pinetreecom.CommonUtil.getStageY(this)}return 0};b.dispose=function(){pinetree.stage.removeEventListener(pinetree.Event.RESIZE,this._onResize,this);pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.UIComponent=a})();(function(){var b=function(c,g,d,e){pinetree.Sprite.call(this);this._isEnabled=true;this._isOver=false;this._triggerRect=new pinetree.Quad();this._triggerRect.color=d||0;this._triggerRect.alpha=e||0;if(e!=undefined&&e>0){this.addChild(this._triggerRect)}this.ON_ROLL_OVER=new pinetree.Signal();this.ON_ROLL_OUT=new pinetree.Signal();this.ON_MOVING=new pinetree.Signal();this.ON_MOUSE_WHEEL=new pinetree.Signal();this.width=c;this.height=g;this.mouseEnabled=this.mouseChildren=false;__defineGetterSetter(this,["isEnabled"])};var a=__extends(b,pinetree.Sprite);a.addedToStage=function(){pinetree.Sprite.prototype.addedToStage.call(this);this.stage.addEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onMouseMoveHandler,this);this.stage.addEventListener(pinetree.MouseEvent.MOUSE_WHEEL,this._onMouseWheelHandler,this)};a.removedFromStage=function(){pinetree.Sprite.prototype.removedFromStage.call(this);this.stage.removeEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onMouseMoveHandler,this);this.stage.removeEventListener(pinetree.MouseEvent.MOUSE_WHEEL,this._onMouseWheelHandler,this)};a._onMouseMoveHandler=function(c){if(!this._isEnabled||!this.stage){return}if(this.hitTestPoint(this.stage.mouseX,this.stage.mouseY)){if(!this._isOver){this._isOver=true;this.ON_ROLL_OVER.dispatch(c)}this.ON_MOVING.dispatch(c)}else{if(this._isOver){this._isOver=false;this.ON_ROLL_OUT.dispatch(c)}}};a._onMouseWheelHandler=function(c){if(!this._isEnabled||!this.stage){return}if(this.hitTestPoint(this.stage.mouseX,this.stage.mouseY)){this.ON_MOUSE_WHEEL.dispatch(c)}};a.getIsEnabled=function(){return this._isEnabled};a.setIsEnabled=function(c){this._isEnabled=c};a.getIsOver=function(){return this._isOver};a.setWidth=function(c){pinetree.Sprite.prototype.setWidth.call(this,c);this._triggerRect.width=c};a.setHeight=function(c){pinetree.Sprite.prototype.setHeight.call(this,c);this._triggerRect.height=c};a.getGlobalBounds=function(){var c=this.localToGlobal(new pinetree.Point());return new pinetree.Rectangle(c.x,c.y,this._width,this._height)};a.dispose=function(){this.ON_ROLL_OVER&&this.ON_ROLL_OVER.removeAll();this.ON_ROLL_OUT&&this.ON_ROLL_OUT.removeAll();this.ON_MOVING&&this.ON_MOVING.removeAll();this.ON_MOUSE_WHEEL&&this.ON_MOUSE_WHEEL.removeAll();this.ON_ROLL_OVER=null;this.ON_ROLL_OUT=null;this.ON_MOVING=null;this.ON_MOUSE_WHEEL=null;if(this.stage){this.stage.removeEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onMouseMoveHandler,this);this.stage.removeEventListener(pinetree.MouseEvent.MOUSE_WHEEL,this._onMouseWheelHandler,this);this.stage=null}pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.TriggerRect=b}());(function(){var a=function(c,e,d){pinetree.EventDispatcher.call(this);this._isVertical=__defaultSet(e,true);this._disposed=false;this._isReady=false;this._stage=null;this._mouseWheelArea=null;this._base=null;this._slider=null;this._isBasePressed=false;this._isSliderPressed=false;this._contentSize=0;this._maskSize=0;this._isUnderFlow=false;this._content=null;this._key="";this._upperBound=0;this._lowerBound=0;this._useSmoothScroll=true;this._smoothScrollEasing=6;this._isScrolling=false;this._targetScroll=0;this._prevProperty=0;this._terminateScrollFlag=false;this._isStartedScroll=false;this._ticker=null;this._useFlexibleSlider=true;this._isScrollingByUser=false;this._useIgnoreSliderProperty=false;this._minSliderProperty=10;this._sliderProperty=0;this._isDragging=false;this._isScrollingByDrag=false;this._usePixelFittingSlider=false;this._useMouseWheel=true;this._usePixelFittingContent=false;this._useOvershoot=false;this._overshootPixels=100;this._overshootEasing=6;this._useAutoScrollCancelable=true;this._isOvershooting=false;this._overShootTargetScroll=0;this._isAutoScrolling=false;this._useOvershootDeformationSlider=true;this._useAutoScrollUsingRatio=false;this._autoScrollAmount=6;this._autoScrollDirection=false;this._autoScrollVelocity=0;this._calledFromUpdateAutoScroll=false;this._arrowScrollAmount=200;this._isMouseDown=false;this._enableArrowKey=d;this._keyEnabled=true;this.ON_MOUSE_UP=new pinetree.Signal();this.ON_MOUSE_DOWN=new pinetree.Signal();this.stage=c;__defineGetterSetter(this,["isReady","stage","mouseWheelArea","base","slider","isBasePressed","isSliderPressed","contentSize","maskSize","isOverFlow","isUnderFlow","property","upperBound","lowerBound","useSmoothScroll","smoothScrollEasing","isScrolling","targetScroll","useFlexibleSlider","minSliderProperty","useIgnoreSliderProperty","sliderProperty","usePixelFittingSlider","usePixelFittingContent","buttonEnabled","sliderEnabled","baseEnabled","useMouseWheel","useOvershoot","overshootPixels","overshootEasing","useOvershootDeformationSlider","isOvershooting","useAutoScrollCancelable","isAutoScrolling","useAutoScrollUsingRatio","autoScrollAmount","autoScrollDirection","isMouseDown","keyEnabled"])};var b=__extends(a,pinetree.EventDispatcher);b.setup=function(e,c,i,d,g,h){if(this._isReady){this._stopUserActionScroll();this.stopAutoScroll()}this._isReady=true;this._content=e;this._key=c;this._contentSize=i;this._maskSize=d;this._upperBound=g;this._lowerBound=h;if(!this._ticker){this._ticker=new pinetree.Shape()}this._targetScroll=this.property;this._isScrolling=false;this._isAutoScrolling=false;this._isDragging=false;this._isScrollingByDrag=false;this._isScrollingByUser=false;this._isOvershooting=false;this._isStartedScroll=false;this._isUnderFlow=(this._contentSize<=this._maskSize)?true:false;this._calledFromUpdateAutoScroll=false;this._isBasePressed=false;this._isSliderPressed=false;if(this._stage){this._bindBaseButton(true);this._bindSliderButton(true);if(this._enableArrowKey){this._stage.addEventListener(pinetree.KeyboardEvent.KEYDOWN,this._onKeyDown,this)}}this.buttonEnabled=true;this.resizeSlider()};b._onKeyDown=function(c){if(!this._keyEnabled){return}var d=c.keyCode;switch(d){case pinetree.Keyboards.LEFT:case pinetree.Keyboards.UP:this.scrollUp();break;case pinetree.Keyboards.RIGHT:case pinetree.Keyboards.DOWN:this.scrollDown();break}};b.scrollUp=function(){if(!this._isReady){return}this._isScrollingByDrag=false;this.scrollByRelativePixel(this._arrowScrollAmount)};b.scrollDown=function(){if(!this._isReady){return}this._isScrollingByDrag=false;this.scrollByRelativePixel(-this._arrowScrollAmount)};b.scrollByRelativeRatio=function(e,d){if(!this._isReady){return}if(d==undefined){d=true}var g=(d)?this._targetScroll:this.property;var c=g-(this._lowerBound-this._upperBound)*e;this.scrollByAbsolutePixel(c)};b.scrollByAbsoluteRatio=function(d){if(!this._isReady){return}var c=(this._lowerBound-this._upperBound)*d+this._upperBound;this.scrollByAbsolutePixel(c)};b.scrollByRelativePixel=function(d,c){if(!this._isReady){return}if(c==undefined){c=true}var e=(c)?this._targetScroll:this.property;this.scrollByAbsolutePixel(e+d)};b.scrollByAbsolutePixel=function(c){if(!this._isReady){return}this._targetScroll=c;this._overShootTargetScroll=(this._targetScroll>this._upperBound)?this._upperBound:(this._targetScroll<this._lowerBound)?this._lowerBound:this._targetScroll;if(this._useOvershoot&&this._useSmoothScroll&&!this._calledFromUpdateAutoScroll){this._targetScroll=(this._targetScroll>this._upperBound+this._overshootPixels)?this._upperBound+this._overshootPixels:(this._targetScroll<this._lowerBound-this._overshootPixels)?this._lowerBound-this._overshootPixels:this._targetScroll}else{this._targetScroll=this._overShootTargetScroll}this._startScroll()};b.startAutoScroll=function(c){if(c==undefined){c=true}if(!this._isReady){return}this._autoScrollDirection=c;this._autoScrollVelocity=((c)?-1:1)*this._autoScrollAmount;if(!this._isAutoScrolling){this._ticker.removeEventListener(pinetree.Event.ENTER_FRAME,this._updateAutoScroll,this);this._ticker.addEventListener(pinetree.Event.ENTER_FRAME,this._updateAutoScroll,this)}this._isAutoScrolling=true};b.stopAutoScroll=function(){if(!this._isReady||!this._isAutoScrolling){return}this._isAutoScrolling=false;this._ticker.removeEventListener(pinetree.Event.ENTER_FRAME,this._updateAutoScroll,this)};b.resizeSlider=function(){this._isUnderFlow=(this._contentSize<=this._maskSize)?true:false;if(!this._isReady||!this._slider){return}if(this._useIgnoreSliderProperty){this._sliderProperty=0;this._updateSlider();return}if(!this._useFlexibleSlider){this._sliderProperty=this._isVertical?this._slider.height:this._slider.width;this._updateSlider();return}if(!this.base){return}var c=this._maskSize/this._contentSize;c=pinetreecom.MathUtil.parseFloatByFixed(c,3);if(this._isUnderFlow){if(this._isVertical){this._slider.height=this._base.height;this._sliderProperty=this._base.height}else{this._slider.width=this._base.width;this._sliderProperty=this._base.width}this._updateSlider();return}var d=this._isVertical?c*this._base.height:c*this._base.width;this._sliderProperty=Math.round((d<this._minSliderProperty)?this._minSliderProperty:d);if(this._isVertical){this._slider.height=this._sliderProperty}else{this._slider.width=this._sliderProperty}this._updateSlider()};b._bindBaseButton=function(c){if(this._base){if(c){this._base.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._baseButtonMouseDownHandler,this);this._base.addEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._baseButtonMouseDownHandler,this);if(this._stage){this._stage.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._baseButtonMouseUpHandler,this);this._stage.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._baseButtonMouseUpHandler,this)}this.baseEnabled=this._isReady}else{this._base.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._baseButtonMouseDownHandler,this);if(this._stage){this._stage.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._baseButtonMouseUpHandler,this)}this.baseEnabled=false}}};b._bindSliderButton=function(c){if(this._slider){if(c){this._slider.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._sliderButtonMouseDownHandler,this);this._slider.addEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._sliderButtonMouseDownHandler,this);if(this._stage){this._stage.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._sliderButtonMouseUpHandler,this);this._stage.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._sliderButtonMouseUpHandler,this)}this.sliderEnabled=this._isReady}else{this._slider.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._sliderButtonMouseDownHandler,this);if(this._stage){this._stage.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._sliderButtonMouseUpHandler,this)}this.sliderEnabled=false}}};b._pressBase=function(k){if(this._useAutoScrollCancelable){this.stopAutoScroll()}this._isScrollingByUser=true;this._isScrollingByDrag=false;var j=pinetreecom.CommonUtil.getStageX(this._base);var h=pinetreecom.CommonUtil.getStageY(this._base);var g=pinetree.getStagePosition(k);var d=g.x-j;var c=g.y-h;var i=0;if(this._slider&&!this._useIgnoreSliderProperty){if(this._isVertical){i=c/(this._base.height-this._slider.height)}else{i=d/(this._base.width-this._slider.width)}}else{if(this._isVertical){i=c/(this._base.height-1)}else{i=d/(this._base.width-1)}}this.scrollByAbsoluteRatio(i)};b._pressSlider=function(){if(!this._base){return}if(this._useAutoScrollCancelable){this.stopAutoScroll()}this._isScrollingByUser=true;this._isDragging=true;var e=this._isVertical?this._base.height:this._base.width;var d=(this._useIgnoreSliderProperty)?e:(e-(this._isVertical?this._slider.height:this._slider.width));var c;if(this._isVertical){c=new pinetree.Rectangle(this._base.x,this._base.y,0,d)}else{c=new pinetree.Rectangle(this._base.x,this._base.y,d,0)}this._slider.startDrag(false,c);this._stage.removeEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._moveSliderHandler,this);this._stage.addEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._moveSliderHandler,this);this._stage.selectable=false};b._releaseSlider=function(){this._isDragging=false;this._slider.stopDrag();this._moveSliderHandler(null);this._stage.removeEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._moveSliderHandler,this);this._stage.selectable=true};b._startScroll=function(){if(this._usePixelFittingContent){this._targetScroll=Math.round(this._targetScroll)}if(this._useSmoothScroll){this._prevProperty=NaN;this._terminateScrollFlag=false;this._ticker.removeEventListener(pinetree.Event.ENTER_FRAME,this._updateScroll,this);this._ticker.addEventListener(pinetree.Event.ENTER_FRAME,this._updateScroll,this)}else{if(this._isScrolling){this._ticker.removeEventListener(pinetree.Event.ENTER_FRAME,this._updateScroll,this)}if(this._isOvershooting){this._targetScroll=this._overShootTargetScroll;this._isOvershooting=false}if(this.property!=this._targetScroll){this.dispatchWith("scroll_start");this.dispatchWith("scroll_progress");this.dispatchWith("scroll_complete")}this._isScrolling=false;this._isScrollingByUser=false;this._isScrollingByDrag=false;this.property=this._targetScroll;this._updateSlider()}};b.stopScroll=function(){this._stopUserActionScroll();this.stopAutoScroll()};b.reset=function(){this._isDragging=false;this._isScrollingByDrag=false;this.stopScroll();this.property=0;this._updateSlider();this.dispatchWith("scroll_progress");this.dispatchWith("scroll_complete")};b._stopUserActionScroll=function(){this._targetScroll=(this._usePixelFittingContent)?Math.round(this.property):this.property;if(this._isScrolling){this._ticker.removeEventListener(pinetree.Event.ENTER_FRAME,this._updateScroll,this);this.dispatchWith("scroll_complete")}this._isScrolling=false;this._updateSlider()};b._updateTargetScroll=function(){var e=this._overShootTargetScroll-this._targetScroll;var c=(e>0)?e:-e;if(c<0.01){this._targetScroll=this._overShootTargetScroll}else{this._targetScroll+=e/this._overshootEasing}};b._updateSlider=function(){if(!this._slider||!this._base||!this._content){return}if(this._contentSize<=this._maskSize){return}var d=(this._upperBound-this.property)/(this._upperBound-this._lowerBound);d=pinetreecom.MathUtil.parseFloatByFixed(d,3);var c=this._isVertical?this._base.height:this._base.width;var h=this._isVertical?this._slider.height:this._slider.width;var i=(this._useIgnoreSliderProperty)?c:(c-h);var g=d*i;if(this._useOvershoot&&this._useOvershootDeformationSlider&&!this._useIgnoreSliderProperty){if(this._useSmoothScroll){this._isOvershooting=false;if(d<0){this._isOvershooting=true;if(this._isVertical){this._slider.height+=((this._sliderProperty+g)-this._slider.height)/1}else{this._slider.width+=((this._sliderProperty+g)-this._slider.width)/1}}if(d>1){this._isOvershooting=true;if(this._isVertical){this._slider.height+=((this._sliderProperty-g+i)-this._slider.height)/1}else{this._slider.width+=((this._sliderProperty-g+i)-this._slider.width)/1}}if(d==1){if(this._isVertical){this._slider.height=this._sliderProperty}else{this._slider.width=this._sliderProperty}}if(!this._isOvershooting){if(this._isVertical){this._slider.height+=(this._sliderProperty-this._slider.height)/10}else{this._slider.width+=(this._sliderProperty-this._slider.width)/10}}}else{if(this._isVertical){this._slider.height=this._sliderProperty}else{this._slider.width=this._sliderProperty}}c=this._isVertical?this._base.height:this._base.width;h=this._isVertical?this._slider.height:this._slider.width;i=c-h;g=d*i;if(this._isDragging){var e;if(this._isVertical){e=new pinetree.Rectangle(this._base.x,this._base.y,0,i)}else{e=new pinetree.Rectangle(this._base.x,this._base.y,i,0)}this._slider.startDrag(false,e);return}if(this._isScrollingByDrag){return}}else{this._isOvershooting=false;if(d<0){this._isOvershooting=true}if(d>1){this._isOvershooting=true}}if(this._isDragging||this._isScrollingByDrag){return}if(this._isVertical){this._slider.y=(g<0)?0:(g>i)?i:g}else{this._slider.x=(g<0)?0:(g>i)?i:g}};b._baseButtonMouseDownHandler=function(c){this._isMouseDown=true;this.ON_MOUSE_DOWN&&this.ON_MOUSE_DOWN.dispatch();this._isBasePressed=true;if(!this._isReady){return}this._pressBase(c)};b._baseButtonMouseUpHandler=function(c){this._isMouseDown=false;this.ON_MOUSE_UP&&this.ON_MOUSE_UP.dispatch();if(!this._isBasePressed){return}this._isBasePressed=false};b._sliderButtonMouseDownHandler=function(c){this._isMouseDown=true;this.ON_MOUSE_DOWN&&this.ON_MOUSE_DOWN.dispatch();this._isSliderPressed=true;if(!this._isReady){return}this._pressSlider()};b._sliderButtonMouseUpHandler=function(c){this._isMouseDown=false;this.ON_MOUSE_UP&&this.ON_MOUSE_UP.dispatch();if(!this._isSliderPressed){return}this._isSliderPressed=false;if(!this._isReady){return}this._releaseSlider()};b._mouseWheelHandler=function(c){if(!this._isReady||!this._useMouseWheel||c.delta==0){return}if(!this._useOvershoot){if((this._targetScroll==this._upperBound&&c.delta>0)||(this._targetScroll==this._lowerBound&&c.delta<0)){return}}if(this._useAutoScrollCancelable){this.stopAutoScroll()}this._isScrollingByUser=true;this._isScrollingByDrag=false;if(c.delta>0){this.scrollByRelativePixel(this._arrowScrollAmount,true)}else{this.scrollByRelativePixel(-this._arrowScrollAmount,true)}};b._moveSliderHandler=function(i){this._isScrollingByDrag=true;var g;if(this._isVertical){var d=(this._useIgnoreSliderProperty)?this._base.height:(this._base.height-this._slider.height);g=this._slider.y/d}else{var c=(this._useIgnoreSliderWidth)?this._base.width:(this._base.width-this._slider.width);g=this._slider.x/c}this.scrollByAbsoluteRatio(g)};b._updateScroll=function(g){if(!this._terminateScrollFlag&&(this._useOvershoot||this._useSmoothScroll)){this._updateTargetScroll()}this.dispatchWith("scroll_progress");var h=this._targetScroll-this.property;if(this._terminateScrollFlag){this._isScrolling=false;this._isScrollingByUser=false;this._isScrollingByDrag=false;this._isOvershooting=false;this.property=this._targetScroll;this._updateSlider();if(this._slider&&!this._useIgnoreSliderProperty){if(this._isVertical){if(this._usePixelFittingSlider){this._slider.y=Math.round(this._slider.y)}this._slider.height=this._sliderProperty}else{if(this._usePixelFittingSlider){this._slider.x=Math.round(this._slider.x)}this._slider.width=this._sliderProperty}}this._ticker.removeEventListener(pinetree.Event.ENTER_FRAME,this._updateScroll,this);this.dispatchWith("scroll_progress");this.dispatchWith("scroll_complete")}else{this._prevProperty=this.property;this.property+=h/this._smoothScrollEasing;this._updateSlider();var c=Math.floor(this.property*1000)==Math.floor(this._prevProperty*1000);this._terminateScrollFlag=(c&&!this._isOvershooting)?true:false;if(!this._isScrolling&&!this._terminateScrollFlag){this._isStartedScroll=true;this.dispatchWith("scroll_start");this.dispatchWith("scroll_progress")}if(this._isScrolling&&!this._terminateScrollFlag){this.dispatchWith("scroll_progress")}if(this._isScrolling&&this._terminateScrollFlag){this._isStartedScroll=false;this.dispatchWith("scroll_progress");this.dispatchWith("scroll_complete")}this._isScrolling=!this._terminateScrollFlag}};b._updateAutoScroll=function(c){if(this._isScrollingByUser||this.isBasePressed){return}this._isScrollingByDrag=false;this._calledFromUpdateAutoScroll=true;(this._useAutoScrollUsingRatio)?this.scrollByRelativeRatio(this._autoScrollVelocity):this.scrollByRelativePixel(this._autoScrollVelocity);this._calledFromUpdateAutoScroll=false};b.setKeyEnabled=function(c){this._keyEnabled=c};b.getKeyEnabled=function(){return this._keyEnabled};b.getIsReady=function(){return this._isReady};b.getStage=function(){return this._stage};b.setStage=function(c){if(this._stage||c==null){return}this._stage=c;if(this._stage){if(this._mouseWheelArea==null){this.mouseWheelArea=this._stage}this.base=this.base;this.slider=this.slider}};b.getMouseWheelArea=function(){return this._mouseWheelArea};b.setMouseWheelArea=function(c){if(this._mouseWheelArea){if(this._mouseWheelArea instanceof pinetree.Stage){this._mouseWheelArea.removeEventListener(pinetree.MouseEvent.MOUSE_WHEEL,this._mouseWheelHandler,this)}else{if(this._mouseWheelArea instanceof pinetreecom.TriggerRect){this.mouseWheelArea.ON_MOUSE_WHEEL.removeAll()}}}this._mouseWheelArea=c;if(this._mouseWheelArea){if(this._mouseWheelArea instanceof pinetree.Stage){this._mouseWheelArea.removeEventListener(pinetree.MouseEvent.MOUSE_WHEEL,this._mouseWheelHandler,this);this._mouseWheelArea.addEventListener(pinetree.MouseEvent.MOUSE_WHEEL,this._mouseWheelHandler,this)}else{if(this._mouseWheelArea instanceof pinetreecom.TriggerRect){this._mouseWheelArea.ON_MOUSE_WHEEL.add(this,this._mouseWheelHandler)}}}};b.getBase=function(){return this._base};b.setBase=function(c){this._bindBaseButton(false);this._base=c;this._bindBaseButton(true);this.resizeSlider()};b.getSlider=function(){return this._slider};b.setSlider=function(c){this._bindSliderButton(false);this._slider=c;this._bindSliderButton(true);this.resizeSlider()};b.getIsBasePressed=function(){return this._isBasePressed};b.getIsSliderPressed=function(){return this._isSliderPressed};b.getContentSize=function(){return this._contentSize};b.setContentSize=function(c){this._contentSize=c;this.resizeSlider()};b.getMaskSize=function(){return this._maskSize};b.setMaskSize=function(c){this._maskSize=c;this.resizeSlider()};b.getIsOverFlow=function(){return !this._isUnderFlow};b.getIsUnderFlow=function(){return this._isUnderFlow};b.getProperty=function(){return this._content[this._key]};b.setProperty=function(c){this._content[this._key]=c};b.getUpperBound=function(){return this._upperBound};b.setUpperBound=function(c){this._upperBound=c;this.resizeSlider();if((this._upperBound-this.property)/(this._upperBound-this._lowerBound)>1){this._terminateScrollFlag=true;this._targetScroll=this._lowerBound;this.property=this._lowerBound}};b.getLowerBound=function(){return this._lowerBound};b.setLowerBound=function(c){this._lowerBound=c;this.resizeSlider();if((this._upperBound-this.property)/(this._upperBound-this._lowerBound)>1){this._terminateScrollFlag=true;this._targetScroll=this._lowerBound;this.property=this._lowerBound}};b.getUseSmoothScroll=function(){return this._useSmoothScroll};b.setUseSmoothScroll=function(c){this._useSmoothScroll=c;if(!c&&this._isScrolling){this._startScroll()}};b.getSmoothScrollEasing=function(){return this._smoothScrollEasing};b.setSmoothScrollEasing=function(c){this._smoothScrollEasing=(c<1)?1:c};b.getIsScrolling=function(){return this._isScrolling};b.getTargetScroll=function(){return this._targetScroll};b.getUseFlexibleSlider=function(){return this._useFlexibleSlider};b.setUseFlexibleSlider=function(c){this._useFlexibleSlider=c;this.resizeSlider()};b.getMinSliderProperty=function(){return this._minSliderProperty};b.setMinSliderProperty=function(c){this._minSliderProperty=c;this.resizeSlider()};b.getUseIgnoreSliderProperty=function(){return this._useIgnoreSliderProperty};b.setUseIgnoreSliderProperty=function(c){this._useIgnoreSliderProperty=c;this.resizeSlider()};b.getSliderProperty=function(){return this._sliderProperty};b.getUsePixelFittingSlider=function(){return this._usePixelFittingSlider};b.setUsePixelFittingSlider=function(c){this._usePixelFittingSlider=c;if(c&&!this._isScrolling&&!this._useIgnoreSliderProperty){if(this._isVertical){this._slider.y=Math.round(this._slider.y);this._slider.height=Math.round(this._sliderProperty)}else{this._slider.x=Math.round(this._slider.x);this._slider.width=Math.round(this._sliderProperty)}}};b.getUsePixelFittingContent=function(){return this._usePixelFittingContent};b.setUsePixelFittingContent=function(c){this._usePixelFittingContent=c;if(c&&!this._isScrolling){this.property=Math.round(this.property)}};b.setButtonEnabled=function(c){this.sliderEnabled=this.baseEnabled=c};b.setSliderEnabled=function(c){if(this._slider){this._slider.mouseEnabled=this._slider.buttonMode=c;if(!c){this._slider.stopDrag()}}};b.setBaseEnabled=function(c){if(this._base){this._base.mouseEnabled=this._base.buttonMode=c}};b.getUseMouseWheel=function(){return this._useMouseWheel};b.setUseMouseWheel=function(c){this._useMouseWheel=c};b.getUseOvershoot=function(){return this._useOvershoot};b.setUseOvershoot=function(c){this._useOvershoot=c};b.getOvershootPixels=function(){return this._overshootPixels};b.setOvershootPixels=function(c){this._overshootPixels=c};b.getOvershootEasing=function(){return this._overshootEasing};b.setOvershootEasing=function(c){this._overshootEasing=c};b.getUseOvershootDeformationSlider=function(){return this._useOvershootDeformationSlider};b.setUseOvershootDeformationSlider=function(c){this._useOvershootDeformationSlider=c};b.getIsOvershooting=function(){return this._isOvershooting};b.getUseAutoScrollCancelable=function(){return this._useAutoScrollCancelable};b.setUseAutoScrollCancelable=function(c){this._useAutoScrollCancelable=c};b.getIsAutoScrolling=function(){return this._isAutoScrolling};b.getUseAutoScrollUsingRatio=function(){return this._useAutoScrollUsingRatio};b.setUseAutoScrollUsingRatio=function(c){this._useAutoScrollUsingRatio=c};b.getAutoScrollAmount=function(){return this._autoScrollAmount};b.setAutoScrollAmount=function(c){this._autoScrollAmount=c};b.getAutoScrollDirection=function(){return this._autoScrollDirection};b.getIsMouseDown=function(){return this._isMouseDown};b.dispose=function(){if(this._disposed){return}this._disposed=true;this.buttonEnabled=false;this.base=null;this.slider=null;if(this._stage){this._stage.removeEventListener(pinetree.KeyboardEvent.KEYDOWN,this._onKeyDown,this);this._stage.removeEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._moveSliderHandler,this);this._stage.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._baseButtonMouseUpHandler,this);this._stage.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._sliderButtonMouseUpHandler,this);this._stage.selectable=true;this._stage=null}if(this._ticker){this._ticker.removeEventListener(pinetree.Event.ENTER_FRAME,this._updateAutoScroll,this);this._ticker.removeEventListener(pinetree.Event.ENTER_FRAME,this._updateScroll,this);this._ticker=null}if(this._mouseWheelArea){if(this._mouseWheelArea instanceof pinetree.Stage){this._mouseWheelArea.removeEventListener(pinetree.MouseEvent.MOUSE_WHEEL,this._mouseWheelHandler,this)}else{if(this._mouseWheelArea instanceof pinetreecom.TriggerRect){this._mouseWheelArea.dispose()}}this._mouseWheelArea=null}this.ON_MOUSE_UP&&this.ON_MOUSE_UP.removeAll();this.ON_MOUSE_UP=null;this.ON_MOUSE_DOWN&&this.ON_MOUSE_DOWN.removeAll();this.ON_MOUSE_DOWN=null;this._content=null;this._isScrolling=false;this._isDragging=false;this._isScrollingByDrag=false;this._isScrollingByUser=false;this._isOvershooting=false;this._isStartedScroll=false;this._isAutoScrolling=false;this._isBasePressed=false;this._isSliderPressed=false;this._terminateScrollFlag=false;this._prevProperty=NaN;this._isReady=false};pinetreecom.ScrollerCore=a})();(function(){var b=function(q,k,p,c,s,j,r,i,o,n,g,d,m,l,e){pinetree.Sprite.call(this);this._bar=null;this._scrollMC=null;this._base=null;this._slider=null;this._content=null;this._clipContent=__defaultSet(d,true);this._autoHideScroller=!!l;this._enabled=true;this._useMouseWheel=__defaultSet(m,true);this._enableArrowKey=!!e;this._keyEnabled=true;this._target=null;this._valueStore=NaN;this._value=0;this.tweenTime=1;this.transition=Quad.easeOut;this._width=q;this._height=k;this._onOverColor=s;this._onOutColor=j;this._onOverAlpha=r;this._onOutAlpha=i;this._baseColor=o==undefined?16777215:o;this._baseAlpha=n==undefined?1:n;this._baseTileTexture=g&&(g instanceof pinetree.Texture)?g:null;this._contentHeight=p;this._maskWidth=0;this._maskHeight=c;this._upperBound=0;this._lowerBound=-(this._contentHeight-this._maskHeight);this._colorTweener=null;this._startMouseY=0;this.ON_SCROLL_START=new pinetree.Signal();this.ON_SCROLL_END=new pinetree.Signal();this.ON_CHANGE=new pinetree.Signal();this.ON_SLIDER_MOUSE_DOWN=new pinetree.Signal();this.ON_SLIDER_MOUSE_UP=new pinetree.Signal();this._init();__defineGetterSetter(this,["scrollBar","enabled","value","scrollMC","scrollerX","scrollerY","isShowingScroller","scrollerHeight","scrollAreaWidth","mouseWheelArea","target","keyEnabled"])};var a=__extends(b,pinetree.Sprite);a._init=function(){this._content=new pinetree.Sprite();this.addChild(this._content);this._scrollMC=new pinetree.Sprite();this.addChild(this._scrollMC);this._scrollMC.selectable=false;if(this._autoHideScroller){this._scrollMC.alpha=0}};a.addedToStage=function(){if(!this.isInitialized){this._base=new pinetree.Sprite();this._scrollMC.addChild(this._base);if(this._baseTileTexture){this._base.graphics.beginBitmapFill(this._baseTileTexture)}else{this._base.graphics.beginFill(this._baseColor,1)}this._base.graphics.canvas.height=this._height;this._base.graphics.drawRect(0,0,this._width,this._height);this._base.graphics.endFill();this._slider=new pinetree.Sprite();this._scrollMC.addChild(this._slider);this._slider.graphics.beginFill(this._onOutColor,1);this._slider.graphics.drawRect(0,0,this._width,this._height);this._slider.graphics.endFill();this.scrollAreaWidth=this._width;this._slider.alpha=this._onOutAlpha;this._slider.addEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOverSlider,this);this._slider.addEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOutSlider,this);this._base.alpha=this._baseAlpha;this._bar=new pinetreecom.ScrollerCore(null,true,this._enableArrowKey);this._bar.ON_MOUSE_DOWN.add(this,this._onScrollerMouseDown);this._bar.ON_MOUSE_UP.add(this,this._onScrollerMouseUp);this._bar.stage=this.stage;this._bar.useOvershoot=false;this._bar.useMouseWheel=this._useMouseWheel;this._bar.useSmoothScroll=true;this._bar.keyEnabled=this._keyEnabled;this._bar.base=this._base;this._bar.slider=this._slider;this._bar.addEventListener("scroll_start",this._onScrollStart,this);this._bar.addEventListener("scroll_progress",this._onScrollProgress,this);this._bar.addEventListener("scroll_complete",this._onScrollComplete,this);this._bar.setup(this,"value",this._contentHeight,this._maskHeight,this._upperBound,this._lowerBound);this._bar.useOvershoot=true}pinetree.Sprite.prototype.addedToStage.call(this)};a.setMouseWheelArea=function(c){if(!c){return}if(this._bar){this._bar.mouseWheelArea=c}if(this._autoHideScroller&&c instanceof pinetreecom.TriggerRect){c.ON_ROLL_OVER.add(this,this._onOverRect);c.ON_ROLL_OUT.add(this,this._onOutRect)}};a._onOverRect=function(){TweenMax.to(this._scrollMC,this.tweenTime/2,{alpha:1,ease:this.transition})};a._onOutRect=function(){TweenMax.to(this._scrollMC,this.tweenTime/2,{alpha:0,ease:this.transition})};a._onOverSlider=function(c){TweenMax.to(this._slider,this.tweenTime/2,{alpha:this._onOverAlpha,ease:this.transition});this._colorTweener&&this._colorTweener.dispose();this._colorTweener=pinetreecom.ColorTweener.addTween(this._slider,this._onOutColor,this._onOverColor,this.tweenTime/2,0,null,this.transition)};a._onOutSlider=function(c){TweenMax.to(this._slider,this.tweenTime/2,{alpha:this._onOutAlpha,ease:this.transition});this._colorTweener&&this._colorTweener.dispose();this._colorTweener=pinetreecom.ColorTweener.addTween(this._slider,this._onOverColor,this._onOutColor,this.tweenTime/2,0,null,this.transition)};a._onScrollerMouseDown=function(){pinetree.enableGlobalSelect(false);this.ON_SLIDER_MOUSE_DOWN.dispatch()};a._onScrollerMouseUp=function(){pinetree.enableGlobalSelect(true);this.ON_SLIDER_MOUSE_UP.dispatch()};a._onScrollStart=function(c){this.ON_SCROLL_START.dispatch()};a._onScrollComplete=function(c){this.ON_SCROLL_END.dispatch();if(this._target){this._target.y=Math.round(this._target.y)}};a._onScrollProgress=function(c){if(!this._enabled){return}if(this._valueStore==this._value){return}this._valueStore=this._value;var d=-1*this._value/(this._contentHeight-this._maskHeight);if(this._target&&this._scrollMC.visible){this._target.y=Math.round(d*(this._maskHeight-this._contentHeight))}this.ON_CHANGE.dispatch(d)};a.reset=function(){if(this._bar){this._bar.reset()}};a.getScrollBar=function(){return this._bar};a.setKeyEnabled=function(c){this._keyEnabled=c;if(this._bar){this._bar.keyEnabled=this._keyEnabled}};a.getKeyEnabled=function(){return this._keyEnabled};a.setEnabled=function(c){this._enabled=c};a.getEnabled=function(){return this._enabled};a.getValue=function(){return this._value};a.setValue=function(c){this._value=c};a.getScrollMC=function(){return this._scrollMC};a.getTarget=function(){return this._target};a.setScrollerX=function(c){this._scrollMC.x=c};a.setScrollerY=function(c){this._scrollMC.y=c};a.getIsShowingScroller=function(){if(!this._bar){return false}return this._bar.maskSize<this._bar.contentSize};a.addTarget=function(g,c,e,d){if(!g){return}if(this._target){this.removeTarget()}this._target=g;this._content.addChild(this._target);if(g.height<=this._maskHeight){this._scrollMC.visible=false;return}else{this._scrollMC.visible=true}this._maskWidth=c;if(this._clipContent){this._content.clip=new pinetree.Rectangle(0,0,c,this._maskHeight)}this._scrollMC.x=e;this._scrollMC.y=d};a.removeTarget=function(){if(this._target&&this._content.contains(this._target)){this._content.removeChild(this._target)}this._target=null};a.setSize=function(c,h,g,e,d){this._contentHeight=h;this._maskWidth=c;this._maskHeight=g;this._lowerBound=-(this._contentHeight-this._maskHeight);this._bar.contentSize=this._contentHeight;this._bar.maskSize=this._maskHeight;this._bar.lowerBound=this._lowerBound;if(this._clipContent){this._content.clip=new pinetree.Rectangle(0,0,c,this._maskHeight)}this._scrollMC.x=e;this._scrollMC.y=d;if(h<=g){if(this._target){this._target.y=0}this._scrollMC.visible=false}else{this._scrollMC.visible=true}this._onScrollProgress(null)};a.setScrollerHeight=function(c){this._height=c;this._base.graphics.clear();this._base.graphics.canvas.height=this._height;if(this._baseTileTexture){this._base.graphics.beginBitmapFill(this._baseTileTexture)}else{this._base.graphics.beginFill(this._baseColor,1)}this._base.graphics.drawRect(0,0,this._width,this._height);this._base.graphics.endFill();this.setSize(this._maskWidth,this._contentHeight,this._maskHeight,this._scrollMC.x,this._scrollMC.y)};a.setScrollAreaWidth=function(c){this._slider.width=c;this._slider.x=-(c-this._width)>>1};a.tweenScrollerAlpha=function(e,d,c,g){if(this._autoHideScroller){return}if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if(g==undefined){g=Linear.easeNone}TweenMax.to(this._scrollMC,d,{alpha:e,delay:c,ease:g})};a.dispose=function(){this._slider.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOverSlider,this);this._slider.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOutSlider,this);if(this._bar){this._bar.removeEventListener("scroll_start",this._onScrollStart,this);this._bar.removeEventListener("scroll_progress",this._onScrollProgress,this);this._bar.removeEventListener("scroll_complete",this._onScrollComplete,this);try{this._bar.dispose();this._bar=null}catch(c){}}this._target=null;TweenMax.killTweensOf(this._scrollMC);TweenMax.killTweensOf(this._slider);this.ON_CHANGE&&this.ON_CHANGE.removeAll();this.ON_CHANGE=null;this.ON_SCROLL_START&&this.ON_SCROLL_START.removeAll();this.ON_SCROLL_START=null;this.ON_SCROLL_END&&this.ON_SCROLL_END.removeAll();this.ON_SCROLL_END=null;this.ON_SLIDER_MOUSE_DOWN&&this.ON_SLIDER_MOUSE_DOWN.removeAll();this.ON_SLIDER_MOUSE_DOWN=null;this.ON_SLIDER_MOUSE_UP&&this.ON_SLIDER_MOUSE_UP.removeAll();this.ON_SLIDER_MOUSE_UP=null;pinetree.enableGlobalSelect(true);pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.VScroller=b}());(function(){var b=function(q,k,c,p,s,j,r,i,o,n,g,d,m,l,e){pinetree.Sprite.call(this);this._bar=null;this._scrollMC=null;this._base=null;this._slider=null;this._content=null;this._clipContent=__defaultSet(d,true);this._autoHideScroller=!!l;this._enabled=true;this._useMouseWheel=__defaultSet(m,true);this._enableArrowKey=!!e;this._keyEnabled=true;this._target=null;this._valueStore=NaN;this._value=0;this._isStretch=false;this._unstretchHeight=8;this.tweenTime=1;this.transition=Quad.easeOut;this._width=q;this._height=k;this._onOverColor=s;this._onOutColor=j;this._onOverAlpha=r;this._onOutAlpha=i;this._baseColor=o==undefined?16777215:o;this._baseAlpha=n==undefined?1:n;this._baseTileTexture=g&&(g instanceof pinetree.Texture)?g:null;this._contentWidth=c;this._maskWidth=p;this._maskHeight=0;this._upperBound=0;this._lowerBound=-(this._contentWidth-this._maskWidth);this._tweenPercent=0;this._colorTweener=null;this.ON_SCROLL_START=new pinetree.Signal();this.ON_SCROLL_END=new pinetree.Signal();this.ON_CHANGE=new pinetree.Signal();this.ON_SLIDER_MOUSE_DOWN=new pinetree.Signal();this.ON_SLIDER_MOUSE_UP=new pinetree.Signal();this._init();__defineGetterSetter(this,["scrollBar","enabled","value","scrollMC","scrollerX","scrollerY","isShowingScroller","scrollerWidth","scrollAreaHeight","mouseWheelArea","target","keyEnabled"])};var a=__extends(b,pinetree.Sprite);a._init=function(){this._content=new pinetree.Sprite();this.addChild(this._content);this._scrollMC=new pinetree.Sprite();this.addChild(this._scrollMC);this._scrollMC.selectable=false;if(this._autoHideScroller){this._scrollMC.alpha=0}};a.addedToStage=function(){if(!this.isInitialized){this._base=new pinetree.Sprite();this._scrollMC.addChild(this._base);if(this._baseTileTexture){this._base.graphics.beginBitmapFill(this._baseTileTexture)}else{this._base.graphics.beginFill(this._baseColor,1)}this._base.graphics.canvas.width=this._width;this._base.graphics.canvas.height=this._height;this._base.graphics.drawRect(0,0,this._width,this._height);this._base.graphics.endFill();this._slider=new pinetree.Sprite();this._scrollMC.addChild(this._slider);this._slider.graphics.beginFill(this._onOutColor,1);this._slider.graphics.drawRect(0,0,this._width,this._height);this._slider.graphics.endFill();this._slider.setTransformOrigin("0%","0%","0");this._slider.scaleX=0;this._slider.height=this._unstretchHeight;this._slider.alpha=this._onOutAlpha;this._slider.addEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOverSlider,this);this._slider.addEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOutSlider,this);this._base.alpha=this._baseAlpha;this._bar=new pinetreecom.ScrollerCore(null,false,this._enableArrowKey);this._bar.ON_MOUSE_DOWN.add(this,this._onScrollerMouseDown);this._bar.ON_MOUSE_UP.add(this,this._onScrollerMouseUp);this._bar.stage=this.stage;this._bar.useOvershoot=false;this._bar.useMouseWheel=this._useMouseWheel;this._bar.useSmoothScroll=true;this._bar.keyEnabled=this._keyEnabled;this._bar.base=this._base;this._bar.slider=this._slider;this._bar.addEventListener("scroll_start",this._onScrollStart,this);this._bar.addEventListener("scroll_progress",this._onScrollProgress,this);this._bar.addEventListener("scroll_complete",this._onScrollComplete,this);this._bar.setup(this,"value",this._contentWidth,this._maskWidth,this._upperBound,this._lowerBound);this._bar.useOvershoot=true}pinetree.Sprite.prototype.addedToStage.call(this)};a.setMouseWheelArea=function(c){if(!c){return}if(this._bar){this._bar.mouseWheelArea=c}if(this._autoHideScroller&&c instanceof pinetreecom.TriggerRect){c.ON_ROLL_OVER.add(this,this._onOverRect);c.ON_ROLL_OUT.add(this,this._onOutRect)}};a._onOverRect=function(){TweenMax.to(this._scrollMC,this.tweenTime/2,{alpha:1,ease:this.transition})};a._onOutRect=function(){TweenMax.to(this._scrollMC,this.tweenTime/2,{alpha:0,ease:this.transition})};a._onOverSlider=function(c){TweenMax.to(this._slider,this.tweenTime/2,{alpha:this._onOverAlpha,ease:this.transition});this._colorTweener&&this._colorTweener.dispose();this._colorTweener=pinetreecom.ColorTweener.addTween(this._slider,this._onOutColor,this._onOverColor,this.tweenTime/2,0,null,this.transition)};a._onOutSlider=function(c){TweenMax.to(this._slider,this.tweenTime/2,{alpha:this._onOutAlpha,ease:this.transition});this._colorTweener&&this._colorTweener.dispose();this._colorTweener=pinetreecom.ColorTweener.addTween(this._slider,this._onOverColor,this._onOutColor,this.tweenTime/2,0,null,this.transition)};a._onScrollerMouseDown=function(){pinetree.enableGlobalSelect(false);this.ON_SLIDER_MOUSE_DOWN.dispatch()};a._onScrollerMouseUp=function(){pinetree.enableGlobalSelect(true);this.ON_SLIDER_MOUSE_UP.dispatch()};a._onScrollStart=function(c){this.ON_SCROLL_START.dispatch()};a._onScrollComplete=function(c){this.ON_SCROLL_END.dispatch();if(this._target){this._target.x=Math.round(this._target.x)}};a._onScrollProgress=function(c){if(!this._enabled){return}if(this._valueStore==this._value){return}this._valueStore=this._value;var d=-1*this._value/(this._contentWidth-this._maskWidth);if(this._target&&this._scrollMC.visible){this._target.x=Math.round(d*(this._maskWidth-this._contentWidth))}this.ON_CHANGE.dispatch(d)};a.stretchIn=function(){if(this._isStretch){return}this._isStretch=true;TweenMax.to(this._slider,0.5,{height:this._height,ease:Quart.easeOut})};a.stretchOut=function(){if(!this._isStretch){return}this._isStretch=false;TweenMax.to(this._slider,0.5,{height:this._unstretchHeight,ease:Quart.easeOut})};a.reset=function(){TweenMax.killTweensOf(this._scrollMC);TweenMax.killTweensOf(this._slider);TweenMax.killTweensOf(this);if(this._bar){this._bar.reset()}};a.getScrollBar=function(){return this._bar};a.setKeyEnabled=function(c){this._keyEnabled=c;if(this._bar){this._bar.keyEnabled=this._keyEnabled}};a.getKeyEnabled=function(){return this._keyEnabled};a.setEnabled=function(c){this._enabled=c};a.getEnabled=function(){return this._enabled};a.getValue=function(){return this._value};a.setValue=function(c){this._value=c};a.getScrollMC=function(){return this._scrollMC};a.getTarget=function(){return this._target};a.setScrollerX=function(c){this._scrollMC.x=c};a.setScrollerY=function(c){this._scrollMC.y=c};a.getIsShowingScroller=function(){if(!this._bar){return false}return this._bar.maskSize<this._bar.contentSize};a.addTarget=function(g,e,d,c){if(!g){return}if(this._target){this.removeTarget()}this._target=g;this._content.addChild(this._target);if(g.width<=this._maskWidth){this._scrollMC.visible=false;return}else{this._scrollMC.visible=true}this._maskHeight=e;if(this._clipContent){this._content.clip=new pinetree.Rectangle(0,0,this._maskWidth,e)}this._scrollMC.x=d;this._scrollMC.y=c};a.removeTarget=function(){if(this._target&&this._content.contains(this._target)){this._content.removeChild(this._target)}this._target=null};a.setSize=function(c,g,h,e,d){this._contentWidth=c;this._maskWidth=h;this._maskHeight=g;this._lowerBound=-(this._contentWidth-this._maskWidth);this._bar.contentSize=this._contentWidth;this._bar.maskSize=this._maskWidth;this._bar.lowerBound=this._lowerBound;if(this._clipContent){this._content.clip=new pinetree.Rectangle(0,0,this._maskWidth,this._maskHeight)}this._scrollMC.x=e;this._scrollMC.y=d;if(c<=h){if(this._target){this._target.x=0}this._scrollMC.visible=false}else{this._scrollMC.visible=true}this._onScrollProgress(null)};a.setScrollerWidth=function(c){this._width=c;this._base.graphics.clear();this._base.graphics.canvas.width=this._width;if(this._baseTileTexture){this._base.graphics.beginBitmapFill(this._baseTileTexture)}else{this._base.graphics.beginFill(this._baseColor,1)}this._base.graphics.drawRect(0,0,this._width,this._height);this._base.graphics.endFill();this.setSize(this._contentWidth,this._maskHeight,this._maskWidth,this._scrollMC.x,this._scrollMC.y)};a.setScrollAreaHeight=function(c){this._slider.height=c;this._slider.y=-(c-this.height)>>1};a.tweenScrollerAlpha=function(e,d,c,g){if(this._autoHideScroller){return}if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if(g==undefined){g=Linear.easeNone}TweenMax.to(this._scrollMC,d,{alpha:e,delay:c,ease:g})};a.show=function(d,c,e,g){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if(e==undefined){e=Cubic.easeInOut}TweenMax.to(this._slider,d,{scaleX:1,delay:c,ease:e,onComplete:g})};a.hide=function(d,c,e,g){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if(e==undefined){e=Cubic.easeInOut}TweenMax.to(this._slider,d,{scaleX:0,delay:c,ease:e,onComplete:g})};a.dispose=function(){this._slider.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOverSlider,this);this._slider.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOutSlider,this);if(this._bar){this._bar.removeEventListener("scroll_start",this._onScrollStart,this);this._bar.removeEventListener("scroll_progress",this._onScrollProgress,this);this._bar.removeEventListener("scroll_complete",this._onScrollComplete,this);try{this._bar.dispose();this._bar=null}catch(c){}}this._target=null;TweenMax.killTweensOf(this._scrollMC);TweenMax.killTweensOf(this._slider);TweenMax.killTweensOf(this);this.ON_CHANGE&&this.ON_CHANGE.removeAll();this.ON_CHANGE=null;this.ON_SCROLL_START&&this.ON_SCROLL_START.removeAll();this.ON_SCROLL_START=null;this.ON_SCROLL_END&&this.ON_SCROLL_END.removeAll();this.ON_SCROLL_END=null;this.ON_SLIDER_MOUSE_DOWN&&this.ON_SLIDER_MOUSE_DOWN.removeAll();this.ON_SLIDER_MOUSE_DOWN=null;this.ON_SLIDER_MOUSE_UP&&this.ON_SLIDER_MOUSE_UP.removeAll();this.ON_SLIDER_MOUSE_UP=null;pinetree.enableGlobalSelect(true);pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.HScroller=b}());(function(){var b=function(o,g,l,e,d,n,k,j,c,m,i){pinetree.Sprite.call(this);this.defaultText="";this.normalBorderColor=13421772;this.selectBorderColor=16777215;this.normalBgColor=0;this.selectBgColor=0;this.normalTextColor=13421772;this.selectTextColor=16777215;this.border=0;this.borderOverAlpha=0;this.borderOutAlpha=0;this.bgOverAlpha=0;this.bgOutAlpha=0;this._gapX=e==undefined?2:e;this._gapY=d==undefined?2:d;this._txtOffsetX=n==undefined?0:n;this._txtOffsetY=k==undefined?0:k;this._radiusTL=j==undefined?0:j;this._radiusTR=c==undefined?0:c;this._radiusBL=m==undefined?0:m;this._radiusBR=i==undefined?0:i;this._txtWidth=o-3*this._gapX;this._txtHeight=g-3*this._gapY;this.defaultText=l;this._txt=new pinetree.InputTextField();this._txt.fontSize=pinetree.parseFontSize(12);this._txt.lineHeight="120%";this._txt.addEventListener(pinetree.FocusEvent.FOCUS_IN,this._focusIn,this);this._txt.addEventListener(pinetree.FocusEvent.FOCUS_OUT,this._focusOut,this);this._bg=new pinetree.Shape();this.addChild(this._bg);this._normalBG=new pinetree.Shape();this.addChild(this._normalBG);this._border=new pinetree.Shape();this.addChild(this._border);this.addChild(this._txt);this._txt.text=l;this._txt.width=this._txtWidth-2*this._txtOffsetX;this._txt.height=this._txtHeight-2*this._txtOffsetY;this._txt.x=this._gapX+this._txtOffsetX;this._txt.y=this._gapY+this._txtOffsetY;this._borderTweener=null;this._bgTweener=null;this.tweenTime=1;this.transition=Quart.easeOut;__defineGetterSetter(this,["txt","text","wordWrap"])};var a=__extends(b,pinetree.Sprite);a.init=function(){var c=this._txtWidth+3*this._gapX;var d=this._txtHeight+3*this._gapY;this._border.graphics.lineStyle(this.border,this.normalBorderColor,1);this._border.graphics.drawRoundRect(0,0,c,d,this._radiusTL,this._radiusTR,this._radiusBL,this._radiusBR);this._border.graphics.stroke();this._border.alpha=this.borderOutAlpha;this._bg.graphics.beginFill(this.normalBgColor,1);this._bg.graphics.drawRoundRect(0,0,c,d,this._radiusTL,this._radiusTR,this._radiusBL,this._radiusBR);this._bg.graphics.endFill();this._bg.alpha=this.bgOutAlpha;if(this._txt.text==""){this._txt.text=this.defaultText}this._txt.textColor=this.normalTextColor};a.setWordWrap=function(c){this._txt.wordWrap=c};a._focusIn=function(c){this._txt.textColor=this.selectTextColor;if(this.defaultText==this._txt.text){this._txt.text=""}TweenMax.to(this._bg,this.tweenTime/2,{alpha:this.bgOverAlpha,ease:Quart.easeOut});this._bgTweener&&this._bgTweener.dispose();this._bgTweener=pinetreecom.ColorUtil.tweenColor(this._bg,this.normalBgColor,this.selectBgColor,this.tweenTime/2);TweenMax.to(this._border,this.tweenTime/2,{alpha:this.borderOverAlpha,ease:Quart.easeOut});this._borderTweener&&this._borderTweener.dispose();this._borderTweener=pinetreecom.ColorUtil.tweenColor(this._border,this.normalBorderColor,this.selectBorderColor,this.tweenTime/2)};a._focusOut=function(c){this._txt.textColor=this.normalTextColor;if(this._txt.text==""){this._txt.text=this.defaultText}TweenMax.to(this._bg,this.tweenTime/2,{alpha:this.bgOutAlpha,ease:Quart.easeOut});this._bgTweener&&this._bgTweener.dispose();this._bgTweener=pinetreecom.ColorUtil.tweenColor(this._bg,this.selectBgColor,this.normalBgColor,this.tweenTime/2);TweenMax.to(this._border,this.tweenTime/2,{alpha:this.borderOutAlpha,ease:Quart.easeOut});this._borderTweener&&this._borderTweener.dispose();this._borderTweener=pinetreecom.ColorUtil.tweenColor(this._border,this.selectBorderColor,this.normalBorderColor,this.tweenTime/2)};a.focus=function(){if(this._txt){this._txt.focus()}};a.reset=function(){this._txt.text=this.defaultText};a.getText=function(){if(!this._txt){return""}return this._txt.text||""};a.getTxt=function(){return this._txt};a.update=function(){this._focusOut(null)};a.dispose=function(){if(this._txt){this._txt.removeEventListener(pinetree.FocusEvent.FOCUS_IN,this._focusIn,this);this._txt.removeEventListener(pinetree.FocusEvent.FOCUS_OUT,this._focusOut,this);this._txt=null}this._borderTweener&&this._borderTweener.dispose();this._borderTweener=null};pinetreecom.InputText=b}());(function(){var b=function(c,e,i,d,g){pinetree.Sprite.call(this);this._bg=null;this._txt=null;this._closeBtn=null;this._bgWidth=__defaultSet(c,200);this._bgHeight=__defaultSet(e,100);this._bgColor=__defaultSet(i,pt.bgColor);this._bgAlpha=__defaultSet(d,1);this._textColor=__defaultSet(g,pt.textColor);this.ON_CLOSE=new pinetree.Signal();this.selectable=false};var a=__extends(b,pinetree.Sprite);a.addedToStage=function(){if(!this.isInitialized){this._bg=new pinetree.Quad();this._bg.className+=" contact_form_status_bg";this.addChild(this._bg);this._bg.alpha=this._bgAlpha;this._bg.width=this._bgWidth;this._bg.height=this._bgHeight;this._txt=new pinetree.TextField();this._txt.className+=" contact_form_status_information";this.addChild(this._txt);this._txt.selectable=false;this._txt.width=this._bgWidth;this.addEventListener(pinetree.MouseEvent.CLICK,this._onClick,this);this.visible=false;this.useMouseHand=true;this.buttonMode=true}pinetree.Sprite.prototype.addedToStage.call(this)};a.showMessage=function(c){this.visible=true;this._txt.text=c;this._txt.y=(this._bgHeight-this._txt.height)>>1;pinetreecom.DelayCaller.delayCall(this,this._onDelayClose,5,null,true)};a._onDelayClose=function(){this._onClick(null)};a.getWidth=function(){return this._bgWidth};a.getHeight=function(){return this._bgHeight};a._onClick=function(c){this.visible=false;this.ON_CLOSE.dispatch();pinetreecom.DelayCaller.removeByOwner(this)};a.dispose=function(){this.ON_CLOSE&&this.ON_CLOSE.removeAll();this.ON_CLOSE=null;this.removeEventListener(pinetree.MouseEvent.CLICK,this._onClick,this);pinetreecom.DelayCaller.removeByOwner(this);pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.FormMessageBox=b}());(function(){var a=function(e,c,d){pinetreecom.UIComponent.call(this);this._url=e||"data/php/contact.php";this._contentWidth=c||200;this._textHeight=35;this._defaultTextColor=__defaultSet(d,pt.bgColor);this._defaultFontSize=14;this._gap=6;this._nameTxt=null;this._emailTxt=null;this._msgTxt=null;this._errorTxt=null;this._setting=null;this._isActive=false;this._resetBtn=null;this._sendBtn=null;this._urlLoader=null;this._msgBox=null};var b=__extends(a,pinetreecom.UIComponent);b.addedToStage=function(){pinetreecom.UIComponent.prototype.addedToStage.call(this);var c=this._contentWidth;var d=pinetree.isDevice?this._textHeight:this._textHeight;var e=0;this._nameTxt=new pinetreecom.InputText(c,d,"",3,3,4,4,e,e,e,e);this._emailTxt=new pinetreecom.InputText(c,d,"",3,3,4,4,e,e,e,e);d=pinetree.isDevice?(this._textHeight+10)*3:(this._textHeight+10)*2+10;this._msgTxt=new pinetreecom.InputText(this._contentWidth,d,"",3,3,4,4,e,e,e,e);this._errorTxt=new pinetree.TextField();this._errorTxt.className+=" error_info_text";this.addChild(this._nameTxt);this.addChild(this._emailTxt);this.addChild(this._msgTxt);this.addChild(this._errorTxt);this._urlLoader=new pinetree.URLLoader();this._urlLoader.addEventListener(pinetree.Event.COMPLETE,this._onSendComplete,this);this._urlLoader.dataFormat=pinetree.URLLoaderDataFormat.VARIABLES;this._msgBox=new pinetreecom.FormMessageBox(220,100,2302755,0.8,16777215);this._msgBox.ON_CLOSE.add(this,this._onCloseMsgBox);this.parent.addChild(this._msgBox)};b.initWith=function(c){this._setting=c;this._isActive=!!this._setting.active;this._setTextFormat(this._nameTxt,false,this._setting.name);this._setTextFormat(this._emailTxt,false,this._setting.email);this._setTextFormat(this._msgTxt,true,this._setting.message);this._nameTxt.x=0;this._emailTxt.y=this._nameTxt.y+this._nameTxt.height+this._gap;this._msgTxt.y=this._emailTxt.y+this._emailTxt.height+this._gap;this._resetBtn=new pinetreecom.TextButton(this._contentWidth,this._textHeight+10,0,0,0,0,pinetree.parseFontSize(14),false,null,false,0,pt.fromColorString(this._setting.buttonTextOverColor),pt.fromColorString(this._setting.buttonTextOutColor),pt.fromColorString(this._setting.buttonBgOverColor),pt.fromColorString(this._setting.buttonBgOutColor),1,1,1,1,pt.onOverColor,pt.onOutColor,0,0);this.addChild(this._resetBtn);this._resetBtn.addEventListener(pinetree.MouseEvent.CLICK,this._reset,this);this._resetBtn.visible=false;this._sendBtn=new pinetreecom.TextButton(this._contentWidth+1,this._textHeight+10,0,0,0,0,pinetree.parseFontSize(14),false,null,false,0,pt.fromColorString(this._setting.buttonTextOverColor),pt.fromColorString(this._setting.buttonTextOutColor),pt.fromColorString(this._setting.buttonBgOverColor),pt.fromColorString(this._setting.buttonBgOutColor),1,1,1,1,pt.onOverColor,pt.onOutColor,0,0);this.addChild(this._sendBtn);this._sendBtn.addEventListener(pinetree.MouseEvent.CLICK,this._send,this);this._resetBtn.text=this._setting.clearButtonLabel||"CLEAR";this._sendBtn.text=this._setting.sendButtonLabel;this._sendBtn.x=0;this._resetBtn.x=0;this._resetBtn.y=this._sendBtn.y=this._msgTxt.y+this._msgTxt.height+this._gap;this._errorTxt.x=0;this._errorTxt.y=-25;this._errorTxt.textColor=pt.onOverColor};b._setTextFormat=function(c,d,e){c.wordWrap=d||false;c.border=1;c.defaultText=e;c.fontSize=this._defaultFontSize;c.normalBgColor=this._setting.normalBgColor==undefined?0:pt.fromColorString(this._setting.normalBgColor);c.selectBgColor=this._setting.selectBgColor==undefined?pt.onOverColor:pt.fromColorString(this._setting.selectBgColor);c.bgOverAlpha=__defaultSet(this._setting.bgOverAlpha,1);c.bgOutAlpha=__defaultSet(this._setting.bgOutAlpha,0.1);c.normalBorderColor=this._setting.normalBorderColor==undefined?this._defaultTextColor:pt.fromColorString(this._setting.normalBorderColor);c.selectBorderColor=this._setting.selectBorderColor==undefined?pt.bgColor:pt.fromColorString(this._setting.selectBorderColor);c.normalTextColor=this._setting.normalTextColor==undefined?this._defaultTextColor:pt.fromColorString(this._setting.normalTextColor);c.selectTextColor=this._setting.selectTextColor==undefined?pt.bgColor:pt.fromColorString(this._setting.selectTextColor);c.borderOverAlpha=__defaultSet(this._setting.borderOverAlpha,1);c.borderOutAlpha=__defaultSet(this._setting.borderOutAlpha,1);c.init()};b._reset=function(){this._nameTxt&&this._nameTxt.reset();this._emailTxt&&this._emailTxt.reset();this._msgTxt&&this._msgTxt.reset();this._errorTxt&&(this._errorTxt.text="");pinetreecom.DelayCaller.removeByHandler(this,this._onDelayClearErrorText)};b._send=function(){var d=pinetreecom.StringUtil.trimAll(this._nameTxt.text)==""||this._nameTxt.text==this._nameTxt.defaultText;var c=pinetreecom.StringUtil.trimAll(this._msgTxt.text)==""||this._msgTxt.text==this._msgTxt.defaultText;var e=pinetreecom.StringUtil.isValidEmail(this._emailTxt.text);pinetreecom.DelayCaller.removeByHandler(this,this._onDelayClearErrorText);if(d){this._errorTxt.text=this._setting.nameIsEmpty;this._nameTxt.focus();pinetreecom.DelayCaller.delayCall(this,this._onDelayClearErrorText,3);return}if(!e){this._errorTxt.text=this._setting.invalidEmail;this._emailTxt.focus();pinetreecom.DelayCaller.delayCall(this,this._onDelayClearErrorText,3);return}if(c){this._errorTxt.text=this._setting.messageIsEmpty;this._msgTxt.focus();pinetreecom.DelayCaller.delayCall(this,this._onDelayClearErrorText,3);return}if(this._isActive){this._startSend()}else{this._showMessage(this._setting.status.success)}this._errorTxt.text="";this.mouseEnabled=this.mouseChildren=false};b._onDelayClearErrorText=function(){this._errorTxt.text=""};b._startSend=function(){var c=new pinetree.URLVariables();c.from_email=this._emailTxt.text;c.subject=this._nameTxt.text;c.message=this._msgTxt.text;var d=new pinetree.URLRequest();d.url=this._url;d.data=c;this._urlLoader.load(d);this._showMessage(this._setting.status.sending)};b._onSendComplete=function(c){var d=this._urlLoader.data;if(d=="1"){this._showMessage(this._setting.status.success)}else{this._showMessage(this._setting.status.error)}};b.updateMsgBoxPosition=function(c,d){if(!this._msgBox){return}this._msgBox.x=c;this._msgBox.y=d};b._showMessage=function(c){this._msgBox.showMessage(c)};b._onCloseMsgBox=function(){this.mouseEnabled=this.mouseChildren=true};b.getWidth=function(){return this._contentWidth};b.getHeight=function(){return this._sendBtn.y+this._sendBtn.height};b.dispose=function(){if(this._resetBtn){this._resetBtn.removeEventListener(pinetree.MouseEvent.CLICK,this._reset,this);this._resetBtn.dispose();this._resetBtn=null}if(this._sendBtn){this._sendBtn.removeEventListener(pinetree.MouseEvent.CLICK,this._send,this);this._sendBtn.dispose();this._sendBtn=null}this._nameTxt&&this._nameTxt.dispose();this._emailTxt&&this._emailTxt.dispose();this._msgTxt&&this._msgTxt.dispose();this._nameTxt=null;this._emailTxt=null;this._msgTxt=null;if(this._msgBox){this._msgBox.removeFromParent(true);this._msgBox=null}pinetreecom.UIComponent.prototype.dispose.call(this)};pinetreecom.ContactForm=a}());(function(){var a=function(c,e,j,d,i,k,g){pinetree.Sprite.call(this);this._width=c;this._height=e;this._originWidth=c;this._originHeight=e;this._bgColor=j==undefined?16777215:j;this._bgAlpha=d==undefined?1:d;if(pinetree.isDevice){i=false}this._useScroll=i==undefined?true:i;this._useHtmlText=k==undefined?true:k;this._ui=null;this._scroll=null;this._infoTxt=null;this._hasTitle=__defaultSet(g,true);this._scrollerX=0;this._scrollerY=0;this._scrollerHeight=150;this._info="";this._title="";this._textContainer=null;this._titleTxt=null;this._bg=null;this._enabled=true;this._triggerRect=null;this.autoHideScroller=pt.autoHideScrollbar;this.sliderWidth=10;this.sliderOverColor=pt.onOverColor;this.sliderOutColor=pt.onOverColor;this.sliderOverAlpha=1;this.sliderOutAlpha=0.8;this.sliderBGColor=6710886;this.sliderBGAlpha=0.3;this.paddingLeft=20;this.paddingRight=20;this.paddingTop=20;this.paddingBottom=20;this.gapBetweenTitleAndInfo=10;this.useMouseWheel=true;this.titleTextColor=null;this.infoTextColor=null;this.index=0;this.originX=0;this.originY=0;this.tweenTime=1;__defineGetterSetter(this,["information","title","padding","contentWidth","contentHeight","scrollGapX","scrollX","scrollY","scrollerHeight","scrollAreaWidth","useScroll","titleHeight","infoScrollHeight","enabled"])};var b=__extends(a,pinetree.Sprite);b.init=function(){this._ui=new pinetree.Sprite();this.addChild(this._ui);this._textContainer=new pinetree.Sprite();this._ui.addChild(this._textContainer);this._infoTxt=new pinetree.TextField();this._infoTxt.className+=" textcontainer_content";this._textContainer.addChild(this._infoTxt);if(this._hasTitle){this._titleTxt=new pinetree.TextField();this._titleTxt.className+=" textcontainer_title";this._textContainer.addChild(this._titleTxt);this._titleTxt.selectable=false}this._bg=new pinetree.Quad();this._bg.color=this._bgColor;this._bg.alpha=this._bgAlpha;this._bg.width=this._width;this._bg.height=this._height;this.addChildAt(this._bg,0);this._textContainer.x=this.paddingLeft;this._textContainer.y=this.paddingTop;this._triggerRect=new pinetreecom.TriggerRect(this._width+20,this._height+20,65280,0);this._triggerRect.ON_ROLL_OVER.add(this,this._onOverRect);this._triggerRect.ON_ROLL_OUT.add(this,this._onOutRect);this._triggerRect.x=-10;this._triggerRect.y=-10;this.addChildAt(this._triggerRect,0);if(this._useScroll){this._scroll=new pinetreecom.VScroller(this.sliderWidth,100,1,1,this.sliderOverColor,this.sliderOutColor,this.sliderOverAlpha,this.sliderOutAlpha,this.sliderBGColor,this.sliderBGAlpha,null,true,true,pt.autoHideScrollbar);this._textContainer.addChild(this._scroll);this._scroll.mouseWheelArea=this._triggerRect;this._scroll.scrollMC.visible=false}};b.getEnabled=function(){return this._enabled};b.setEnabled=function(c){this._enabled=c};b._onOverRect=function(){if(!this._useScroll||!this._enabled){return}pt.isOverTextContainer=true};b._onOutRect=function(){if(!this._useScroll||!this._enabled){return}pt.isOverTextContainer=false};b.setTitle=function(c){if(!this._hasTitle){return}this._title=c;this._titleTxt.width=this._width-this.paddingLeft-this.paddingRight;if(this._useHtmlText){this._titleTxt.htmlText=c}else{this._titleTxt.text=c}this._titleTxt.visible=true};b.setVisible=function(c){this._htmlElement.style.display=c?"block":"none"};b.setInformation=function(e){var h=this.getTitleHeight();var d=this.getGapBetweenTitleAndInfo();if(this._info==e){if(this._useScroll&&this._scroll&&this._scroll.target){this._infoTxt.width=this._width-this.paddingLeft-this.paddingRight;this._infoTxt.height=1;if(this._useHtmlText){this._infoTxt.htmlText=e}else{this._infoTxt.text=e}this._scroll.setSize(this._width-this.paddingLeft-this.paddingRight,this._infoTxt.height,this._height-h-d-this.paddingTop-this.paddingBottom,this._scrollerX||this._width-this.paddingLeft-this.paddingRight,this._scrollerY||0);var c=this.getInfoScrollHeight();var g=this._scrollerHeight||c;if(g>c){g=c}this._scroll.scrollerHeight=g;this._infoTxt.height=this._infoTxt.htmlElement.scrollHeight;this._triggerRect.height=this._height;this._bg.height=this._height;return}}this._info=e;if(this._useScroll&&this._scroll){this._infoTxt.width=this._width-this.paddingLeft-this.paddingRight;if(this._useHtmlText){this._infoTxt.htmlText=e}else{this._infoTxt.text=e}if(this._hasTitle){this._titleTxt.height=10;this.setTitle(this._title)}this._scroll.visible=true;this._scroll.scrollBar.useMouseWheel=this.useMouseWheel;this._scroll.y=h+d;this._scroll.removeTarget();this._scroll.addTarget(this._infoTxt,0,0,0);this._scroll.setSize(this._width-this.paddingLeft-this.paddingRight,this._infoTxt.height,this._height-h-d-this.paddingTop-this.paddingBottom,this._scrollerX||this._width-this.paddingLeft-this.paddingRight,this._scrollerY||0);this._scroll.scrollerHeight=this._scrollerHeight||this._height-h-d-this.paddingTop-this.paddingBottom;this._scroll.reset();this._infoTxt.y=0;this._bg.height=this._height}else{if(this._scroll){this._scroll.visible=false;this._scroll.removeTarget()}this._textContainer.addChild(this._infoTxt);this._infoTxt.width=this._width-this.paddingLeft-this.paddingRight;this._infoTxt.height=1;if(this._useHtmlText){this._infoTxt.htmlText=e}else{this._infoTxt.text=e}this._infoTxt.y=h+d;this._bg.height=Math.floor(this._infoTxt.height+this._infoTxt.y+this.paddingTop+this.paddingBottom);this._height=this._bg.height}this._bg.visible=true;this._triggerRect.height=this._height};b.setUseScroll=function(c){if(this._useScroll==c){return}this._useScroll=c;this.information=this._info};b.getInformation=function(){return this._info};b.getTitle=function(){return this._title};b.setPadding=function(c){this.paddingLeft=this.paddingRight=this.paddingTop=this.paddingBottom=c};b.getInfoScrollHeight=function(){var d=this.getTitleHeight();var c=this.getGapBetweenTitleAndInfo();return this._height-d-c-this.paddingTop-this.paddingBottom};b.getRealHeight=function(){return this.getTitleHeight()+this.getGapBetweenTitleAndInfo()+this._infoTxt.height};b.getTitleHeight=function(){return this._hasTitle?this._titleTxt.height:0};b.getGapBetweenTitleAndInfo=function(){return this._hasTitle?this.gapBetweenTitleAndInfo:0};b.getContentWidth=function(){return this._width};b.setContentWidth=function(c){if(this._width==c){return}this._width=c;this._bg.width=this._width;this.title=this._title;this.information=this._info;if(this._triggerRect){this._triggerRect.width=this._width+20}};b.getContentHeight=function(){return this._height};b.setContentHeight=function(c){if(this._height==c){return}this._height=c;this._bg.height=this._height;this.information=this._info};b.setScrollGapX=function(c){this.scrollX=this._width-this._textContainer.x-this.sliderWidth-c};b.setScrollX=function(c){if(!this._useScroll){return}this._scrollerX=c;this._scroll.setScrollerX(c)};b.setScrollY=function(c){if(!this._useScroll){return}this._scrollerY=c;this._scroll.setScrollerY(c)};b.setScrollerHeight=function(c){if(!this._useScroll){return}this._scrollerHeight=c;this._scroll.scrollerHeight=c};b.setScrollAreaWidth=function(c){if(!this._useScroll){return}this._scroll.scrollAreaWidth=c};b.show=function(d,c,e,g){if(d==undefined){d=1}if(c==undefined){c=0}if(e==undefined){e=Quad.easeOut}this._triggerRect.isEnabled=true;if(this._textContainer.visible){return}if(d==0&&c==0){this._textContainer.alpha=1;this._textContainer.visible=true;g&&g();return}this._textContainer.alpha=0;this._textContainer.visible=true;TweenMax.to(this._textContainer,d,{alpha:1,delay:c,onComplete:g,ease:e})};b.hide=function(d,c,e,g){if(d==undefined){d=1}if(c==undefined){c=0}this._triggerRect.isEnabled=false;pt.isOverTextContainer=false;if(d==0&&c==0){this._textContainer.alpha=0;this._textContainer.visible=false;g&&g();return}TweenMax.to(this._textContainer,d,{alpha:0,delay:c,onComplete:this._hideComplete,onCompleteParams:[this,g],ease:this.transition})};b._hideComplete=function(c,d){c._textContainer.visible=false;d&&d()};b.reset=function(){this._info="";this._title="";this._infoTxt.htmlText="";this._infoTxt.height=1;this._width=this._originWidth;if(this._triggerRect){this._triggerRect.width=this._width+20}this._height=this._originHeight;this._scroll&&this._scroll.reset();pt.isOverTextContainer=false};b.dispose=function(){this._scroll&&this._scroll.dispose();this._scroll=null;pt.isOverTextContainer=false;this._triggerRect&&this._triggerRect.removeFromParent();this._triggerRect&&this._triggerRect.dispose();this._triggerRect=null;TweenMax.killTweensOf(this._textContainer);pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.TextContainer=a})();(function(){var a=function(){pinetree.InteractiveObject.call(this);this._disposed=false;this.ON_LOAD_COMPLETE=new pinetree.Signal();this.ON_IO_ERROR=new pinetree.Signal();this._img=new Image();this._img.style.position="absolute";this._img.owner=this;this._img.onload=this.onLoadImgComplete;this._img.onerror=this.onLoadImgError;this._htmlElement.appendChild(this._img);this._bitmapData=null;this._isLoaded=false;__defineGetterSetter(this,["originWidth","originHeight","isLoaded","bitmapData"])};var b=__extends(a,pinetree.InteractiveObject);b.load=function(c){if(this._disposed){return}this._isLoaded=false;if(c instanceof pinetree.URLRequest){this._img.src=c.url}else{this._img.src=c}};b.onLoadImgComplete=function(d){var c=this.owner;if(c._disposed){return}c.dispatchWith(pinetree.Event.COMPLETE);c.ON_LOAD_COMPLETE&&c.ON_LOAD_COMPLETE.dispatch(c);c._isLoaded=true};b.onLoadImgError=function(d){var c=this.owner;if(c._disposed){return}c.dispatchWith(pinetree.Event.IO_ERROR);c.ON_IO_ERROR&&c.ON_IO_ERROR.dispatch(c)};b.getIsLoaded=function(){return this._isLoaded};b.setWidth=function(c){this._img.style.width=c+"px";pinetree.InteractiveObject.prototype.setWidth.call(this,c)};b.setHeight=function(c){this._img.style.height=c+"px";pinetree.InteractiveObject.prototype.setHeight.call(this,c)};b.getOriginWidth=function(){return this._img.naturalWidth};b.getOriginHeight=function(){return this._img.naturalHeight};b.getImageElement=function(){return this._img};b.getBitmapData=function(){if(this._disposed){return null}if(!this._img){return null}if(this._bitmapData){return this._bitmapData}this._bitmapData=new pinetree.BitmapData(this.getOriginWidth(),this.getOriginHeight());this._bitmapData.draw(this._img);return this._bitmapData};b.dispose=function(){if(this._disposed){return}if(this._img){this._img.owner=null;this._img.onload=null;this._img.onerror=null;if(this._img.parentNode==this._htmlElement){this._htmlElement.removeChild(this._img)}this._img=null}if(this._bitmapData){this._bitmapData.dispose();this._bitmapData=null}this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.removeAll();this.ON_LOAD_COMPLETE=null;this.ON_IO_ERROR&&this.ON_IO_ERROR.removeAll();this.ON_IO_ERROR=null;this._disposed=true;pinetree.InteractiveObject.prototype.dispose.call(this)};pinetreecom.ExImage=a})();(function(){var a=function(j,d,c,h,i,l,k,g,e){pinetree.Sprite.call(this);this._disposed=false;this._radius=j;this._annulusWidth=__defaultSet(d,1);this._borderWidth=__defaultSet(c,1);this._borderColor=__defaultSet(h,16777215);this._borderAlpha=__defaultSet(i,0);this._bgFillColor=__defaultSet(l,16777215);this._bgFillAlpha=__defaultSet(k,0);this._needLoading=!!g;this._loadingClass=e||null;this.loading=null;this.tweenTime=1;this.transition=Linear.easeNone;this._loader=new pinetreecom.ExImage();this._loader.addEventListener(pinetree.Event.COMPLETE,this.onLoadComplete,this);this._loader.addEventListener(pinetree.Event.IO_ERROR,this.onIOError,this);this._htmlElement=document.createElement("div");this._htmlElement.style.position="absolute";this._bg=new pinetree.CanvasCircle(j+d+c,true);this.addChild(this._bg);this._bg.color=this._bgFillColor;this._bg.alpha=this._bgFillAlpha;this._bg.x=this._bg.radius;this._bg.y=this._bg.radius;this._canvasBorder=document.createElement("canvas");this._canvasBorder.width=(this._radius+this._annulusWidth+this._borderWidth)*2;this._canvasBorder.height=(this._radius+this._annulusWidth+this._borderWidth)*2;this._canvasBorder.style.position="absolute";this._htmlElement.appendChild(this._canvasBorder);this._graphicsBorder=new pinetree.Graphics(this._canvasBorder);this._isLoaded=false;this._canvas=document.createElement("canvas");this._canvas.width=(this._radius+this._annulusWidth+this._borderWidth)*2;this._canvas.height=(this._radius+this._annulusWidth+this._borderWidth)*2;this._canvas.style.position="absolute";this._htmlElement.appendChild(this._canvas);this._graphics=new pinetree.Graphics(this._canvas);this._canvas.style.opacity=0;this.ON_LOAD_COMPLETE=new pinetree.Signal();this.ON_IO_ERROR=new pinetree.Signal();__defineGetterSetter(this,["isLoaded","bg"])};var b=__extends(a,pinetree.Sprite);b.load=function(d){this._loader.load(d);if(this._needLoading){var e=this._loadingClass?this._loadingClass:pinetreecom.CommonLoading;this.loading=new e();this.loading.x=this._radius+this._annulusWidth+this._borderWidth;this.loading.y=this._radius+this._annulusWidth+this._borderWidth;this.addChild(this.loading);this.loading.show()}};b.onLoadComplete=function(o){if(this._disposed){return}if(this.loading){this.loading.dispose();this.loading.removeFromParent();this.loading=null}var l=o.customTarget;var m=l.getImageElement();if(m){var k=this._radius*2;var j=this._radius*2;var e=m.naturalWidth;var n=m.naturalHeight;var g=Math.max(k/e,j/n);var i=Math.ceil(e*g);var d=Math.ceil(n*g);var c=(k-i)>>1;var p=(j-d)>>1;this._graphics.beginFill(16711680,1);this._graphics.drawCircle(this._radius+this._annulusWidth+this._borderWidth,this._radius+this._annulusWidth+this._borderWidth,this._radius);this._graphics.endFill();this._graphics.context.globalCompositeOperation="source-in";this._graphics.context.drawImage(m,c+this._annulusWidth+this._borderWidth,p+this._annulusWidth+this._borderWidth,i,d);this._graphicsBorder.lineStyle(this._borderWidth,this._borderColor,this._borderAlpha);this._graphicsBorder.beginFill(this._borderColor,0);this._graphicsBorder.drawCircle(this._radius+this._annulusWidth+this._borderWidth,this._radius+this._annulusWidth+this._borderWidth,this._radius+this._annulusWidth);this._graphicsBorder.endFill();this._graphicsBorder.stroke()}this._isLoaded=true;TweenMax.to(this._canvas.style,this.tweenTime/2,{opacity:1,ease:this.transition});this.dispatchWith(pinetree.Event.COMPLETE);this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.dispatch(this)};b.onIOError=function(c){trace("Warning: IOError at CircleImage::onIOError()");if(this._disposed){return}if(this.loading){this.loading.dispose();this.loading.removeFromParent();this.loading=null}this.dispatchWith(pinetree.Event.IO_ERROR);this.ON_IO_ERROR&&this.ON_IO_ERROR.dispatch(this)};b.getBg=function(){return this._bg};b.getIsLoaded=function(){return this._isLoaded};b.dispose=function(){if(this._disposed){return}this._disposed=true;TweenMax.killTweensOf(this._canvas.style);if(this.loading){this.loading.dispose();this.loading.removeFromParent();this.loading=null}if(this._bg){TweenMax.killTweensOf(this._bg);this._bg.dispose();this._bg=null}this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.removeAll();this.ON_LOAD_COMPLETE=null;this.ON_IO_ERROR&&this.ON_IO_ERROR.removeAll();this.ON_IO_ERROR=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.CircleImage=a})();(function(){var a=function(d,c){pinetreecom.ExImage.call(this);this._offsetWidth=d||0;this._offsetHeight=c||0;this.overflow="hidden"};var b=__extends(a,pinetreecom.ExImage);b.addedToStage=function(){this.stage.addEventListener(pinetree.Event.RESIZE,this.onResize,this);this.onResize(null)};b.removedFromStage=function(){this.stage.removeEventListener(pinetree.Event.RESIZE,this.onResize,this);pinetreecom.ExImage.prototype.removedFromStage.call(this)};b.onLoadImgComplete=function(c){pinetreecom.ExImage.prototype.onLoadImgComplete.call(this,c);this.onResize(null)};b.onResize=function(d){if(!this.isLoaded||!this.stage){return}var h=this.stage.stageWidth-this._offsetWidth;var e=this.stage.stageHeight-this._offsetHeight;var i=Math.min(this.originWidth/h,this.originHeight/e);var g=this.originWidth/i;var c=this.originHeight/i;this.width=g;this.height=c};b.dispose=function(){pinetree.stage.removeEventListener(pinetree.Event.RESIZE,this._onResize,this);pinetreecom.ExImage.prototype.dispose.call(this)};pinetreecom.FullScreenImage=a})();(function(){var a=function(c,d,e){pinetree.Sprite.call(this);this._width=c;this._height=d;this._container=new pinetree.Sprite();this.addChild(this._container);this._loader=null;this._loaderWidth=0;this._loaderHeight=0;this._tweenScale=0;this.percent=0;this._align=e||pinetreecom.FullRectImage.ALIGN_LEFTTOP;this._normalLoader=new pinetreecom.ExImage();this._normalLoader.addEventListener(pinetree.Event.COMPLETE,this.onLoadImgComplete,this);this._normalLoader.addEventListener(pinetree.Event.IO_ERROR,this.onLoadImgError,this);this._container.addChild(this._normalLoader);this._landscapeLoader=null;this._loadIndex=0;this._loadCount=1;this.index=0;this.ON_LOAD_COMPLETE=new pinetree.Signal();this.ON_IO_ERROR=new pinetree.Signal();this.alpha=0;__defineGetterSetter(this,["imageWidth","imageHeight","isLoaded"])};a.ALIGN_LEFTTOP="lt";a.ALIGN_RIGHTTOP="rt";a.ALIGN_CENTER="c";a.ALIGN_CENTERTOP="ct";a.ALIGN_CENTERBOTTOM="cb";a.ALIGN_LEFTBOTTOM="lb";a.ALIGN_RIGHTBOTTOM="rb";var b=__extends(a,pinetree.Sprite);b.load=function(d,c){if(c){this._loadCount++}this._normalLoader.load(d);if(c){this._landscapeLoader=new pinetreecom.ExImage();this._landscapeLoader.addEventListener(pinetree.Event.COMPLETE,this.onLoadImgComplete,this);this._landscapeLoader.addEventListener(pinetree.Event.IO_ERROR,this.onLoadImgError,this);this._container.addChild(this._landscapeLoader);this._landscapeLoader.load(c)}};b.onLoadImgComplete=function(c){this._loadIndex++;if(this._loadIndex<this._loadCount){return}this.dispatchWith(pinetree.Event.COMPLETE);this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.dispatch(this);this._isLoaded=true};b.onLoadImgError=function(c){trace("Warning: IOError at FullRectImage::onIOError()");this._loadIndex++;if(this._loadIndex<this._loadCount){return}this.dispatchWith(pinetree.Event.IO_ERROR);this.ON_IO_ERROR&&this.ON_IO_ERROR.dispatch(this)};b.getImageWidth=function(){return this._width};b.getImageHeight=function(){return this._height};b.setImageSize=function(c,d){this._width=c;this._height=d;var e=Math.max(c/this._loader.originWidth,d/this._loader.originHeight);this._loaderWidth=this._loader.originWidth*e;this._loaderHeight=this._loader.originHeight*e;this._loader.width=this._loaderWidth;this._loader.height=this._loaderHeight;this.align()};b.setMaskSize=function(c,d){this.clip=new pinetree.Rectangle(0,0,c,d);this.width=c;this.height=d};b.redraw=function(c,d){this._loader=this._landscapeLoader?(c>d?this._landscapeLoader:this._normalLoader):this._normalLoader;if(this._landscapeLoader){this._normalLoader.visible=c<=d;this._landscapeLoader.visible=!this._normalLoader.visible}this.setImageSize(c,d);this.setMaskSize(c,d)};b.align=function(){if(this._align==pinetreecom.FullRectImage.ALIGN_LEFTTOP){}else{if(this._align==pinetreecom.FullRectImage.ALIGN_RIGHTTOP){this._loader.x=this._width-this._loaderWidth}else{if(this._align==pinetreecom.FullRectImage.ALIGN_CENTER){this._loader.x=(this._width-this._loaderWidth)>>1;this._loader.y=(this._height-this._loaderHeight)>>1}else{if(this._align==pinetreecom.FullRectImage.ALIGN_CENTERTOP){this._loader.x=(this._width-this._loaderWidth)>>1}else{if(this._align==pinetreecom.FullRectImage.ALIGN_CENTERBOTTOM){this._loader.x=(this._width-this._loaderWidth)>>1;this._loader.y=this._height-this._loaderHeight}else{if(this._align==pinetreecom.FullRectImage.ALIGN_LEFTBOTTOM){this._loader.y=this._height-this._loaderHeight}else{if(this._align==pinetreecom.FullRectImage.ALIGN_RIGHTBOTTOM){this._loader.x=this._width-this._loaderWidth;this._loader.y=this._height-this._loaderHeight}}}}}}}};b.zoom=function(d,c){d=__defaultSet(d,1);c=__defaultSet(c,100);this._container.translate(0,0);this._container.scale=1;this._tweenScale=Math.min(c/pt.stageWidth,c/pt.stageHeight);this.percent=0;TweenMax.to(this,d,{percent:1,ease:Linear.easeNone,onUpdate:this._onZoomUpdate,onUpdateParams:[this,c]})};b._onZoomUpdate=function(c,d){var g=1+c._tweenScale*c.percent;var e="scale("+g+")";c._loader.htmlStyle.transform=e;c._loader.htmlStyle.msTransform=e;c._loader.htmlStyle.webkitTransform=e;c._loader.htmlStyle.oTransform=e;c._loader.htmlStyle.mozTransform=e};b.show=function(d,c,e,g){if(d==undefined){d=1}if(c==undefined){c=0}if(e==undefined){e=Quint.easeOut}this.alpha=0;if(!pinetree.isSupportTransition){TweenMax.to(this,d,{alpha:1,delay:c,ease:e,onComplete:g})}else{this.tweenAlphaByCSS(1,d,c,"linear",g)}};b.hide=function(d,c,e,g){if(d==undefined){d=1}if(c==undefined){c=0}if(e==undefined){e=Linear.easeNone}if(!pinetree.isSupportTransition){TweenMax.to(this,d,{alpha:0,delay:c,ease:e,onComplete:g})}else{this.tweenAlphaByCSS(0,d,c,"linear",g)}};b.getIsLoaded=function(){return this._isLoaded};b.dispose=function(){TweenMax.killTweensOf(this);if(this._normalLoader){this._normalLoader.removeEventListener(pinetree.Event.COMPLETE,this.onLoadImgComplete,this);this._normalLoader.removeEventListener(pinetree.Event.IO_ERROR,this.onLoadImgError,this);this._normalLoader.dispose();this._normalLoader=null}if(this._landscapeLoader){this._landscapeLoader.removeEventListener(pinetree.Event.COMPLETE,this.onLoadImgComplete,this);this._landscapeLoader.removeEventListener(pinetree.Event.IO_ERROR,this.onLoadImgError,this);this._landscapeLoader.dispose();this._landscapeLoader=null}this._loader=null;this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.removeAll();this.ON_LOAD_COMPLETE=null;this.ON_IO_ERROR&&this.ON_IO_ERROR.removeAll();this.ON_IO_ERROR=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.FullRectImage=a})();(function(){var b=function(c){pinetree.EventDispatcher.call(this);this._data=null;this._url=null;this._loader=null;this._loading=c||null;this.index=0;this.ON_PROGRESS=new pinetree.Signal();this.ON_LOAD_COMPLETE=new pinetree.Signal();this.ON_IO_ERROR=new pinetree.Signal();__defineGetterSetter(this,["url","data","loader","loading"])};var a=__extends(b,pinetree.EventDispatcher);a.load=function(c){if(c){this._url=c}if(this._url&&this._loader){if(this._url instanceof pinetree.URLRequest){this._loader.load(this._url)}else{this._loader.load(new pinetree.URLRequest(this._url))}}if(this._loading){this._loading.enabled=true;this._loading.percent=0}};a.onLoadComplete=function(c){this.dispatchWith(pinetree.Event.COMPLETE);this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.dispatch(this);if(this._loading){this._loading.percent=1}};a.onIOError=function(c){trace("Warning: IOError at LoaderBase::onIOError()");this.dispatchWith(pinetree.Event.IO_ERROR);this.ON_IO_ERROR&&this.ON_IO_ERROR.dispatch(this)};a.getLoader=function(){return this._loader};a.getLoading=function(){return this._loading};a.setUrl=function(c){this._url=c};a.getUrl=function(){return this._url};a.getData=function(){return this._data};a.close=function(){if(this._loader){this._loader.hasOwnProperty("close")&&this._loader.close()}};a.dispose=function(){this.ON_PROGRESS&&this.ON_PROGRESS.removeAll();this.ON_IO_ERROR&&this.ON_IO_ERROR.removeAll();this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.removeAll();this.ON_PROGRESS=null;this.ON_IO_ERROR=null;this.ON_LOAD_COMPLETE=null;this._loader&&this._loader.dispose();this._loader=null;this._loading=null;pinetree.EventDispatcher.prototype.dispose.call(this)};pinetreecom.LoaderBase=b})();(function(){var a=function(c){pinetreecom.LoaderBase.call(this,c);this._loader=new pinetreecom.ExImage();this._loader.addEventListener(pinetree.Event.COMPLETE,this.onLoadComplete,this);this._loader.addEventListener(pinetree.Event.IO_ERROR,this.onIOError,this);__defineGetterSetter(this,["bitmapData"])};var b=__extends(a,pinetreecom.LoaderBase);b.onLoadComplete=function(c){pinetreecom.LoaderBase.prototype.onLoadComplete.call(this,c)};b.getBitmapData=function(){if(!this._data){this._data=this._loader.bitmapData}return this._data};b.dispose=function(){if(this._loader){this._loader.removeEventListener(pinetree.Event.COMPLETE,this.onLoadComplete,this);this._loader.removeEventListener(pinetree.Event.IO_ERROR,this.onIOError,this);this._loader.dispose();this._loader=null}pinetreecom.LoaderBase.prototype.dispose.call(this)};pinetreecom.BitmapLoader=a}());(function(){var b=function(d,c){pinetreecom.LoaderBase.call(this,d);this._total=__defaultSet(c,0);this._loader=new pinetree.URLLoader();this._loader.addEventListener(pinetree.Event.PROGRESS,this.onLoadProgress,this);this._loader.addEventListener(pinetree.Event.COMPLETE,this.onLoadComplete,this);this._loader.addEventListener(pinetree.Event.IO_ERROR,this.onIOError,this)};var a=__extends(b,pinetreecom.LoaderBase);a.onLoadProgress=function(c){var d;if(c){d=this._total>0?c.loaded/this._total:0}this.ON_PROGRESS.dispatch(d);if(this._loading){this._loading.percent=d}};a.load=function(c){if(c){this._url=c}var d=new pinetree.URLRequest();if(__global.isDebug){d.url=(this._url instanceof pinetree.URLRequest)?this._url.url:this._url}else{this._loader.dataFormat=pinetree.URLLoaderDataFormat.VARIABLES;var e=new pinetree.URLVariables();e.file_url=(this._url instanceof pinetree.URLRequest)?this._url.url:this._url;d.url=PARENT_URL+"data/php/proxy.php";d.data=e}if(this._loader){this._loader.load(d)}if(this._loading){this._loading.enabled=true;this._loading.percent=0}};a.onLoadComplete=function(c){this._data=this._loader.data;pinetreecom.LoaderBase.prototype.onLoadComplete.call(this,c)};a.dispose=function(){if(this._loader){this._loader.removeEventListener(pinetree.Event.PROGRESS,this.onLoadProgress,this);this._loader.removeEventListener(pinetree.Event.COMPLETE,this.onLoadComplete,this);this._loader.removeEventListener(pinetree.Event.IO_ERROR,this.onIOError,this);this._loader.dispose();this._loader=null}pinetreecom.LoaderBase.prototype.dispose.call(this)};pinetreecom.FileLoader=b}());(function(){var a=function(c,d){this._currentIndex=0;this._loaders=[];this._loading=d||null;this._percent=0;this._fileCountPercent=0;this._sectionPercent=0;this._partConstPercent=0;if(c){this._loaders=c.concat()}this.ON_COMPLETE_ALL=new pinetree.Signal();this.ON_COMPLETE_ONE=new pinetree.Signal();this.ON_IO_ERROR=new pinetree.Signal();this.ON_PROGRESS=new pinetree.Signal();__defineGetterSetter(this,["count","sectionPercent","fileCountPercent","percent"])};var b=a.prototype;b.add=function(c){this._loaders.push(c)};b.addLoaders=function(c){this._loaders=this._loaders.concat(c)};b.getCount=function(){return this._loaders.length};b.getFileCountPercent=function(){return this._fileCountPercent};b.getSectionPercent=function(){return this._sectionPercent};b.getPercent=function(){return this._percent};b.start=function(){this._currentIndex=0;this._sectionPercent=0;this._fileCountPercent=0;this._percent=0;this._partConstPercent=1/this.getCount();if(this._loading){this._loading.enabled=true}this._load()};b._load=function(){if(this._loaders.length<1){return}this._sectionPercent=0;var c=this._loaders[this._currentIndex];c.addEventListener(pinetree.Event.COMPLETE,this._onLoadComplete,this);c.addEventListener(pinetree.Event.IO_ERROR,this._onIOError,this);c.ON_PROGRESS.add(this,this._onLoadProgress);pinetreecom.DelayCaller.delayAfterFrames(c,c.load,1)};b._onLoadProgress=function(c){this._sectionPercent=c*this._partConstPercent;this._percent=this._fileCountPercent+this._sectionPercent;this.ON_PROGRESS.dispatch(this._percent);if(this._loading){this._loading.percent=this._percent}};b._onLoadComplete=function(d){var c=d.customTarget;c.removeEventListener(pinetree.Event.COMPLETE,this._onLoadComplete,this);c.removeEventListener(pinetree.Event.IO_ERROR,this._onIOError,this);this.ON_COMPLETE_ONE.dispatch(c);this._currentIndex++;this._fileCountPercent=this.getCount()>0?this._currentIndex/this.getCount():0;this._percent=this._fileCountPercent;this.ON_PROGRESS.dispatch(this._percent);if(this._loading){this._loading.percent=this._percent}if(this._currentIndex<this.getCount()){this._load()}else{this.ON_COMPLETE_ALL.dispatch(this._loaders)}};b._onIOError=function(d){var c=d.customTarget;c.removeEventListener(pinetree.Event.COMPLETE,this._onLoadComplete,this);c.removeEventListener(pinetree.Event.IO_ERROR,this._onIOError,this);this.ON_IO_ERROR.dispatch(d);this._currentIndex++;if(this._currentIndex<this._loaders.length){this._load()}else{this.ON_COMPLETE_ALL.dispatch(this._loaders)}};b.reset=function(){if(this._loaders.length>0){var d,c;for(d in this._loaders){c=this._loaders[d];if(c){c.removeEventListener(pinetree.Event.COMPLETE,this._onLoadComplete,this);c.removeEventListener(pinetree.Event.IO_ERROR,this._onIOError,this);c.dispose();c=null}}}this._loaders.splice(0,this._loaders.length)};b.dispose=function(){if(this._loaders){this.reset()}this._loaders=null;if(this._loading){this._loading.enabled=false;this._loading=null}this.ON_COMPLETE_ALL&&this.ON_COMPLETE_ALL.removeAll();this.ON_COMPLETE_ONE&&this.ON_COMPLETE_ONE.removeAll();this.ON_IO_ERROR&&this.ON_IO_ERROR.removeAll();this.ON_PROGRESS&&this.ON_PROGRESS.removeAll();this.ON_COMPLETE_ALL=null;this.ON_COMPLETE_ONE=null;this.ON_IO_ERROR=null;this.ON_PROGRESS=null};pinetreecom.LoaderQueue=a}());(function(){var a=function(h,k,d,j,e,i,g,c){pinetreecom.UIComponent.call(this);this._iconColor=h;this._bgWidth=__defaultSet(k,50);this._bgHeight=__defaultSet(d,40);if(!pinetree.hasProgressEvent){this._bgWidth=Math.floor(1.5*this._bgWidth)}this._isAuto=__defaultSet(c,true);this._isShowing=false;this.tweenTime=1;this.transition=Quart.easeInOut;this._container=new pinetree.Sprite();this.addChild(this._container);this._icon=null;this._loadingBg=new pinetree.CanvasQuad(2,0,2,0);this._loadingBg.width=this._bgWidth;this._loadingBg.height=this._bgHeight;this._loadingBg.color=__defaultSet(j,pt.bgColor);this._loadingBg.alpha=__defaultSet(e,1);pinetreecom.CommonUtil.setSimpleShadow(this._loadingBg);this._container.addChild(this._loadingBg);this._txt=new pinetree.TextField();this._txt.className+=" loadingtext";this._txt.selectable=false;this._txt.mouseEnabled=false;this._container.addChild(this._txt);__defineGetterSetter(this,["percent","enabled","isShowing"])};var b=__extends(a,pinetreecom.UIComponent);b.addedToStage=function(){if(!this.isInitialized){var c=pt.getCommonTexture(pinetreepages.EnumTextures.LOADING_CIRCLE_ICON_MINI);this._icon=new pinetree.TextureImage(c);this._container.addChild(this._icon);pinetreecom.ColorUtil.setColor(this._icon,this._iconColor);this._icon.selectable=false;this._txt.width=this._bgWidth;this._txt.text="Loading";var g=3;var d=this._icon.height+this._txt.height+g;var e=(this._bgHeight-d)>>1;this._icon.x=(this._bgWidth-this._icon.width)>>1;this._icon.y=e;this._txt.x=0;this._txt.y=e+this._icon.height+g}pinetreecom.UIComponent.prototype.addedToStage.call(this);this.redraw()};b.setPercent=function(c){if(c<0){c=0}if(c>1){c=1}if(this._isAuto){if(c<1){this.show()}else{this.hide()}}};b.setEnabled=function(c){};b.resize=function(c,d){TweenMax.killTweensOf(this._container,false,{x:true});if(this._isShowing){this._container.x=c-this._bgWidth}else{this._container.x=c+50}this._container.y=pt.TOP_HEIGHT+((d-pt.TOP_HEIGHT-this._bgHeight-pt.FOOTER_HEIGHT)>>1)};b.show=function(){if(this._isShowing){return}this._isShowing=true;this.percent=0;TweenMax.killTweensOf(this._container,false,{x:true});TweenMax.to(this._container,this.tweenTime/2,{x:pt.stageWidth-this._bgWidth,ease:this.transition});this.removeEventListener(pinetree.Event.ENTER_FRAME,this._onEnterFrame,this);this.addEventListener(pinetree.Event.ENTER_FRAME,this._onEnterFrame,this)};b.hide=function(){this._isShowing=false;TweenMax.killTweensOf(this._container,false,{x:true});TweenMax.to(this._container,this.tweenTime/2,{x:pt.stageWidth+50,ease:this.transition,onComplete:this._onHideComplete,onCompleteParams:[this]})};b._onHideComplete=function(c){c.removeEventListener(pinetree.Event.ENTER_FRAME,this._onEnterFrame,this)};b._onEnterFrame=function(c){if(this._icon){this._icon.rotation+=10}};b.getIsShowing=function(){return this._isShowing};b.dispose=function(){this.removeEventListener(pinetree.Event.ENTER_FRAME,this._onEnterFrame,this);this._icon&&this._icon.dispose();this._icon=null;this._loadingBg&&this._loadingBg.dispose();this._loadingBg=null;pinetreecom.UIComponent.prototype.dispose.call(this)};pinetreecom.AssetLoading=a}());(function(){var a=function(c){pinetree.Sprite.call(this);this._icon=null;this._bg=null;this._type=__defaultSet(c,"big");this.alpha=0;this.tweenTime=1;this.transition=Quad.easeOut;this.iconColor=pt.onOverColor;this.bgColor=pt.bgColor;this.iconAlpha=1;this.bgAlpha=0.2};var b=__extends(a,pinetree.Sprite);b.addedToStage=function(){if(!this.isInitialized){var c=null;if(this._type=="big"){c=pt.getCommonTexture(pinetreepages.EnumTextures.LOADING_CIRCLE_BG)}else{if(this._type=="middle"){c=pt.getCommonTexture(pinetreepages.EnumTextures.LOADING_CIRCLE_BG_MIDDLE)}else{c=pt.getCommonTexture(pinetreepages.EnumTextures.LOADING_CIRCLE_BG_MINI)}}this._bg=new pinetree.TextureImage(c);this._bg.x=-this._bg.width>>1;this._bg.y=-this._bg.height>>1;this._bg.alpha=this.bgAlpha;this.addChild(this._bg);pinetreecom.ColorUtil.setColor(this._bg,this.bgColor);if(this._type=="big"){c=pt.getCommonTexture(pinetreepages.EnumTextures.LOADING_CIRCLE_ICON)}else{if(this._type=="middle"){c=pt.getCommonTexture(pinetreepages.EnumTextures.LOADING_CIRCLE_ICON_MIDDLE)}else{c=pt.getCommonTexture(pinetreepages.EnumTextures.LOADING_CIRCLE_ICON_MINI)}}this._icon=new pinetree.TextureImage(c);this._icon.x=-this._icon.width>>1;this._icon.y=-this._icon.height>>1;this._icon.alpha=this.iconAlpha;this.addChild(this._icon);pinetreecom.ColorUtil.setColor(this._icon,this.iconColor);this.selectable=false}pinetree.Sprite.prototype.addedToStage.call(this)};b.show=function(){this.visible=true;TweenMax.to(this,this.tweenTime/2,{alpha:1,ease:this.transition});this.removeEventListener(pinetree.Event.ENTER_FRAME,this._onEnterFrame,this);this.addEventListener(pinetree.Event.ENTER_FRAME,this._onEnterFrame,this)};b.hide=function(){this._onHideComplete(this)};b._onHideComplete=function(c){TweenMax.killTweensOf(c,false,{alpha:true});c.alpha=0;c.removeEventListener(pinetree.Event.ENTER_FRAME,this._onEnterFrame,this)};b._onEnterFrame=function(c){if(this._icon){this._icon.rotation+=5}};b.dispose=function(){this.removeEventListener(pinetree.Event.ENTER_FRAME,this._onEnterFrame,this);this._icon&&this._icon.dispose();this._icon=null;this._bg&&this._bg.dispose();this._bg=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.CommonLoading=a}());(function(){var a=function(c,h,e,i,j,d,g){pinetree.Sprite.call(this);this._radius=c;this._annularWidth=h;this._loadingColor=__defaultSet(e,16777215);this._bgColor=__defaultSet(i,13421772);this._loadingAlpha=__defaultSet(j,1);this._bgAlpha=__defaultSet(d,1);this._startAngle=__defaultSet(g,-90);this._bg=new pinetree.Shape();this._bg.x=-(Math.round(h>>1)+c);this._bg.y=-(Math.round(h>>1)+c);this.addChild(this._bg);this._bg.graphics.lineStyle(this._annularWidth,this._bgColor,this._bgAlpha);this._bg.graphics.drawCircle(this._radius,this._radius,this._radius);this._bg.graphics.stroke();this._loading=new pinetree.Shape();this._loading.x=-(Math.round(h>>1)+c);this._loading.y=-(Math.round(h>>1)+c);this.addChild(this._loading);this._percent=0;__defineGetterSetter(this,["percent"])};var b=__extends(a,pinetree.Sprite);b.setPercent=function(c){this._percent=c<0?0:c>1?1:c;var d=360*this._percent;this._loading.graphics.clear();this._loading.graphics.context.beginPath();this._loading.graphics.lineStyle(this._annularWidth,this._loadingColor,this._loadingAlpha);this._loading.graphics.drawCircle(this._radius,this._radius,this._radius,this._startAngle/180*Math.PI,(d+this._startAngle)/180*Math.PI,true);this._loading.graphics.stroke()};b.dispose=function(){pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.CircleLoading=a}());(function(){var b=function(c){this.tweenPercent=0;this._target=c};b.TYPE_ALPHA="type_alpha";b.TYPE_MASK_TOP2BOTTOM="type_mask_top2bottom";var a=b.prototype;a.excute=function(c,d){switch(c){case b.TYPE_ALPHA:this._onTweenAlpha(d);break;case b.TYPE_MASK_TOP2BOTTOM:this._onTweenMaskTop2bottom(d);break}};a._onTweenAlpha=function(h){var g=h.tweenTime==undefined?1:h.tweenTime;var e=h.delay==undefined?0:h.delay;var k=h.fromAlpha==undefined?0:h.fromAlpha;var d=h.toAlpha==undefined?1:h.toAlpha;var i=h.transition==undefined?Quad.easeOut:h.transition;var j=h.callback;var c=h.owner;this._target.alpha=k;TweenMax.killTweensOf(this._target,false,{alpha:true});TweenMax.to(this._target,g,{alpha:d,delay:e,ease:i,onComplete:j||null,onCompleteParams:[c]})};a._onTweenMaskTop2bottom=function(g){var e=g.tweenTime==undefined?1:g.tweenTime;var d=g.delay==undefined?0:g.delay;var h=g.transition==undefined?Quad.easeOut:g.transition;var j=g.callback;var c=g.owner;var i=g.height==undefined?this._target.height:g.height;TweenMax.killTweensOf(this);this.tweenPercent=0;TweenMax.to(this,e,{tweenPercent:1,delay:d,ease:h,onUpdate:this._onTweenUpdate,onUpdateParams:[this,i],onComplete:j||null,onCompleteParams:[c]})};a._onTweenUpdate=function(c,e){var d=c._target.clip;d.height=c.tweenPercent*e;c._target.clip=d};a.reset=function(){this._target&&TweenMax.killTweensOf(this._target,false,{alpha:true});TweenMax.killTweensOf(this)};a.dispose=function(){this.reset();this._target=null};pinetreecom.ThumbnailTweenInTypes=b}());(function(){var b=function(n,j,d,m,k,e,l,g,i,c){pinetree.Sprite.call(this);this._tweenType=g||pinetreecom.ThumbnailTweenInTypes.TYPE_ALPHA;this.index=0;this._autoResetRealSize=__defaultSet(i,false);this._width=n||0;this._height=j||0;this.tweenTime=1;this.transition=Quad.easeOut;this._originWidth=this._width;this._originHeight=this._height;this._inputWidth=this._width;this._inputHeight=this._height;this._useLoading=k||false;this._loadingClass=e||null;this._loadingType=__defaultSet(c,"middle");this._isLoaded=false;this._isConnecting=false;this._needTween=__defaultSet(l,true);this.clip=new pinetree.Rectangle(0,0,this._width,this._height);this.width=this._width;this.height=this._height;this.imageContainer=new pinetree.Sprite;this.imageContainer.x=this._width/2;this.imageContainer.y=this._height/2;this.addChild(this.imageContainer);this._loader=new pinetreecom.ExImage();this._loader.alpha=0;this._loader.x=-this._width/2;this._loader.y=-this._height/2;this._loader.addEventListener(pinetree.Event.COMPLETE,this.onLoadComplete,this);this._loader.addEventListener(pinetree.Event.IO_ERROR,this.onIOError,this);this.imageContainer.addChild(this._loader);this.ON_LOAD_COMPLETE=new pinetree.Signal();this.ON_IO_ERROR=new pinetree.Signal();this.ON_TWEEN_COMPLETE=new pinetree.Signal();this.ON_PROGRESS=new pinetree.Signal();this.backgroundColor=m;this.fg=new pinetree.Quad();this.addChild(this.fg);this.fg.color=d||0;this.fg.width=this._width;this.fg.height=this._height;this.fg.alpha=0;this._tweenTypeProxy=new pinetreecom.ThumbnailTweenInTypes(this.imageContainer);__defineGetterSetter(this,["image","originWidth","originHeight","imageWidth","imageHeight","bitmapData","clone","imageElement"])};var a=__extends(b,pinetree.Sprite);a.addedToStage=function(){pinetree.Sprite.prototype.addedToStage.call(this);if(!this.loading&&this._useLoading&&this._isConnecting){this.initLoading()}};a.initLoading=function(){if(this.loading){return}var c=this._loadingClass?this._loadingClass:pinetreecom.CommonLoading;this.loading=new c(this._loadingType);this.loading.x=this._width>>1;this.loading.y=this._height>>1;this.addChild(this.loading);this.loading.show()};a.load=function(c){this._isConnecting=true;if(!this.loading&&this._useLoading&&this.stage){this.initLoading()}try{this._loader.load(c)}catch(d){this.onIOError(null)}};a.onIOError=function(c){this._isConnecting=false;if(this.loading){this.loading.removeFromParent(true);this.loading=null}this.ON_IO_ERROR.dispatch(c)};a.onLoadComplete=function(c){this._isConnecting=false;this._isLoaded=true;if(this.loading){this.loading.removeFromParent(true);this.loading=null}if(this._originWidth<=0){this._originWidth=this._loader.originWidth}if(this._originHeight<=0){this._originHeight=this._loader.originHeight}if(this._autoResetRealSize){this.resetRealSize()}this.ON_LOAD_COMPLETE.dispatch(this);this._loader.alpha=1;if(this._needTween){this._tweenTypeProxy.excute(this._tweenType,{fromAlpha:0,toAlpha:1,time:this.tweenTime/2,delay:0,callback:this.tweenComplete,owner:this,transition:this.transition,originHeight:this._height})}};a.tweenComplete=function(c){c.ON_TWEEN_COMPLETE.dispatch(c)};a.onOver=function(d,g,e,c){d=__defaultSet(d,this.tweenTime);e=__defaultSet(e,1.05);c=__defaultSet(c,0);g=__defaultSet(g,this.transition);TweenMax.to(this.imageContainer,d,{scale:e,rotation:c,ease:g})};a.onOut=function(c,d){c=__defaultSet(c,this.tweenTime);d=__defaultSet(d,this.transition);TweenMax.to(this.imageContainer,c,{scale:1,rotation:0,ease:d})};a.tweenFrontground=function(c,d,e,g){if(e==null){e=this.transition}if(g!=null){TweenMax.to(this.fg,d,{alpha:c,ease:e})}else{TweenMax.to(this.fg,d,{alpha:c,ease:e,onComplete:g})}};a.getImage=function(){return this.imageContainer};a.getImageElement=function(){if(!this._loader){return null}return this._loader.getImageElement()};a.getImageWidth=function(){return this._width};a.getImageHeight=function(){return this._height};a.getOriginWidth=function(){return this._originWidth};a.getOriginHeight=function(){return this._originHeight};a.setImageWidth=function(c){this._width=c;this.fg.width=this._width;this.imageContainer.x=this._width/2;this._loader.width=c;this._loader.x=-this._width/2;if(this.loading){this.loading.x=this._width>>1}this.updateClip()};a.setImageHeight=function(c){this._height=c;this.fg.height=this._height;this.imageContainer.y=this._height/2;this._loader.height=c;this._loader.y=-this._height/2;if(this.loading){this.loading.y=this._height>>1}this.updateClip()};a.getStageX=function(){if(this.stage){return pinetreecom.CommonUtil.getStageX(this)}return 0};a.getStageY=function(){if(this.stage){return pinetreecom.CommonUtil.getStageY(this)}return 0};a.getClone=function(){if(!this._loader||!this._loader.bitmapData){return null}return this._loader.bitmapData.clone()};a.getBitmapData=function(){if(!this._loader||!this._loader.bitmapData){return null}return this._loader.bitmapData};a.setMaxSize=function(c,e){var d;if(c>=this._originWidth&&e>=this._originHeight){this.setImageWidth(this._originWidth);this.setImageHeight(this._originHeight);return}else{d=c/this._originWidth<e/this._originHeight}if(d){this._width=c;this._height=Math.floor(c/this._originWidth*this._originHeight)}else{this._height=e;this._width=Math.floor(e/this._originHeight*this._originWidth)}this.setImageWidth(this._width);this.setImageHeight(this._height);if(this.loading){this.loading.x=this._width>>1;this.loading.y=this._height>>1}};a.setRealFitSize=function(c,e){if(this._loader){var d=this._loader.originWidth?this._loader.originWidth:this._originWidth;var g=this._loader.originHeight?this._loader.originHeight:this._originHeight;this.setFitSize(c,e,d,g)}};a.resetRealSize=function(){var c=this._loader.originWidth?this._loader.originWidth:this._originWidth;var d=this._loader.originHeight?this._loader.originHeight:this._originHeight;this.setFitSize(c,d,c,d)};a.setFitSize=function(d,g,e,j){this._width=d;this._height=g;if(e==undefined||e==0){e=this._originWidth}if(j==undefined||j==0){j=this._originHeight}var k=Math.max(d/e,g/j);var i=Math.ceil(e*k);var c=Math.ceil(j*k);this.fg.width=this._width;this.fg.height=this._height;this.imageContainer.x=d>>1;this.imageContainer.y=g>>1;this._loader.width=i;this._loader.height=c;this._loader.x=-i/2;this._loader.y=-c/2;this.updateClip();if(this.loading){this.loading.x=this._width>>1;this.loading.y=this._height>>1}};a.setRectSize=function(c,g,j,i,d){var e;var l;if(j==undefined){j=0}if(i==undefined){i=0}if(d==undefined){d=false}if(!d&&this._originWidth<c-2*j&&this._originHeight<g-2*i){e=this._originWidth;l=this._originHeight}else{var k=Math.min((c-2*j)/this._originWidth,(g-2*i)/this._originHeight);e=k*this._originWidth;l=k*this._originHeight}this.setImageWidth(e);this.setImageHeight(l);if(this.loading){this.loading.x=e>>1;this.loading.y=l>>1}};a.toStageCenter=function(){if(!this.stage){return}var d=(this.stage.stageWidth-this._width)>>1;var c=(this.stage.stageHeight-this._height)>>1;this.x=pinetreecom.CommonUtil.getCurrentX(this,d);this.y=pinetreecom.CommonUtil.getCurrentY(this,c)};a.toCenter=function(e,d,c,g){if(c==undefined){c=0}if(g==undefined){g=0}this.x=Math.floor((e-this._width)/2+c);this.y=Math.floor((d-this._height)/2+g)};a.updateClip=function(){var c=this.clip;if(c){c.width=this._width;c.height=this._height;this.clip=c;this.width=this._width;this.height=this._height}};a.reset=function(){this._width=this._originWidth=this._inputWidth;this._height=this._originHeight=this._inputHeight;this.imageContainer.x=this._width/2;this.imageContainer.y=this._height/2;this.imageContainer.removeAllChildren();var c=this.clip;if(c){c.width=this._width;c.height=this._height;this.clip=c}TweenMax.killTweensOf(this._loader);TweenMax.killTweensOf(this.imageContainer);this._isLoaded=false;this.unload();this._loader&&this._loader.dispose();this._loader=null;this._loader=new pinetreecom.ExImage();this._loader.alpha=0;this._loader.addEventListener(pinetree.Event.COMPLETE,this.onLoadComplete,this);this._loader.addEventListener(pinetree.Event.IO_ERROR,this.onIOError,this);this._loader.x=-this._width/2;this._loader.y=-this._height/2;this.imageContainer.addChild(this._loader)};a.unload=function(){this._isConnecting=false;if(this.loading){this.loading.removeFromParent(true);this.loading=null}if(this._loader){this._loader.removeEventListener(pinetree.Event.COMPLETE,this.onLoadComplete,this);this._loader.removeEventListener(pinetree.Event.IO_ERROR,this.onIOError,this)}};a.setUseMouseHand=function(c){pinetree.Sprite.prototype.setUseMouseHand.call(this,c);if(this.fg){this.fg.useMouseHand=c}if(this.imageContainer){this.imageContainer.useMouseHand=c}};a.dispose=function(){this.unload();this._tweenTypeProxy&&this._tweenTypeProxy.dispose();this._tweenTypeProxy=null;TweenMax.killTweensOf(this);TweenMax.killTweensOf(this._loader);TweenMax.killTweensOf(this.imageContainer);this._loader&&this._loader.dispose();this._loader=null;this.ON_TWEEN_COMPLETE.removeAll();this.ON_IO_ERROR.removeAll();this.ON_LOAD_COMPLETE.removeAll();this.ON_PROGRESS.removeAll();this.ON_TWEEN_COMPLETE=null;this.ON_IO_ERROR=null;this.ON_LOAD_COMPLETE=null;this.ON_PROGRESS=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.Thumbnail=b}());(function(){var a=function(m,i,c,l,j,d,k,e,g){pinetree.Sprite.call(this);this._tweenType=e||pinetreecom.ThumbnailTweenInTypes.TYPE_ALPHA;this.index=0;this._autoResetRealSize=__defaultSet(g,false);this._width=m||0;this._height=i||0;this.tweenTime=1;this.transition=Quad.easeOut;this._originWidth=this._width;this._originHeight=this._height;this._inputWidth=this._width;this._inputHeight=this._height;this._useLoading=j||false;this._loadingClass=d||null;this._isConnecting=false;this._needTween=__defaultSet(k,true);this.clip=new pinetree.Rectangle(0,0,this._width,this._height);this.width=this._width;this.height=this._height;this.imageContainer=new pinetree.Sprite;this.imageContainer.x=this._width/2;this.imageContainer.y=this._height/2;this.addChild(this.imageContainer);this._loader=new pinetreecom.ExImage();this._loader.alpha=0;this._loader.x=-this._width/2;this._loader.y=-this._height/2;this._loader.addEventListener(pinetree.Event.COMPLETE,this.onLoadComplete,this);this._loader.addEventListener(pinetree.Event.IO_ERROR,this.onIOError,this);this.imageContainer.addChild(this._loader);this.ON_LOAD_COMPLETE=new pinetree.Signal();this.ON_IO_ERROR=new pinetree.Signal();this.ON_TWEEN_COMPLETE=new pinetree.Signal();this.ON_PROGRESS=new pinetree.Signal();this.backgroundColor=l;this.fg=new pinetree.Quad();this.addChild(this.fg);this.fg.color=c||0;this.fg.width=this._width;this.fg.height=this._height;this.fg.alpha=0;this._tweenTypeProxy=new pinetreecom.ThumbnailTweenInTypes(this.imageContainer);__defineGetterSetter(this,["image","originWidth","originHeight","imageWidth","imageHeight","bitmapData","clone","imageElement"])};var b=__extends(a,pinetree.Sprite);b.addedToStage=function(){pinetree.Sprite.prototype.addedToStage.call(this);if(!this.loading&&this._useLoading&&this._isConnecting){this.initLoading()}};b.initLoading=function(){if(this.loading){return}var c=this._loadingClass?this._loadingClass:pinetreecom.CommonLoading;this.loading=new c();this.loading.x=this._width>>1;this.loading.y=this._height>>1;this.addChild(this.loading);this.loading.show()};b.load=function(c){this._isConnecting=true;if(!this.loading&&this._useLoading&&this.stage){this.initLoading()}try{this._loader.load(c)}catch(d){this.onIOError(null)}};b.onIOError=function(c){this._isConnecting=false;if(this.loading){this.loading.removeFromParent(true);this.loading=null}this.ON_IO_ERROR.dispatch(c)};b.onLoadComplete=function(c){this._isConnecting=false;if(this.loading){this.loading.removeFromParent(true);this.loading=null}if(this._originWidth<=0){this._originWidth=this._loader.originWidth}if(this._originHeight<=0){this._originHeight=this._loader.originHeight}if(this._autoResetRealSize){this.resetRealSize()}this.ON_LOAD_COMPLETE.dispatch(this);this._loader.alpha=1;if(this._needTween){this._tweenTypeProxy.excute(this._tweenType,{fromAlpha:0,toAlpha:1,time:this.tweenTime/2,delay:0,callback:this.tweenComplete,owner:this,transition:this.transition,originHeight:this._height})}};b.tweenComplete=function(c){c.ON_TWEEN_COMPLETE.dispatch(c)};b.onOver=function(d,g,e,c){d=__defaultSet(d,this.tweenTime);e=__defaultSet(e,1.05);c=__defaultSet(c,0);g=__defaultSet(g,this.transition);TweenMax.to(this.imageContainer,d,{scale:e,rotation:c,ease:g})};b.onOut=function(c,d){c=__defaultSet(c,this.tweenTime);d=__defaultSet(d,this.transition);TweenMax.to(this.imageContainer,c,{scale:1,rotation:0,ease:d})};b.tweenFrontground=function(c,d,e,g){if(e==null){e=this.transition}if(g!=null){TweenMax.to(this.fg,d,{alpha:c,ease:e})}else{TweenMax.to(this.fg,d,{alpha:c,ease:e,onComplete:g})}};b.getImage=function(){return this.imageContainer};b.getImageElement=function(){if(!this._loader){return null}return this._loader.getImageElement()};b.getImageWidth=function(){return this._width};b.getImageHeight=function(){return this._height};b.getOriginWidth=function(){return this._originWidth};b.getOriginHeight=function(){return this._originHeight};b.setImageWidth=function(c){this._width=c;this.fg.width=this._width;this.imageContainer.x=this._width/2;this._loader.width=c;this._loader.x=-this._width/2;if(this.loading){this.loading.x=this._width>>1}this.updateClip()};b.setImageHeight=function(c){this._height=c;this.fg.height=this._height;this.imageContainer.y=this._height/2;this._loader.height=c;this._loader.y=-this._height/2;if(this.loading){this.loading.y=this._height>>1}this.updateClip()};b.getStageX=function(){if(this.stage){return pinetreecom.CommonUtil.getStageX(this)}return 0};b.getStageY=function(){if(this.stage){return pinetreecom.CommonUtil.getStageY(this)}return 0};b.getClone=function(){if(!this._loader||!this._loader.bitmapData){return null}return this._loader.bitmapData.clone()};b.getBitmapData=function(){if(!this._loader||!this._loader.bitmapData){return null}return this._loader.bitmapData};b.setMaxSize=function(c,e){var d;if(c>=this._originWidth&&e>=this._originHeight){this.setImageWidth(this._originWidth);this.setImageHeight(this._originHeight);return}else{d=c/this._originWidth<e/this._originHeight}if(d){this._width=c;this._height=Math.floor(c/this._originWidth*this._originHeight)}else{this._height=e;this._width=Math.floor(e/this._originHeight*this._originWidth)}this.setImageWidth(this._width);this.setImageHeight(this._height);if(this.loading){this.loading.x=this._width>>1;this.loading.y=this._height>>1}};b.setRealFitSize=function(c,e){if(this._loader){var d=this._loader.originWidth?this._loader.originWidth:this._originWidth;var g=this._loader.originHeight?this._loader.originHeight:this._originHeight;this.setFitSize(c,e,d,g)}};b.resetRealSize=function(){var c=this._loader.originWidth?this._loader.originWidth:this._originWidth;var d=this._loader.originHeight?this._loader.originHeight:this._originHeight;this.setFitSize(c,d,c,d)};b.setFitSize=function(d,g,e,j){this._width=d;this._height=g;if(e==undefined||e==0){e=this._originWidth}if(j==undefined||j==0){j=this._originHeight}var k=Math.max(d/e,g/j);var i=Math.ceil(e*k);var c=Math.ceil(j*k);this.fg.width=this._width;this.fg.height=this._height;this.imageContainer.x=d>>1;this.imageContainer.y=g>>1;this._loader.width=i;this._loader.height=c;this._loader.x=-i/2;this._loader.y=-c/2;this.updateClip();if(this.loading){this.loading.x=this._width>>1;this.loading.y=this._height>>1}};b.setRectSize=function(c,g,j,i,d){var e;var l;if(j==undefined){j=0}if(i==undefined){i=0}if(d==undefined){d=false}if(!d&&this._originWidth<c-2*j&&this._originHeight<g-2*i){e=this._originWidth;l=this._originHeight}else{var k=Math.min((c-2*j)/this._originWidth,(g-2*i)/this._originHeight);e=k*this._originWidth;l=k*this._originHeight}this.setImageWidth(e);this.setImageHeight(l);if(this.loading){this.loading.x=e>>1;this.loading.y=l>>1}};b.toStageCenter=function(){if(!this.stage){return}var d=(this.stage.stageWidth-this._width)>>1;var c=(this.stage.stageHeight-this._height)>>1;this.x=pinetreecom.CommonUtil.getCurrentX(this,d);this.y=pinetreecom.CommonUtil.getCurrentY(this,c)};b.toCenter=function(e,d,c,g){if(c==undefined){c=0}if(g==undefined){g=0}this.x=Math.floor((e-this._width)/2+c);this.y=Math.floor((d-this._height)/2+g)};b.updateClip=function(){var c=this.clip;if(c){c.width=this._width;c.height=this._height;this.clip=c;this.width=this._width;this.height=this._height}};b.reset=function(){this._width=this._originWidth=this._inputWidth;this._height=this._originHeight=this._inputHeight;this.imageContainer.x=this._width/2;this.imageContainer.y=this._height/2;this.imageContainer.removeAllChildren();var c=this.clip;if(c){c.width=this._width;c.height=this._height;this.clip=c}TweenMax.killTweensOf(this._loader);TweenMax.killTweensOf(this.imageContainer);this.unload();this._loader&&this._loader.dispose();this._loader=null;this._loader=new pinetreecom.ExImage();this._loader.alpha=0;this._loader.addEventListener(pinetree.Event.COMPLETE,this.onLoadComplete,this);this._loader.addEventListener(pinetree.Event.IO_ERROR,this.onIOError,this);this._loader.x=-this._width/2;this._loader.y=-this._height/2;this.imageContainer.addChild(this._loader)};b.unload=function(){this._isConnecting=false;if(this.loading){this.loading.removeFromParent(true);this.loading=null}if(this._loader){this._loader.removeEventListener(pinetree.Event.COMPLETE,this.onLoadComplete,this);this._loader.removeEventListener(pinetree.Event.IO_ERROR,this.onIOError,this)}};b.dispose=function(){this.unload();this._tweenTypeProxy&&this._tweenTypeProxy.dispose();this._tweenTypeProxy=null;TweenMax.killTweensOf(this);TweenMax.killTweensOf(this._loader);TweenMax.killTweensOf(this.imageContainer);this._loader&&this._loader.dispose();this._loader=null;this.ON_TWEEN_COMPLETE.removeAll();this.ON_IO_ERROR.removeAll();this.ON_LOAD_COMPLETE.removeAll();this.ON_PROGRESS.removeAll();this.ON_TWEEN_COMPLETE=null;this.ON_IO_ERROR=null;this.ON_LOAD_COMPLETE=null;this.ON_PROGRESS=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.BitmapThumbnail=a}());(function(){var b=function(n,i,c,m,k,d,l,e,g,j){pinetreecom.Thumbnail.call(this,n,i,c,m,k,d,l,e,g);this._isShowBlackWhiteFirst=__defaultSet(j,true);this._loader.visible=!this._isShowBlackWhiteFirst;this._blackWhiteBmp=new pinetree.Bitmap();this.imageContainer.addChild(this._blackWhiteBmp);this.imageContainer.swapChildren(this._loader,this._blackWhiteBmp);this._blackWhiteBmp.x=-this._width/2;this._blackWhiteBmp.y=-this._height/2;this._blackWhiteBmp.visible=false;this._bitmapData=null};var a=__extends(b,pinetreecom.Thumbnail);a.addedToStage=function(){if(!this.isInitialized){if(this._isShowBlackWhiteFirst&&!this._bitmapData&&this._isLoaded){this._blackWhiteBmp.visible=true;this._bitmapData=pinetreecom.CommonUtil.getGrayBitmapData(this._loader.bitmapData);this._blackWhiteBmp.bitmapData=this._bitmapData}}pinetreecom.Thumbnail.prototype.addedToStage.call(this)};a.onLoadComplete=function(c){pinetreecom.Thumbnail.prototype.onLoadComplete.call(this,c);if(this._isShowBlackWhiteFirst&&this.isInitialized){this._blackWhiteBmp.visible=true;this._bitmapData=pinetreecom.CommonUtil.getGrayBitmapData(this._loader.bitmapData);this._blackWhiteBmp.bitmapData=this._bitmapData}this.setRealFitSize(this.imageWidth,this.imageHeight)};a.setImageWidth=function(c){pinetreecom.Thumbnail.prototype.setImageWidth.call(this,c);this._blackWhiteBmp.width=c;this._blackWhiteBmp.x=-this._width/2};a.setImageHeight=function(c){pinetreecom.Thumbnail.prototype.setImageHeight.call(this,c);this._blackWhiteBmp.height=c;this._blackWhiteBmp.y=-this._height/2};a.setFitSize=function(d,g,e,j){pinetreecom.Thumbnail.prototype.setFitSize.call(this,d,g,e,j);var k=Math.max(d/e,g/j);var i=Math.ceil(e*k);var c=Math.ceil(j*k);this._blackWhiteBmp.width=i;this._blackWhiteBmp.height=c;this._blackWhiteBmp.x=-i/2;this._blackWhiteBmp.y=-c/2};a.toColorful=function(d,c,e){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}this._loader.alpha=0;this._loader.visible=true;TweenMax.to(this._loader,d,{alpha:1,delay:c,ease:e||this.transition})};a.toBlackWhite=function(d,c,e){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if(!this._bitmapData){this._bitmapData=pinetreecom.CommonUtil.getGrayBitmapData(this._loader.bitmapData);this._blackWhiteBmp.bitmapData=this._bitmapData;this._blackWhiteBmp.visible=true}TweenMax.to(this._loader,d,{alpha:0,delay:c,ease:e||this.transition,onComplete:this._onToBlackWhiteComplete,onCompleteParams:[this._loader]})};a._onToBlackWhiteComplete=function(c){c.visible=false};a.reset=function(){pinetreecom.Thumbnail.prototype.reset.call(this);this._bitmapData&&this._bitmapData.dispose();this._bitmapData=null;this._blackWhiteBmp.visible=false};a.dispose=function(){pinetreecom.Thumbnail.prototype.dispose.call(this);this._bitmapData&&this._bitmapData.dispose();this._bitmapData=null};pinetreecom.BlackWhiteThumbnail=b}());(function(){var a=function(m,i,c,l,j,d,k,e,g){pinetreecom.Thumbnail.call(this,m,i,c,l,j,d,k,e,g);this._blurBmp=new pinetree.Bitmap();this.imageContainer.addChild(this._blurBmp);this.imageContainer.swapChildren(this._loader,this._blurBmp);this._blurBmp.x=-this._width/2;this._blurBmp.y=-this._height/2;this._blurBmp.visible=false;this._bitmapData=null};var b=__extends(a,pinetreecom.Thumbnail);b.setImageWidth=function(c){pinetreecom.Thumbnail.prototype.setImageWidth.call(this,c);this._blurBmp.width=c;this._blurBmp.x=-this._width/2};b.setImageHeight=function(c){pinetreecom.Thumbnail.prototype.setImageHeight.call(this,c);this._blurBmp.height=c;this._blurBmp.y=-this._height/2};b.setFitSize=function(d,g,e,j){pinetreecom.Thumbnail.prototype.setFitSize.call(this,d,g,e,j);var k=Math.max(d/e,g/j);var i=Math.ceil(e*k);var c=Math.ceil(j*k);this._blurBmp.width=i;this._blurBmp.height=c;this._blurBmp.x=-i/2;this._blurBmp.y=-c/2};b.unBlur=function(d,c,e){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}this._loader.alpha=0;this._loader.visible=true;TweenMax.to(this._loader,d,{alpha:1,delay:c,ease:e||this.transition})};b.blur=function(d,c,e){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if(!this._bitmapData){this._bitmapData=pinetreecom.CommonUtil.getBlurBitmapData(this._loader.bitmapData,10);this._blurBmp.bitmapData=this._bitmapData;this._blurBmp.visible=true}TweenMax.to(this._loader,d,{alpha:0,delay:c,ease:e||this.transition,onComplete:this._onBlurComplete,onCompleteParams:[this._loader]})};b._onBlurComplete=function(c){c.visible=false};b.reset=function(){pinetreecom.Thumbnail.prototype.reset.call(this);this._bitmapData&&this._bitmapData.dispose();this._bitmapData=null;this._blurBmp.visible=false};b.dispose=function(){pinetreecom.Thumbnail.prototype.dispose.call(this);this._bitmapData&&this._bitmapData.dispose();this._bitmapData=null};pinetreecom.BlurThumbnail=a}());(function(){var a=function(k,n,g,e,d,c,h,j,m,i,l){pinetreecom.UIComponent.call(this);this._showWidth=k;this._showHeight=n;this._imageWidth=g==undefined?0:g;this._imageHeight=e==undefined?0:e;this._gapX=d||0;this._gapY=c||0;this._textPadding=h||0;this._useTextScroll=!!j;this._textContainerHeight=m==undefined?100:m;this._bgAlpha=i==undefined?0:i;this._hasTitle=l;this._title="";this._information="";this._textContainer=null;this._image=null;this._hasImage=true;this._startMousePos=0;this._imageLoadError=false;this.ON_LOAD_COMPLETE=new pinetree.Signal()};var b=__extends(a,pinetreecom.UIComponent);a.PREV_TYPE="prev";a.NEXT_TYPE="next";b.addedToStage=function(){if(!this.isInitialized){this._txtContainer=new pinetreecom.TextContainer(this._showWidth,this._textContainerHeight,pt.bgColor,this._bgAlpha,this._useTextScroll,true,this._hasTitle);this._txtContainer.padding=this._textPadding;this._txtContainer.paddingRight=this._textPadding+this._gapX;this._txtContainer.alpha=0;this.addChild(this._txtContainer);this._txtContainer.init();this._txtContainer.scrollGapX=this._gapX;this._txtContainer.reset();this._image=new pinetreecom.Thumbnail(this._imageWidth,this._imageHeight,0,0,true,null,true);this._image.alpha=0;this._image.x=this._gapX;this.addChild(this._image);if(this._imageHeight<=0){this._image.ON_LOAD_COMPLETE.add(this,this._onImageLoadComplete);this._image.ON_IO_ERROR.add(this,this._onImageLoadError)}}pinetreecom.UIComponent.prototype.addedToStage.call(this)};b.startWith=function(d,e,c){this._hasImage=!!d;this._title=e;this._information=c;if(this._hasImage){this._image.load(d)}else{this._onImageLoadComplete(null)}if(this._imageHeight>0){this._onImageLoadComplete(null)}};b._onImageLoadComplete=function(c){if(this._imageWidth<=0){this._imageWidth=this._showWidth-2*this._gapX}if(this._hasImage&&this._imageHeight<=0&&!this._imageLoadError){if(this._imageWidth>0){this._imageHeight=Math.floor(this._image.originHeight/this._image.originWidth*this._imageWidth)}else{this._imageHeight=this._image.originHeight}}else{if(this._imageLoadError){this._imageHeight=0}}if(this._hasImage){this._image.setRealFitSize(this._imageWidth,this._imageHeight);this._txtContainer.y=this._imageHeight+this._gapY}else{this._txtContainer.y=0}this._txtContainer.title=this._title;this._txtContainer.information=this._information;this.ON_LOAD_COMPLETE.dispatch(this);pinetreecom.DelayCaller.delayCall(this,this._refresh,0.1)};b._refresh=function(){this.setSize(this._showWidth,this._showHeight)};b._onImageLoadError=function(c){this._imageLoadError=true;this._onImageLoadComplete(null)};b.tweenIn=function(d,c,e,g){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if(e==undefined){e=Quad.easeOut}if(d==0&&c==0){this._txtContainer.alpha=1;this._hasImage&&(this._image.alpha=1);this._tweenInComplete(this,g);return}TweenMax.to(this._txtContainer,d,{alpha:1,delay:c,ease:Quad.easeOut});this._hasImage&&TweenMax.to(this._image,d,{alpha:1,delay:c+0.2,ease:Quad.easeOut,onComplete:this._tweenInComplete,onCompleteParams:[this,g]});this.setSize(this._showWidth,this._showHeight)};b._tweenInComplete=function(c,d){c.resize(c._showWidth,c._showHeight);d&&d()};b.tweenOut=function(d,c,e,g){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if(e==undefined){e=Quad.easeOut}TweenMax.to(this._txtContainer,d,{alpha:0,delay:c+0.2,ease:Quad.easeOut,onComplete:this._tweenOutComplete,onCompleteParams:[this,g]});this._hasImage&&TweenMax.to(this._image,d,{alpha:0,delay:c,ease:Quad.easeOut})};b._tweenOutComplete=function(c,d){d&&d()};b.setSize=function(c,e){this._showWidth=c;this._showHeight=e;var d;if(this._hasImage){this._image.setRealFitSize(this._imageWidth,this._imageHeight);this._txtContainer.y=this._imageHeight+this._gapY;d=this._showHeight-this._imageHeight-this._gapY+this._textPadding}else{d=this._showHeight+this._textPadding}this.setTextContainerHeight(d)};b.setTextContainerHeight=function(c){this._textContainerHeight=c;this._txtContainer.contentHeight=c};b.reset=function(){if(this._hasImage&&this._image){this._image.reset();this._image.alpha=0}if(this._txtContainer){this._txtContainer.reset();this._txtContainer.alpha=0}this.height=1};b.dispose=function(){this._image&&TweenMax.killTweensOf(this._image);this._image&&this._image.dispose();this._image=null;this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.removeAll();this.ON_LOAD_COMPLETE=null;this._txtContainer&&TweenMax.killTweensOf(this._txtContainer);this._txtContainer&&this._txtContainer.dispose();this._txtContainer=null;pinetreecom.UIComponent.prototype.dispose.call(this)};pinetreecom.ImageTextContainer=a}());(function(){var b=function(){pinetreecom.UIComponent.call(this);this._originX=0;this._originY=0;this._originParent=null;this._itemWidth=0;this._itemHeight=0;this._data=null;this._isFiltered=false;this._isOverState=false;this.index=0;this._enabled=true;this._isAnimationIn=false;this._isShown=false;this._isFullShown=false;__defineGetterSetter(this,["data","originX","originY","originWidth","originHeight","thumbnail","enable","originParent","currentWidth","currentHeight","isFiltered","isOverState"])};var a=__extends(b,pinetreecom.UIComponent);a.setUpWith=function(c,d,e){this._itemWidth=c;this._itemHeight=d;this._data=e};a.resetSize=function(c,d){};a.resize=function(c,d){};a.setOriginParent=function(c){this._originParent=c};a.addToParent=function(){if(this._originParent&&!this._originParent.contains(this)){this._originParent.addChild(this)}};a.load=function(){};a.onMouseOver=function(c){};a.onMouseOut=function(c){};a.onMouseClick=function(c){};a.getOriginX=function(){return this._originX};a.setOriginX=function(c){this._originX=c};a.getOriginY=function(){return this._originY};a.setOriginY=function(c){this._originY=c};a.getData=function(){return this._data};a.getIsFiltered=function(){return this._isFiltered};a.updateFilterKey=function(c){};a.updateFilterState=function(c){};a.getThumbnail=function(){return null};a.getOriginWidth=function(){return 0};a.getOriginHeight=function(){return 0};a.getCurrentWidth=function(){return 0};a.getCurrentHeight=function(){return 0};a.getIsOverState=function(){return this._isOverState};a.animationIn=function(d,c,e,g){};a.animationOut=function(d,c,e,g){};a.getEnable=function(){return this._enabled};a.setEnable=function(c){this._enabled=c;this.mouseEnabled=this.mouseChildren=c;if(this._enabled){this.addToParent()}else{}};a.updateOverState=function(c){};a.setState=function(d,c){};a.updateState=function(d,c){this._isShown=d;this._isFullShown=c};a.getStageX=function(){if(this._originParent){var c=pinetreecom.CommonUtil.getStageX(this._originParent);return c+this.x}return 0};a.getStageY=function(){if(this._originParent){var c=pinetreecom.CommonUtil.getStageY(this._originParent);return c+this.y}return 0};a.onSetEnableComplete=function(){this.removeFromParent()};a.dispose=function(){pinetreecom.UIComponent.prototype.dispose.call(this)};pinetreecom.ListItemBase=b})();(function(){var b=function(){pinetree.Sprite.call(this);this.isSetupInited=false;this._data=null;this._dataCount=0;this._itemWidth=0;this._itemHeight=0;this._itemGapX=0;this._itemGapY=0;this._showWidth=0;this._showHeight=0;this._currentPos=0;this._loadedIndex=0;this._alignDirection="";this._rowColumn=0;this.loadOneByOne=false;this._clipContent=true;this._shownCount=0;this._tweenIndex=0;this._tweenCount=0;this._loadCount=0;this._loaders=null;this._items=null;this.animateTime=1;this.animateDelay=0.1;this.transition=Quad.easeOut;this.tweenTime=1;this._isAnimationIn=false;this._firstCompleted=false;this._container=new pinetree.Sprite();this._itemContainer=new pinetree.Sprite();this._container.addChild(this._itemContainer);this.addChild(this._container);this._container.htmlStyle.webkitTransform="translate3d(0, 0, 0)";this.ON_CLICK=new pinetree.Signal();this.ON_OVER=new pinetree.Signal();this.ON_OUT=new pinetree.Signal();this.ON_TWEEN_IN_COMPLETE=new pinetree.Signal();this.ON_TWEEN_OUT_COMPLETE=new pinetree.Signal();this.ON_LOAD_FIRST_PAGE_COMPLETE=new pinetree.Signal();this.ON_NEED_RESIZE=new pinetree.Signal();__defineGetterSetter(this,["hasPreviousContent","hasNextContent","itemGapX","itemGapY","contentWidth","contentHeight","container","isAnimationIn","firstPageLoadCount"])};b.ANI_DIRECTION_TOP2BOTTOM="topToBottom";b.ANI_DIRECTION_BOTTOM2TOP="bottomToTop";b.ANI_DIRECTION_LEFT2RIGHT="leftToRight";b.ANI_DIRECTION_RIGHT2LEFT="rightToLeft";var a=__extends(b,pinetree.Sprite);a.reset=function(){this._loadCount=0;this._loaders&&this._loaders.splice(0,this._loaders.length);this._loaders=null;if(this._items&&this._items.length>0){var c,d;for(c in this._items){d=this._items[c];if(d){TweenMax.killTweensOf(d);d.removeEventListener(pinetree.MouseEvent.CLICK,this.onClickItem,this);d.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOver,this);d.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);d.dispose();d=null}}this._items.splice(0,this._items.length);this._items=null}this._itemContainer.removeAllChildren();this.isSetupInited=false};a.setUpWith=function(k,j,d,g,e,l,i,h,m,n,c){this.isSetupInited=true;this._itemWidth=j;this._itemHeight=d;this._itemGapX=g;this._itemGapY=e;this._rowColumn=i;this._showWidth=m;this._showHeight=n;this._alignDirection=l;this._clipContent=!!c;if(this._clipContent){this.clip=new pinetree.Rectangle(0,0,this._showWidth,this._showHeight);this.width=this._showWidth;this.height=this._showHeight}this._data=h;this._dataCount=this._data.length;this._items=[];this._loaders=[];this._loadCount=0;this._itemContainer.removeAllChildren();this._firstCompleted=false;this._loadedIndex=0};a.onLoadNext=function(){if(this._loadedIndex<this._loadCount){this._loaders[this._loadedIndex].load()}};a.onLoadComplete=function(){if(this._loadCount<=0){return}if(this._loadedIndex>=this.firstPageLoadCount-1&&!this._firstCompleted){this.ON_LOAD_FIRST_PAGE_COMPLETE.dispatch();this._firstCompleted=true}this._loadedIndex++;this.onLoadNext()};a.onLoadError=function(c){if(this._loadCount<=0){return}trace("warning: IOError at ListBase::onLoadError");if(this._loadedIndex>=this.firstPageLoadCount-1&&!this._firstCompleted){this.ON_LOAD_FIRST_PAGE_COMPLETE.dispatch();this._firstCompleted=true}this._loadedIndex++;this.onLoadNext()};a.onClickItem=function(c){var d=c.customTarget;if(d){this.ON_CLICK&&this.ON_CLICK.dispatch(d.index);d.onMouseClick(c)}};a.onOver=function(c){var d=c.customTarget;if(d){this.ON_OVER&&this.ON_OVER.dispatch(d.index);d.onMouseOver(c)}};a.onOut=function(c){var d=c.customTarget;if(d){this.ON_OUT&&this.ON_OUT.dispatch(d.index);d.onMouseOut(c)}};a.getItemByIndex=function(c){if(!this._items){return null}return this._items[c]};a.getAllItems=function(){return this._items};a.getFirstPageLoadCount=function(){return this._shownCount};a.prev=function(){if(!this.hasPreviousContent){return}if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){this._currentPos+=(this._itemHeight+this._itemGapY);if(this._currentPos>0){this._currentPos=0}TweenMax.to(this._itemContainer,this.tweenTime,{y:this._currentPos,ease:this.transition})}else{this._currentPos+=(this._itemWidth+this._itemGapX);if(this._currentPos>0){this._currentPos=0}TweenMax.to(this._itemContainer,this.tweenTime,{x:this._currentPos,ease:this.transition})}this.ON_NEED_RESIZE.dispatch()};a.next=function(){if(!this.hasNextContent){return}if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){this._currentPos-=(this._itemHeight+this._itemGapY);TweenMax.to(this._itemContainer,this.tweenTime,{y:this._currentPos,ease:this.transition})}else{this._currentPos-=(this._itemWidth+this._itemGapX);TweenMax.to(this._itemContainer,this.tweenTime,{x:this._currentPos,ease:this.transition})}this.ON_NEED_RESIZE.dispatch()};a.getHasPreviousContent=function(){return this._currentPos<0};a.getHasNextContent=function(){if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){return this._currentPos+this.contentHeight>this._showHeight}return this._currentPos+this.contentWidth>this._showWidth};a.getItemGapX=function(){return this._itemGapX};a.getItemGapY=function(){return this._itemGapY};a.getContainer=function(){return this._container};a.getContentWidth=function(){var c=this._items&&this._items[0]?this._items[0].width:this._itemWidth;var d;if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){d=this._rowColumn}else{d=Math.ceil(this._dataCount/this._rowColumn)}return d*(c+this._itemGapX)-this._itemGapX};a.getContentHeight=function(){if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){return Math.ceil(this._dataCount/this._rowColumn)*(this._itemHeight+this._itemGapY)-this._itemGapY}var c=this._dataCount<this._rowColumn?this._dataCount:this._rowColumn;return c*(this._itemHeight+this._itemGapY)-this._itemGapY};a.getIsAnimationIn=function(){return this._isAnimationIn};a.resize=function(c,d){this._showWidth=c;this._showHeight=d;if(this._clipContent){this.clip=new pinetree.Rectangle(0,0,this._showWidth,this._showHeight);this.width=this._showWidth;this.height=this._showHeight}};a.animationIn=function(d,c,e,g){this._isAnimationIn=true};a.onAnimationInComplete=function(c){this._tweenIndex++;if(this._tweenIndex==this._tweenCount){this.ON_TWEEN_IN_COMPLETE.dispatch();c&&c()}};a.animationOut=function(d,c,e,g){this._isAnimationIn=false};a.onAnimationOutComplete=function(c){this._tweenIndex++;if(this._tweenIndex==this._tweenCount){this.ON_TWEEN_OUT_COMPLETE.dispatch();c&&c()}};a.dispose=function(){this._loadCount=0;this._loaders&&this._loaders.splice(0,this._loaders.length);this._loaders=null;if(this._items){var c,d;for(c in this._items){d=this._items[c];if(d){TweenMax.killTweensOf(d);d.removeEventListener(pinetree.MouseEvent.CLICK,this.onClickItem,this);d.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOver,this);d.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);d.dispose();d=null}}this._items.splice(0,this._items.length);this._items=null}this._itemContainer.removeAllChildren();TweenMax.killTweensOf(this._itemContainer);this.ON_CLICK&&this.ON_CLICK.removeAll();this.ON_CLICK=null;this.ON_OVER&&this.ON_OVER.removeAll();this.ON_OVER=null;this.ON_OUT&&this.ON_OUT.removeAll();this.ON_OUT=null;this.ON_NEED_RESIZE&&this.ON_NEED_RESIZE.removeAll();this.ON_NEED_RESIZE=null;this.ON_TWEEN_IN_COMPLETE&&this.ON_TWEEN_IN_COMPLETE.removeAll();this.ON_TWEEN_IN_COMPLETE=null;this.ON_TWEEN_OUT_COMPLETE&&this.ON_TWEEN_OUT_COMPLETE.removeAll();this.ON_TWEEN_OUT_COMPLETE=null;this.ON_LOAD_FIRST_PAGE_COMPLETE&&this.ON_LOAD_FIRST_PAGE_COMPLETE.removeAll();this.ON_LOAD_FIRST_PAGE_COMPLETE=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.ListBase=b})();(function(){var b=function(d,c,h,g,e){pinetree.Sprite.call(this);this.selectable=false;this._enabled=true;this._index=0;this.tweenTime=0.5;this.transition=Quad.easeOut;this.onOverColor=d==undefined?16777215:d;this.onOutColor=c==undefined?16777215:c;this.onOverAlpha=h==undefined?1:h;this.onOutAlpha=g==undefined?0.8:g;this.size=e==undefined?10:e;this.disabledAlpha=0.3;this.buttonMode=true;this.target=null;__defineGetterSetter(this,["index","isEnabled"])};var a=__extends(b,pinetree.Sprite);a.init=function(){};a.getIndex=function(){return this._index};a.setIndex=function(c){this._index=c};a.getIsEnabled=function(){return this._enabled};a.setIsEnabled=function(c){this._enabled=c;if(this.target){this.target.alpha=this._enabled?1:this.disabledAlpha}};a.animationIn=function(c){};a.animationOut=function(c){};a.dispose=function(){pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.ButtonItemBase=b})();(function(){var a=function(e,d,j,i,g,h,c){pinetreecom.ButtonItemBase.call(this,e,d,j,i,g);this._btnContainer=new pinetree.Sprite();this.addChild(this._btnContainer);this._size=g;this._circle=new pinetree.CanvasCircle(g>>1,true);this._btnContainer.addChild(this._circle);this._circleBg=new pinetree.CanvasCircle(h==undefined?(g>>1)+5:h,true);this._circleBg.alpha=c||0;this._btnContainer.addChildAt(this._circleBg,0);this._btnContainer.visible=false;this.target=this._circle;this._btnContainer.buttonMode=true};var b=__extends(a,pinetreecom.ButtonItemBase);b.init=function(){this._circle.color=this.onOutColor;this._btnContainer.alpha=this.onOutAlpha;this._btnContainer.visible=true};b.getWidth=function(){return this._size};b.getHeight=function(){return this._size};b.setIsEnabled=function(c){pinetreecom.ButtonItemBase.prototype.setIsEnabled.call(this,c)};b.animationIn=function(c){TweenMax.to(this._btnContainer,this.tweenTime/2,{alpha:this.onOverAlpha,ease:this.transition,onComplete:c});this._circle.tweenColor(this.onOverColor,this.tweenTime/2)};b.animationOut=function(d){var c=this._isEnabled?1:this.onOutAlpha;TweenMax.to(this._btnContainer,this.tweenTime/2,{alpha:this.onOutAlpha,ease:this.transition,onComplete:d});this._circle.tweenColor(this.onOutColor,this.tweenTime/2)};b.dispose=function(){this._circle&&this._circle.dispose();this._circle=null;pinetreecom.ButtonItemBase.prototype.dispose.call(this)};pinetreecom.MiniCircle=a})();(function(){var a=function(d,c){pinetree.Sprite.call(this);this._disposed=false;this._buttons=null;this._prevIndex=1;this._currentIndex=1;this._isInited=false;this._isShowing=false;this.tweenTime=0.5;this.transition=Quad.easeOut;this.onOverColor=16777215;this.onOutColor=16777215;this.onOverAlpha=1;this.onOutAlpha=0.8;this.itemSize=10;this._contentWidth=0;this._contentHeight=0;this.gap=5;this.buttonSize=0;this.alignType=pinetreecom.ButtonList.ALIGN_HORIZONTAL;this._container=new pinetree.Sprite();this.addChild(this._container);this._btnClass=d||null;this._count=c;this.ON_OVER=new pinetree.Signal();this.ON_OUT=new pinetree.Signal();this.ON_CLICK=new pinetree.Signal();__defineGetterSetter(this,["currentIndex","prevIndex","container","count","contentWidth","contentHeight"])};a.ALIGN_HORIZONTAL="horizontal";a.ALIGN_VERTICAL="vertical";var b=__extends(a,pinetree.Sprite);b.reset=function(){this._clear();this._isInited=false};b.setCount=function(e){if(e==this._count){return}if(!this._buttons){this._buttons=[]}var d,c;if(e>this._count){for(d=this._count;d<e;d++){c=new this._btnClass(this.onOverColor,this.onOutColor,this.onOverAlpha,this.onOutAlpha,this.itemSize);c.alpha=this._isShowing?1:0;if(!(c instanceof pinetreecom.ButtonItemBase)){trace("Error: at ButtonList::init(), btn is not instance of pinetreecom.ButtonItemBase!");return}c.index=d;c.init();this._container.addChild(c);if(this.alignType==pinetreecom.ButtonList.ALIGN_HORIZONTAL){if(this.buttonSize==0){this.buttonSize=c.width}c.x=d*(this.buttonSize+this.gap)}else{if(this.buttonSize==0){this.buttonSize=c.height}c.y=d*(this.buttonSize+this.gap)}c.addEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOverButton,this);c.addEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOutButton,this);c.addEventListener(pinetree.MouseEvent.CLICK,this.onClickButton,this);this._buttons.push(c)}}else{for(d=e;d<this._count;d++){c=this._buttons[d];if(c){TweenMax.killTweensOf(c);c.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOverButton,this);c.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOutButton,this);c.removeEventListener(pinetree.MouseEvent.CLICK,this.onClickButton,this);c.removeFromParent(true);c=null}}this._buttons.splice(e,this._count-e)}this._count=e;if(this.alignType==pinetreecom.ButtonList.ALIGN_HORIZONTAL){this._contentWidth=this._count*(this.buttonSize+this.gap)-this.gap;this._contentHeight=c?c.height:this.buttonSize}else{this._contentWidth=c?c.width:this.buttonSize;this._contentHeight=this._count*(this.buttonSize+this.gap)-this.gap}};b.init=function(){if(this._isInited){trace("Error: at ButtonList::init(), it has been inited!");return}if(!this._btnClass){trace("Error: at ButtonList::init(), btnClass is null!");return}this._isInited=true;var d,c;this._buttons=[];for(d=0;d<this._count;d++){c=new this._btnClass(this.onOverColor,this.onOutColor,this.onOverAlpha,this.onOutAlpha,this.itemSize);c.alpha=0;if(!(c instanceof pinetreecom.ButtonItemBase)){trace("Error: at ButtonList::init(), btn is not instance of pinetreecom.ButtonItemBase!");return}c.index=d;c.init();this._container.addChild(c);if(this.alignType==pinetreecom.ButtonList.ALIGN_HORIZONTAL){if(this.buttonSize==0){this.buttonSize=c.width}c.x=d*(this.buttonSize+this.gap)}else{if(this.buttonSize==0){this.buttonSize=c.height}c.y=d*(this.buttonSize+this.gap)}c.addEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOverButton,this);c.addEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOutButton,this);c.addEventListener(pinetree.MouseEvent.CLICK,this.onClickButton,this);this._buttons.push(c)}if(this.alignType==pinetreecom.ButtonList.ALIGN_HORIZONTAL){this._contentWidth=this._count*(this.buttonSize+this.gap)-this.gap;this._contentHeight=c?c.height:this.buttonSize}else{this._contentWidth=c?c.width:this.buttonSize;this._contentHeight=this._count*(this.buttonSize+this.gap)-this.gap}};b.setEnabledByIndex=function(c,e){var d=this._buttons[c];if(d){d.isEnabled=e;d.mouseEnabled=d.mouseChildren=d.index!=this._currentIndex}};b.getContentWidth=function(){return this._contentWidth};b.getContentHeight=function(){return this._contentHeight};b.onOverButton=function(c){var d=c.customTarget;if(!d.mouseEnabled||!d.isEnabled){return}d.animationIn();this.ON_OVER.dispatch(d.index)};b.onOutButton=function(c){var d=c.customTarget;if(!d.mouseEnabled||!d.isEnabled){return}d.animationOut();this.ON_OUT.dispatch(d.index)};b.onClickButton=function(c){var e=c.customTarget;if(!e.mouseEnabled||!e.isEnabled){return}var d=e.index;this._prevIndex=this._currentIndex;this._currentIndex=d;this.setSelectBtn(d);this.ON_CLICK.dispatch({index:this._currentIndex,prevIndex:this._prevIndex})};b.setSelectBtn=function(c){var g=this._buttons[c];if(!g){return}g.mouseEnabled=g.mouseChildren=false;g.animationIn();var e;var d;for(d=0;d<this._count;d++){e=this._buttons[d];if(d!=c){e.mouseEnabled=e.mouseChildren=e.isEnabled;e.animationOut()}}this._currentIndex=c};b.show=function(e){this._isShowing=true;var d,c;for(d=this._count-1;d>=0;d--){c=this._buttons[d];c.visible=true;TweenMax.to(c,this.tweenTime,{alpha:1,delay:d*0.03,ease:this.transition,onComplete:this._showComplete,onCompleteParams:[e,d,this._count-1]})}};b._showComplete=function(e,c,d){if(e&&c==d){e()}};b.hide=function(e){this._isShowing=false;var d,c;for(d=0;d<this._count;d++){c=this._buttons[d];TweenMax.to(c,this.tweenTime,{alpha:0,delay:(this._count-1-d)*0.03,ease:this.transition,onComplete:this._hideComplete,onCompleteParams:[c,e,d,0]})}};b._hideComplete=function(d,g,c,e){d.visible=false;if(g&&c==e){g()}};b.getCurrentIndex=function(){return this._currentIndex};b.getPrevIndex=function(){return this._prevIndex};b.getContainer=function(){return this._container};b.getBtnByNodeIndex=function(c){return this._buttons[c]};b.getButtons=function(){return this._buttons};b._clear=function(){if(!this._buttons){return}var e,d,c=this._buttons.length;for(e=0;e<c;e++){d=this._buttons[e];if(d){TweenMax.killTweensOf(d);d.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOverButton,this);d.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOutButton,this);d.removeEventListener(pinetree.MouseEvent.CLICK,this.onClickButton,this);d.removeFromParent(true);d=null}}this._buttons.splice(0,c);this._buttons=null;this._count=0};b.dispose=function(){if(this._disposed){return}this._disposed=true;this._clear();this._btnClass=null;this._isInited=false;this.ON_OVER.removeAll();this.ON_OVER=null;this.ON_OUT.removeAll();this.ON_OUT=null;this.ON_CLICK.removeAll();this.ON_CLICK=null};pinetreecom.ButtonList=a})();(function(){var a=function(b,g,c,i){var d=pinetree.createCanvas(b,g);var e=d.getContext("2d");e.fillStyle=pinetree.getRGBA(c,i);e.rect(0,0,b,g);e.fill();var j=e.getImageData(0,0,b,g);pinetree.Texture.call(this,j)};__extends(a,pinetree.Texture);pinetreecom.ColorRectTexture=a}());(function(){var a=function(j,g,l,c,h,i,k,d,e){pinetree.Sprite.call(this);this.selectable=false;this.onOverIconColor=j||0;this.onOutIconColor=g||0;this.onOverBgColor=l||0;this.onOutBgColor=c||0;this.onOverIconAlpha=h==undefined?1:h;this.onOutIconAlpha=i==undefined?1:i;this.onOverBgAlpha=k==undefined?1:k;this.onOutBgAlpha=d==undefined?1:d;this._bgTextureImg=null;this._iconTextureImg=null;this._iconTweener=null;this._bgTweener=null;this._isOver=false;this._needBindMouseEvent=e==undefined?true:!!e;if(this._needBindMouseEvent){if(!pinetree.isDevice){this.addEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOver,this);this.addEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this)}else{this.addEventListener(pinetree.MouseEvent.MOUSE_DOWN,this.onOver,this);this.addEventListener(pinetree.MouseEvent.MOUSE_UP,this.onOut,this)}}this.tweenTime=1;this.transition=Quad.easeOut;this.buttonMode=true;this.alpha=0;this.visible=false;__defineGetterSetter(this,["isOver","icon","bg","isShowing"])};var b=__extends(a,pinetree.Sprite);b.setTextures=function(d,c,e){this.removeAllChildren();if(c){this._bgTextureImg=new pinetree.TextureImage(c);this.addChild(this._bgTextureImg);pinetreecom.ColorUtil.setColor(this._bgTextureImg,this.onOutBgColor);this._bgTextureImg.alpha=this.onOutBgAlpha}else{this._bgTextureImg=null}if(!!d){this._iconTextureImg=new pinetree.TextureImage(d);this.addChild(this._iconTextureImg);pinetreecom.ColorUtil.setColor(this._iconTextureImg,this.onOutIconColor);this._iconTextureImg.alpha=this.onOutIconAlpha}else{this._iconTextureImg=null}if(!!e&&this._iconTextureImg&&this._bgTextureImg){this._iconTextureImg.x=(this._bgTextureImg.width-this._iconTextureImg.width)>>1;this._iconTextureImg.y=(this._bgTextureImg.height-this._iconTextureImg.height)>>1}};b.onOver=function(c){if(this._needBindMouseEvent&&pinetree.isDevice&&c&&c.type!=pinetree.MouseEvent.MOUSE_DOWN){return}if(this._iconTweener){this._iconTweener.dispose();this._iconTweener=null}if(this._iconTextureImg){this._iconTweener=pinetreecom.ColorTweener.addTween(this._iconTextureImg,this.onOutIconColor,this.onOverIconColor,this.tweenTime/2,0,null,this.transition);TweenMax.killTweensOf(this._iconTextureImg,false,{alpha:true});TweenMax.to(this._iconTextureImg,this.tweenTime/2,{alpha:this.onOverIconAlpha,ease:this.transition})}if(this._bgTweener){this._bgTweener.dispose();this._bgTweener=null}if(this._bgTextureImg){this._bgTweener=pinetreecom.ColorTweener.addTween(this._bgTextureImg,this.onOutBgColor,this.onOverBgColor,this.tweenTime/2,0,null,this.transition);TweenMax.killTweensOf(this._bgTextureImg,false,{alpha:true});TweenMax.to(this._bgTextureImg,this.tweenTime/2,{alpha:this.onOverBgAlpha,ease:this.transition})}this._isOver=true};b.onOut=function(c){if(this._iconTweener){this._iconTweener.dispose();this._iconTweener=null}if(this._iconTextureImg){this._iconTweener=pinetreecom.ColorTweener.addTween(this._iconTextureImg,this.onOverIconColor,this.onOutIconColor,this.tweenTime/2,0,null,this.transition);TweenMax.killTweensOf(this._iconTextureImg,false,{alpha:true});TweenMax.to(this._iconTextureImg,this.tweenTime/2,{alpha:this.onOutIconAlpha,ease:this.transition})}if(this._bgTweener){this._bgTweener.dispose();this._bgTweener=null}if(this._bgTextureImg){this._bgTweener=pinetreecom.ColorTweener.addTween(this._bgTextureImg,this.onOverBgColor,this.onOutBgColor,this.tweenTime/2,0,null,this.transition);TweenMax.killTweensOf(this._bgTextureImg,false,{alpha:true});TweenMax.to(this._bgTextureImg,this.tweenTime/2,{alpha:this.onOutBgAlpha,ease:this.transition})}this._isOver=false};b.getIcon=function(){return this._iconTextureImg};b.getBg=function(){return this._bgTextureImg};b.show=function(d,c,e,g){d=__defaultSet(d,this.tweenTime);c=__defaultSet(c,0);e=__defaultSet(e,this.transition);this._isShowing=true;this.visible=true;TweenMax.to(this,d,{alpha:1,ease:e,delay:c,onComplete:this._onShowComplete,onCompleteParams:[this,g]})};b._onShowComplete=function(c,d){d&&d()};b.hide=function(d,c,e,g){d=__defaultSet(d,this.tweenTime);c=__defaultSet(c,0);e=__defaultSet(e,this.transition);this._isShowing=false;TweenMax.to(this,d,{alpha:0,ease:e,delay:c,onComplete:this._onHideComplete,onCompleteParams:[this,g]})};b._onHideComplete=function(c,d){c.visible=false;d&&d()};b.getIsOver=function(){return this._isOver};b.getIsShowing=function(){return this._isShowing};b.dispose=function(){if(this._iconTweener){this._iconTweener.dispose();this._iconTweener=null}if(this._bgTweener){this._bgTweener.dispose();this._bgTweener=null}if(this._iconTextureImg){TweenMax.killTweensOf(this._iconTextureImg,false,{alpha:true});this._iconTextureImg=null}if(this._bgTextureImg){TweenMax.killTweensOf(this._bgTextureImg,false,{alpha:true});this._bgTextureImg=null}this.buttonMode=false;if(this._needBindMouseEvent){if(!pinetree.isDevice){this.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOver,this);this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this)}else{this.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this.onOver,this);this.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this.onOut,this)}}};pinetreecom.TextureButton=a})();(function(){var b=function(q,D,n,l,y,x,j,A,e,E,d,o,v,i,G,F,g,z,s,C,r,m,c,B,u,t,p,k){pinetree.Sprite.call(this);this._width=q||0;this._height=D||0;this.gapX=__defaultSet(n,10);this.gapY=__defaultSet(l,10);this.textX=__defaultSet(y,0);this.textY=__defaultSet(x,0);this.fontSize=__defaultSet(j,14);this._isStroke=__defaultSet(E,false);this._thickness=__defaultSet(d,1);this.bold=!!A;this.onOverTextColor=o||0;this.onOutTextColor=v||0;this.onOverBgColor=i||0;this.onOutBgColor=G||0;this.onOverTextAlpha=__defaultSet(F,1);this.onOutTextAlpha=__defaultSet(g,1);this.onOverBgAlpha=__defaultSet(z,1);this.onOutBgAlpha=__defaultSet(s,1);this.onOverStrokeColor=C||0;this.onOutStrokeColor=r||0;this.onOverStrokeAlpha=__defaultSet(m,1);this.onOutStrokeAlpha=__defaultSet(c,1);this.radiusTL=__defaultSet(B,0);this.radiusTR=__defaultSet(u,0);this.radiusBL=__defaultSet(t,0);this.radiusBR=__defaultSet(p,0);this._bindMouseEvent=__defaultSet(k,true);this._bg=e||null;this._strokeBg=null;this._text="";this._txt=null;this.tweenTime=0.5;this._init();__defineGetterSetter(this,["text"])};var a=__extends(b,pinetree.Sprite);a._init=function(){if(!this._bg){this._bg=new pinetree.CanvasQuad(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR);this._bg.color=this.onOutBgColor;this._bg.alpha=this.onOutBgAlpha;this._bg.width=this._width;this._bg.height=this._height;this._bg.selectable=false}this.addChild(this._bg);if(this._isStroke){this._strokeBg=new pinetree.CanvasQuad(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR,true,this._thickness);this.addChild(this._strokeBg);this._strokeBg.color=this.onOutStrokeColor;this._strokeBg.alpha=this.onOutStrokeAlpha;this._strokeBg.width=this._width;this._strokeBg.height=this._height;this._strokeBg.selectable=false}this._txt=new pinetree.TextField();this._txt.wordWrap=false;this._txt.textColor=this.onOutTextColor;this._txt.alpha=this.onOutTextAlpha;this._txt.fontSize=this.fontSize;this._txt.bold=this.bold;this._txt.selectable=false;this.addChild(this._txt);this.buttonMode=true;if(this._bindMouseEvent){if(!pinetree.isDevice){this.addEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.addEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this)}else{this.addEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onOver,this);this.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onOut,this)}}};a.getText=function(){return this._text};a.setText=function(c){this._text=c;this._txt.htmlText=c;if(this._width>0){if(this.textX==0){this._txt.x=(this._width-this._txt.width)>>1}else{this._txt.x=this.textX+this.gapX}}else{if(this.textX==0){this._txt.x=this.gapX}else{this._txt.x=this.textX+this.gapX}this._width=this._txt.width+this.gapX+this.gapX;if(this._bg instanceof pinetree.Quad){this._bg.width=this._width}if(this._isStroke){this._strokeBg.width=this._width}}if(this._height>0){if(this.textY==0){this._txt.y=(this._height-this._txt.height)>>1}else{this._txt.y=this.textY+this.gapY}}else{if(this.textY==0){this._txt.y=this.gapY}else{this._txt.y=this.textY+this.gapY}this._height=this._txt.height+this.gapY+this.gapY;if(this._bg instanceof pinetree.Quad){this._bg.height=this._height}if(this._isStroke){this._strokeBg.height=this._height}}};a.over=function(){this._onOver(null)};a.out=function(){this._onOut(null)};a._onOver=function(c){if(pinetree.isDevice&&c&&c.type!=pinetree.MouseEvent.MOUSE_DOWN){return}if(this._bg instanceof pinetree.Quad){this._bg.tweenColor(this.onOverBgColor,this.tweenTime/2);TweenMax.to(this._bg,this.tweenTime/2,{alpha:this.onOverBgAlpha,ease:Quad.easeOut})}else{if(this._bg instanceof pinetreecom.TextureButton){this._bg.onOver(null)}}if(this._strokeBg){this._strokeBg.tweenColor(this.onOverStrokeColor,this.tweenTime/2);TweenMax.to(this._strokeBg,this.tweenTime/2,{alpha:this.onOverStrokeAlpha,ease:Quad.easeOut})}this._txt.tweenColor(this.onOverTextColor,this.tweenTime/2);TweenMax.to(this._txt,this.tweenTime/2,{alpha:this.onOverTextAlpha,ease:Quad.easeOut})};a._onOut=function(c){if(this._bg instanceof pinetree.Quad){this._bg.tweenColor(this.onOutBgColor,this.tweenTime/2);TweenMax.to(this._bg,this.tweenTime/2,{alpha:this.onOutBgAlpha,ease:Quad.easeOut})}else{if(this._bg instanceof pinetreecom.TextureButton){this._bg.onOut(null)}}if(this._strokeBg){this._strokeBg.tweenColor(this.onOutStrokeColor,this.tweenTime/2);TweenMax.to(this._strokeBg,this.tweenTime/2,{alpha:this.onOutStrokeAlpha,ease:Quad.easeOut})}this._txt.tweenColor(this.onOutTextColor,this.tweenTime/2);TweenMax.to(this._txt,this.tweenTime/2,{alpha:this.onOutTextAlpha,ease:Quad.easeOut})};a.dispose=function(){if(!pinetree.isDevice){this.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this)}else{this.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._onOut,this)}if(this._bg){if(this._bg instanceof pinetreecom.TextureButton){this._bg.dispose()}else{if(this._bg instanceof pinetree.Quad){this._bg.stopTweenColor()}}this._bg=null}this._strokeBg&&this._strokeBg.dispose();this._strokeBg=null;this._txt&&this._txt.stopTweenColor();this._txt=null};pinetreecom.TextButton=b}());(function(){var b=function(d,c){pinetree.Sprite.call(this);this._onImage=null;this._offImage=null;this._color=__defaultSet(c,-1);this._isOnState=!!d;this.addEventListener(pinetree.MouseEvent.CLICK,this._onClick,this);this.buttonMode=true;this.selectable=false;this.tweenTime=1;this.ON_CHANGE=new pinetree.Signal();__defineGetterSetter(this,["color","state"])};var a=__extends(b,pinetree.Sprite);b.STATE_ON="on";b.STATE_OFF="off";a.setTextures=function(c,d){this._onImage=new pinetree.TextureImage(c);this._offImage=new pinetree.TextureImage(d);if(this._color>-1){pinetreecom.ColorUtil.setColor(this._onImage,this._color);pinetreecom.ColorUtil.setColor(this._offImage,this._color)}if(this._isOnState){this.addChild(this._onImage)}else{this.addChild(this._offImage)}};a.setState=function(c){if(c==pinetreecom.ToggleButton.STATE_ON){this.addChild(this._onImage);this._offImage.removeFromParent();this._isOnState=true}else{this.addChild(this._offImage);this._onImage.removeFromParent();this._isOnState=false}};a.getState=function(){var c=this._isOnState?pinetreecom.ToggleButton.STATE_ON:pinetreecom.ToggleButton.STATE_OFF;return c};a.setColor=function(c){this._color=c;if(this._color>-1){pinetreecom.ColorUtil.tweenColor(this._onImage,this._color,this.tweenTime/2);pinetreecom.ColorUtil.tweenColor(this._offImage,this._color,this.tweenTime/2)}};a._onClick=function(c){this._isOnState=!this._isOnState;if(this._isOnState){this.addChild(this._onImage);this._offImage.removeFromParent();this.ON_CHANGE.dispatch(pinetreecom.ToggleButton.STATE_ON)}else{this.addChild(this._offImage);this._onImage.removeFromParent();this.ON_CHANGE.dispatch(pinetreecom.ToggleButton.STATE_OFF)}};a.dispose=function(){this.ON_CHANGE&&this.ON_CHANGE.removeAll();this.ON_CHANGE=null;this.removeEventListener(pinetree.MouseEvent.CLICK,this._onClick,this);pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.ToggleButton=b}());(function(){var a=function(g,d,e,k,h,j,i,c,l){this.prevBtn=g;this.nextBtn=d;this._showPrev=false;this._showNext=false;this._enabled=true;this._useKeyArrow=false;this.parent=null;this._needHoverTweenX=__defaultSet(j,false);this._needHoverTweenY=__defaultSet(i,false);this._tweenOffsetX=__defaultSet(c,3);this._tweenOffsetY=__defaultSet(l,3);if(g.parent&&d.parent&&g.parent==d.parent){this.parent=g.parent}this.prevBtn.mouseChildren=!!k;this.nextBtn.mouseChildren=!!k;this.prevBtn.buttonMode=this.nextBtn.buttonMode=true;this._mode=e&&e==pinetreecom.SimplePNButtonsManager.VISIBLE_MODE?pinetreecom.SimplePNButtonsManager.VISIBLE_MODE:pinetreecom.SimplePNButtonsManager.ALPHA_MODE;this._alphaWhenAlphaMode=h==undefined?0.5:h;this.ON_CHANGE=new pinetree.Signal();this.tweenTime=1;this.transition=Quad.easeOut;__defineGetterSetter(this,["height","enabled","mode","showPrev","showNext","useKeyArrow"]);this._init()};a.VISIBLE_MODE="visible";a.ALPHA_MODE="alpha";a.PREV_TYPE="prev";a.NEXT_TYPE="next";var b=a.prototype;b._init=function(){this.prevBtn.addEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.prevBtn.addEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this);this.prevBtn.addEventListener(pinetree.MouseEvent.CLICK,this._onPrev,this);this.nextBtn.addEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.nextBtn.addEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this);this.nextBtn.addEventListener(pinetree.MouseEvent.CLICK,this._onNext,this);this._updateState()};b.getUseKeyArrow=function(){return this._useKeyArrow};b.setUseKeyArrow=function(c){this._useKeyArrow=c;if(this._useKeyArrow){pinetreecom.KeyboardUtil.listen(this,[pinetree.Keyboards.LEFT,pinetree.Keyboards.UP,pinetree.Keyboards.RIGHT,pinetree.Keyboards.DOWN],this._onKeyUp)}else{pinetreecom.KeyboardUtil.cancelByOwner(this)}};b.getHeight=function(){if(this.parent){return this.parent.height}return 0};b.setEnabled=function(c){this._enabled=c;if(this.parent){this.parent.mouseEnabled=this.parent.mouseChildren=c}};b._onOver=function(d){var h=d.customTarget;if(!h){return}var g=this._needHoverTweenX||this._needHoverTweenY;if(g){var e=this._needHoverTweenX?this._tweenOffsetX:0;var c=this._needHoverTweenY?this._tweenOffsetY:0;if(h==this.prevBtn){TweenMax.to(this.prevBtn.icon,0.3,{x:-e,y:-c,ease:Quart.easeOut})}else{if(h==this.nextBtn){TweenMax.to(this.nextBtn.icon,0.3,{x:e,y:c,ease:Quart.easeOut})}}}};b._onOut=function(c){var e=c.customTarget;if(!e){return}var d=this._needHoverTweenX||this._needHoverTweenY;if(d){if(e==this.prevBtn){TweenMax.to(this.prevBtn.icon,0.3,{x:0,y:0,ease:Quart.easeOut})}else{if(e==this.nextBtn){TweenMax.to(this.nextBtn.icon,0.3,{x:0,y:0,ease:Quart.easeOut})}}}};b._onKeyUp=function(c){switch(c){case pinetree.Keyboards.LEFT:case pinetree.Keyboards.UP:if(this._enabled&&this._showPrev){this._onPrev(null)}break;case pinetree.Keyboards.RIGHT:case pinetree.Keyboards.DOWN:if(this._enabled&&this._showNext){this._onNext(null)}break}};b._onPrev=function(c){this.ON_CHANGE.dispatch({target:c?c.customTarget:window,type:pinetreecom.SimplePNButtonsManager.PREV_TYPE})};b._onNext=function(c){this.ON_CHANGE.dispatch({target:c?c.customTarget:window,type:pinetreecom.SimplePNButtonsManager.NEXT_TYPE})};b.showPNButtons=function(c,d){this._showPrev=c;this._showNext=d;this._updateState()};b._updateState=function(){if(!this._showPrev&&!this._showNext){this.prevBtn.visible=this.nextBtn.visible=false}else{if(this._showNext&&!this._showPrev){this.prevBtn.mouseEnabled=false;this.nextBtn.mouseEnabled=true;if(this._mode==pinetreecom.SimplePNButtonsManager.VISIBLE_MODE){this.prevBtn.visible=false;this.nextBtn.visible=true}else{if(this._mode==pinetreecom.SimplePNButtonsManager.ALPHA_MODE){this.prevBtn.alpha=this._alphaWhenAlphaMode;this.nextBtn.alpha=1;this.prevBtn.visible=true;this.nextBtn.visible=true}}}else{if(this._showPrev&&!this._showNext){this.prevBtn.mouseEnabled=true;this.nextBtn.mouseEnabled=false;if(this._mode==pinetreecom.SimplePNButtonsManager.VISIBLE_MODE){this.prevBtn.visible=true;this.nextBtn.visible=false}else{if(this._mode==pinetreecom.SimplePNButtonsManager.ALPHA_MODE){this.prevBtn.alpha=1;this.nextBtn.alpha=this._alphaWhenAlphaMode;this.prevBtn.visible=true;this.nextBtn.visible=true}}}else{this.prevBtn.mouseEnabled=this.nextBtn.mouseEnabled=true;this.prevBtn.visible=true;this.nextBtn.visible=true;this.prevBtn.alpha=this.nextBtn.alpha=1}}}};b.getMode=function(){return this._mode};b.show=function(d,c){if(d==undefined){d=0.5}if(c==undefined){c=0}if(this.parent){this.parent.alpha=0;this.parent.mouseChildren=false;this.parent.visible=true;TweenMax.killTweensOf(this.parent,false,{alpha:true});TweenMax.to(this.parent,d,{alpha:1,delay:c,ease:this.transition,onComplete:this._showComplete,onCompleteParams:[this]})}};b._showComplete=function(c){c.parent.mouseChildren=true};b.hide=function(d,c){if(d==undefined){d=0.5}if(c==undefined){c=0}if(this.parent){TweenMax.killTweensOf(this.parent,false,{alpha:true});TweenMax.to(this.parent,d,{alpha:0,delay:c,ease:this.transition,onComplete:this._hideComplete,onCompleteParams:[this]});this.parent.mouseChildren=false}};b.getShowPrev=function(){return this._showPrev};b.getShowNext=function(){return this._showNext};b._hideComplete=function(c){if(c.parent){c.parent.visible=false}};b.reset=function(){this._showPrev=false;this._showNext=false;this._updateState()};b.dispose=function(){this.reset();TweenMax.killTweensOf(this.prevBtn);TweenMax.killTweensOf(this.nextBtn);this.parent&&TweenMax.killTweensOf(this.parent,false,{alpha:true});this.prevBtn.removeEventListener(pinetree.MouseEvent.CLICK,this._onPrev,this);this.prevBtn.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.prevBtn.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this);this.nextBtn.removeEventListener(pinetree.MouseEvent.CLICK,this._onNext,this);this.nextBtn.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.nextBtn.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this);pinetreecom.KeyboardUtil.cancelByOwner(this);this.ON_CHANGE&&this.ON_CHANGE.removeAll();this.ON_CHANGE=null};pinetreecom.SimplePNButtonsManager=a}());(function(){var a=function(c,i,g,d,h,e){pinetreecom.UIComponent.call(this);this.onOverColor=16777215;this.onOutColor=16777215;this._btnContainer=null;this._needHoverTweenX=__defaultSet(g,false);this._needHoverTweenY=__defaultSet(d,false);this._tweenOffsetX=__defaultSet(h,3);this._tweenOffsetY=__defaultSet(e,3);this.prevBtn=c||null;this.nextBtn=i||null;this.showAlpha=1;this.hideAlpha=0;this._inited=false;this._isShowing=false;this._pnMgr=null;this._useMouseWheel=false;this._useKeyArrow=false;this.tweenTime=1;this.transition=Quad.easeOut;this.ON_CHANGE=new pinetree.Signal();__defineGetterSetter(this,["useMouseWheel","enabled","isShowing","useKeyArrow"])};var b=__extends(a,pinetreecom.UIComponent);b.addedToStage=function(){if(!this.isInitialized){this._init()}pinetreecom.UIComponent.prototype.addedToStage.call(this)};b._init=function(){if(this._inited){return}this._inited=true;this._btnContainer=new pinetree.Sprite();this.addChild(this._btnContainer);if(!this.prevBtn){if(pinetree.isDevice){this.prevBtn=new pinetreecom.TextureButton(this.onOverColor,this.onOutColor,0,0,1,1,0,0);this._btnContainer.addChild(this.prevBtn);this.prevBtn.setTextures(pt.getCommonTexture(pinetreepages.EnumTextures.DEVICE_PREV_ICON),pt.getCommonTexture(pinetreepages.EnumTextures.BTN_BG_ICON))}else{this.prevBtn=new pinetreecom.TextureButton(this.onOverColor,this.onOutColor,this.onOverColor,this.onOutColor,1,1,1,1);this._btnContainer.addChild(this.prevBtn);var c=pt.getCommonTexture(pinetreepages.EnumTextures.BTN_CIRCLE_BG_ICON);this.prevBtn.setTextures(pt.getCommonTexture(pinetreepages.EnumTextures.PREV_ICON),c)}}if(!this.nextBtn){if(pinetree.isDevice){this.nextBtn=new pinetreecom.TextureButton(this.onOverColor,this.onOutColor,0,0,1,1,0,0);this._btnContainer.addChild(this.nextBtn);this.nextBtn.setTextures(pt.getCommonTexture(pinetreepages.EnumTextures.DEVICE_NEXT_ICON),pt.getCommonTexture(pinetreepages.EnumTextures.BTN_BG_ICON))}else{this.nextBtn=new pinetreecom.TextureButton(this.onOverColor,this.onOutColor,this.onOverColor,this.onOutColor,1,1,1,1);this._btnContainer.addChild(this.nextBtn);var c=pt.getCommonTexture(pinetreepages.EnumTextures.BTN_CIRCLE_BG_ICON);this.nextBtn.setTextures(pt.getCommonTexture(pinetreepages.EnumTextures.NEXT_ICON),c)}}this._btnContainer.addChild(this.prevBtn);this._btnContainer.addChild(this.nextBtn);this._pnMgr=new pinetreecom.SimplePNButtonsManager(this.prevBtn,this.nextBtn,pinetreecom.SimplePNButtonsManager.ALPHA_MODE,false,0.5,this._needHoverTweenX,this._needHoverTweenY,this._tweenOffsetX,this._tweenOffsetY);this._pnMgr.ON_CHANGE.add(this,this._onChange);this._pnMgr.useKeyArrow=this._useKeyArrow};b.setEnabled=function(c){if(this._btnContainer){this._btnContainer.mouseEnabled=this._btnContainer.mouseChildren=c}if(this._pnMgr){this._pnMgr.enabled=c}};b.getUseKeyArrow=function(){return this._useKeyArrow};b.setUseKeyArrow=function(c){this._useKeyArrow=c;if(this._pnMgr){this._pnMgr.useKeyArrow=this._useKeyArrow}};b.showPNButtons=function(c,d){this._pnMgr.showPNButtons(!!c,!!d);if(!c&&this.prevBtn&&this.prevBtn.isOver){this.prevBtn.onOut()}if(!d&&this.nextBtn&&this.nextBtn.isOver){this.nextBtn.onOut()}};b._onChange=function(c){this.ON_CHANGE.dispatch(c)};b.getUseMouseWheel=function(){return this._useMouseWheel};b.setUseMouseWheel=function(c){this._useMouseWheel=c};b._onMouseWheel=function(c){if(!this._useMouseWheel||pt.isOverTextContainer){return}var g=c.delta;if(g>0){if(!this._pnMgr.showPrev){return}}else{if(!this._pnMgr.showNext){return}}var d={type:g>0?pinetreecom.SimplePNButtonsManager.PREV_TYPE:pinetreecom.SimplePNButtonsManager.NEXT_TYPE};this.ON_CHANGE.dispatch(d)};b.show=function(d,c){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}this._isShowing=true;this.visible=true;if(d==0){this.alpha=this.showAlpha}else{TweenMax.to(this,d,{alpha:this.showAlpha,delay:c,ease:this.transition})}if(this.stage){this.stage.removeEventListener(pinetree.MouseEvent.MOUSE_WHEEL,this._onMouseWheel,this);this.stage.addEventListener(pinetree.MouseEvent.MOUSE_WHEEL,this._onMouseWheel,this)}};b.hide=function(c){if(c==undefined){c=this.tweenTime}this._isShowing=false;if(c==0){this.alpha=this.hideAlpha;this.visible=false}else{TweenMax.to(this,c,{alpha:this.hideAlpha,ease:this.transition,onComplete:this._hideComplete,onCompleteParams:[this]})}this.stage&&this.stage.removeEventListener(pinetree.MouseEvent.MOUSE_WHEEL,this._onMouseWheel,this)};b._hideComplete=function(c){if(c.hideAlpha==0){c.visible=false}};b.getIsShowing=function(){return this._isShowing};b.dispose=function(){this._pnMgr&&this._pnMgr.dispose();this._pnMgr=null;this.prevBtn&&this.prevBtn.dispose();this.prevBtn=null;this.nextBtn&&this.nextBtn.dispose();this.nextBtn=null;this.ON_CHANGE&&this.ON_CHANGE.removeAll();this.ON_CHANGE=null;this.stage&&this.stage.removeEventListener(pinetree.MouseEvent.MOUSE_WHEEL,this._onMouseWheel,this);pinetreecom.UIComponent.prototype.dispose.call(this)};pinetreecom.TexturePNButtons=a}());(function(){var a=function(d,c,e){pinetree.Sprite.call(this);this.onOverTargetCircleColor=pt.onOverColor;this.onOutTargetCircleColor=pt.bgColor;this.onOverBgCircleColor=pt.bgColor;this.onOutBgCircleColor=pt.bgColor;this.onOverIconColor=pt.bgColor;this.onOutIconColor=pt.onOverColor;this.onOverTargetCircleAlpha=1;this.onOutTargetCircleAlpha=1;this.onOverBgCircleAlpha=1;this.onOutBgCircleAlpha=1;this.bgOverScale=1.1;this._radius=d;this._bgRadius=c;this._texture=e;this._targetCircle=null;this._bgCircle=null;this._icon=null;this._iconColorTweener=null;this.tweenTime=0.3;this.transition=Quad.easeOut;this.buttonMode=true};var b=__extends(a,pinetree.Sprite);b.init=function(){this._bgCircle=new pinetree.CanvasCircle(this._bgRadius,true);this._bgCircle.color=this.onOutBgCircleColor;this._bgCircle.alpha=this.onOutBgCircleAlpha;this.addChild(this._bgCircle);this._targetCircle=new pinetree.CanvasCircle(this._radius,true);this._targetCircle.color=this.onOutTargetCircleColor;this._targetCircle.alpha=this.onOutTargetCircleAlpha;this.addChild(this._targetCircle);if(this._texture){this._icon=new pinetree.TextureImage(this._texture);this.addChild(this._icon);this._icon.x=-this._icon.width>>1;this._icon.y=-this._icon.height>>1;pinetreecom.ColorUtil.setColor(this._icon,this.onOutIconColor)}this.addEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.addEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this);this.visible=false;this.alpha=0};b._onOver=function(c){this._bgCircle.tweenColor(this.onOverBgCircleColor,this.tweenTime,this.transition);this._targetCircle.tweenColor(this.onOverTargetCircleColor,this.tweenTime,this.transition);TweenMax.to(this._bgCircle,this.tweenTime,{alpha:this.onOverBgCircleAlpha,scale:this.bgOverScale,ease:this.transition});TweenMax.to(this._targetCircle,this.tweenTime,{alpha:this.onOverTargetCircleAlpha,ease:this.transition});if(this._texture){this._iconColorTweener&&this._iconColorTweener.dispose();this._iconColorTweener=pinetreecom.ColorTweener.addTween(this._icon,this.onOutIconColor,this.onOverIconColor,this.tweenTime,0,null,this.transition);TweenMax.to(this._icon,this.tweenTime,{alpha:this.onOverIconAlpha,ease:this.transition})}};b._onOut=function(c){this._bgCircle.tweenColor(this.onOutBgCircleColor,this.tweenTime,this.transition);this._targetCircle.tweenColor(this.onOutTargetCircleColor,this.tweenTime,this.transition);TweenMax.to(this._bgCircle,this.tweenTime,{alpha:this.onOutBgCircleAlpha,scale:1,ease:this.transition});TweenMax.to(this._targetCircle,this.tweenTime,{alpha:this.onOutTargetCircleAlpha,ease:this.transition});if(this._texture){this._iconColorTweener&&this._iconColorTweener.dispose();this._iconColorTweener=pinetreecom.ColorTweener.addTween(this._icon,this.onOverIconColor,this.onOutIconColor,this.tweenTime,0,null,this.transition);TweenMax.to(this._icon,this.tweenTime,{alpha:this.onOutIconAlpha,ease:this.transition})}};b.updateSize=function(d,c){if(this._radius==d&&this._bgRadius==c){return}this._radius=d;this._bgRadius=c;this._targetCircle.radius=this._radius;this._bgCircle.radius=this._bgRadius};b.updateTexture=function(c){if(this._texture==c){return}this._texture=c;if(this._texture){if(!this._icon){this._icon=new pinetree.TextureImage(this._texture);this.addChild(this._icon)}else{this._icon.texture=this._texture}this._icon.x=-this._icon.width>>1;this._icon.y=-this._icon.height>>1;pinetreecom.ColorUtil.setColor(this._icon,this.onOutIconColor)}else{if(this._icon){TweenMax.killTweensOf(this._icon);this._icon.removeFromParent(true);this._icon=null}}};b.show=function(d,c,e,g){d=__defaultSet(d,this.tweenTime);c=__defaultSet(c,0);e=__defaultSet(e,this.transition);this.visible=true;TweenMax.to(this,d,{alpha:1,ease:e,delay:c,onComplete:this._onShowComplete,onCompleteParams:[this,g]})};b._onShowComplete=function(c,d){d&&d()};b.hide=function(d,c,e,g){d=__defaultSet(d,this.tweenTime);c=__defaultSet(c,0);e=__defaultSet(e,this.transition);TweenMax.to(this,d,{alpha:0,ease:e,delay:c,onComplete:this._onHideComplete,onCompleteParams:[this,g]})};b._onHideComplete=function(c,d){c.visible=false;d&&d()};b.getWidth=function(){return this._radius+this._radius};b.getHeight=function(){return this._radius+this._radius};b.dispose=function(){if(this._bgCircle){TweenMax.killTweensOf(this._bgCircle);this._bgCircle.dispose();this._bgCircle=null}if(this._targetCircle){TweenMax.killTweensOf(this._targetCircle);this._targetCircle.dispose();this._targetCircle=null}if(this._icon){TweenMax.killTweensOf(this._icon);this._icon.removeFromParent(true);this._icon=null}this._iconColorTweener&&this._iconColorTweener.dispose();this._iconColorTweener=null;this.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this);pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.CircleTextureButton=a}());(function(){var a=function(d,c){pinetree.Sprite.call(this);this._needControls=d==undefined?true:!!d;this._preload=c==undefined?"none":c;this._disposed=false;this._videoHtmlElement=document.createElement("video");this._videoHtmlElement.style.position="absolute";this._htmlElement.appendChild(this._videoHtmlElement);this.preCssSet="video-js vjs-big-play-centered";this._skinName="";this.setSkin("vjs-default-skin");this._poster="";this._autoplay=true;this._loop=false;this.playEndHandler=null;this._width=640;this._height=360;this.setPreload(this._preload);__defineGetterSetter(this,["poster","preload","volume","videoPlayer","muted","isPaused","duration","currentTime","isFullscreen","isShowControls","skin","disposed","autoplay","loop"])};var b=__extends(a,pinetree.Sprite);b.load=function(g,e,c,d){if(e==undefined){e="video"}switch(e){case"video":this._loadVideo(g);break;case"youtube":this._loadYoutube(g);break;case"vimeo":this._loadVimeo(g);break;default:this._loadVideo(g);break}this.width=c==undefined?this._width:c;this.height=d==undefined?this._height:d;if(this.playEndHandler){this._videoPlayer.off("ended",this.playEndHandler);this._videoPlayer.on("ended",this.playEndHandler)}if(e!="vimeo"){this.isShowControls=this._needControls}pt.closeSiteMusic()};b._loadVideo=function(m){this._videoPlayer=videojs(this._videoHtmlElement);var l=pinetreecom.StringUtil.getFileExtension(m);var j=null,h=["mp4","webm","ogg"];if(l&&h.indexOf(l)>-1){m=pinetreecom.StringUtil.removeFileExtension(m)}var c=h.length,g=[];for(var d=0;d<c;d++){l=h[d];j={type:"video/"+l,src:m+"."+l};g.push(j)}try{this._videoPlayer.src(g)}catch(k){trace("load video error!")}};b._loadYoutube=function(c){this._videoPlayer=videojs(this._videoHtmlElement,{techOrder:["youtube"],src:c,autoplay:this._autoplay})};b._loadVimeo=function(c){this._videoPlayer=videojs(this._videoHtmlElement,{techOrder:["vimeo"],src:c,autoplay:this._autoplay})};b.getWidth=function(){return this._width};b.setWidth=function(c){this._width=c;this._videoPlayer&&this._videoPlayer.width(c)};b.getHeight=function(){return this._height};b.setHeight=function(c){this._height=c;this._videoPlayer&&this._videoPlayer.height(c)};b.getSkin=function(){return this._skinName};b.setSkin=function(d){if(d==this._skinName){return}this._skinName=d;var c=this.preCssSet+" "+d;this._videoHtmlElement.setAttribute("class",c)};b.setSize=function(c,d){this._width=c;this._height=d;this._videoPlayer&&this._videoPlayer.dimensions(c,d)};b.getAutoplay=function(){return this._autoplay};b.setAutoplay=function(c){this._autoplay=c;this._videoHtmlElement.setAttribute("autoplay",c)};b.getLoop=function(){return this._loop};b.setLoop=function(c){if(this._loop==c){return}this._loop=c;this._videoHtmlElement.setAttribute("loop",c)};b.getCurrentTime=function(){return this._videoPlayer.currentTime()};b.setCurrentTime=function(c){this._videoPlayer&&this._videoPlayer.currentTime(c)};b.getDuration=function(){return this._videoPlayer.duration()};b.getVolume=function(){return this._videoPlayer.volume()};b.setVolume=function(c){if(isNaN(c)){c=1}if(c<0){c=0}if(c>1){c=1}this._videoPlayer&&this._videoPlayer.volume(c)};b.getVideoPlayer=function(){return this._videoPlayer};b.getPreload=function(){return this._preload};b.setPreload=function(c){if(this._preload==c){return}this._preload=c;this._videoHtmlElement.setAttribute("preload",c)};b.getPoster=function(){return this._poster};b.setPoster=function(c){if(this._poster==c){return}this._poster=c;this._videoHtmlElement.setAttribute("poster",c)};b.getIsFullscreen=function(){return this._videoPlayer.isFullscreen()};b.getIsPaused=function(){return this._videoPlayer.paused()};b.getMuted=function(){return this._videoPlayer.muted()};b.setMuted=function(c){this._videoPlayer&&this._videoPlayer.muted(!!c)};b.getIsShowControls=function(){return this._videoPlayer.controls()};b.setIsShowControls=function(c){this._videoPlayer&&this._videoPlayer.controls(!!c)};b.getDisposed=function(){return this._disposed};b.play=function(){this._videoPlayer&&this._videoPlayer.play()};b.pause=function(){this._videoPlayer&&this._videoPlayer.pause()};b.exitFullscreen=function(){this._videoPlayer&&this._videoPlayer.exitFullscreen()};b.requestFullscreen=function(){this._videoPlayer&&this._videoPlayer.requestFullscreen()};b.show=function(){this._videoPlayer&&this._videoPlayer.show()};b.hide=function(){this._videoPlayer&&this._videoPlayer.hide()};b.tweenIn=function(d,c,e,g){d=__defaultSet(d,1);c=__defaultSet(c,0);e=__defaultSet(e,Quad.easeOut);TweenMax.to(this,d,{volume:1,alpha:1,delay:c,ease:e,onComplete:g})};b.tweenOut=function(d,c,e,g){d=__defaultSet(d,1);c=__defaultSet(c,0);e=__defaultSet(e,Quad.easeOut);TweenMax.to(this,d,{volume:0,alpha:0,delay:c,ease:e,onComplete:g})};b.dispose=function(d){if(this._disposed){return}this._disposed=true;this.playEndHandler=null;d=__defaultSet(d,true);if(d){pt.openSiteMusic()}TweenMax.killTweensOf(this);try{this._videoPlayer&&this._videoPlayer.dispose();this._videoPlayer=null}catch(c){this._videoPlayer=null}pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.MediaPlayer=a}());(function(){var a=function(){pinetreecom.UIComponent.call(this);this._pnVisible=true;this._closeVisible=true;this._infoVisible=false;this._useMouseWheel=false;this._enabled=true;this.tweenTime=0.5;this.transition=Quad.easeOut;this.showAlpha=1;this.hideAlpha=0;this.btnOverAlpha=1;this.btnOutAlpha=0.9;this._gapX=0;this._gapY=0;this._alignDirection="horizontal";this._ignoreX=false;this._ignoreY=false;this._isShowing=false;this._targets=[];this.isTweenX=false;this._clipRect=new pinetree.Rectangle(0,0,0,0);this._pnBtns=null;this.prevBtn=null;this.nextBtn=null;this.closeBtn=null;this.infoBtn=null;this.ON_CHANGE=new pinetree.Signal();this.ON_CLOSE=new pinetree.Signal();this.ON_INFO=new pinetree.Signal();this.registerAutoDispose(this.ON_CHANGE);this.registerAutoDispose(this.ON_CLOSE);this.registerAutoDispose(this.ON_INFO);this.alpha=0;this.visible=false;__defineGetterSetter(this,["useMouseWheel","pnVisible","closeVisible","infoVisible","pnButtons","enable"])};var b=__extends(a,pinetreecom.UIComponent);b.addedToStage=function(){if(!this.isInitialized){this.prevBtn=this._initButton(pinetreepages.EnumTextures.PREV_ICON_H_DEVICE,null,null);this.nextBtn=this._initButton(pinetreepages.EnumTextures.NEXT_ICON_H_DEVICE,null,null);this._pnBtns=new pinetreecom.TexturePNButtons(this.prevBtn,this.nextBtn);this.addChild(this._pnBtns);this._pnBtns.useMouseWheel=this._useMouseWheel;this._pnBtns.ON_CHANGE.add(this,this._onPNChange);this._pnBtns.show(0,0);this.closeBtn=this._initButton(pinetreepages.EnumTextures.CLOSE_ICON_DEVICE,null,this._onClose);this.infoBtn=this._initButton(pinetreepages.EnumTextures.INFO_ICON_DEVICE,null,this._onInfo);this.registerAutoDispose(this._pnBtns);this.registerAutoDispose(this.closeBtn);this.registerAutoDispose(this.infoBtn);this._update()}pinetreecom.UIComponent.prototype.addedToStage.call(this)};b._initButton=function(c,d,i){var g=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,pt.onOverColor,pt.onOutColor,this.btnOverAlpha,this.btnOutAlpha,this.btnOverAlpha,this.btnOutAlpha);var h=pinetreepages.assetsMgr.getCommonTexture(c);var e=pinetreepages.assetsMgr.getCommonTexture(d);g.setTextures(h,e);this.addChild(g);if(!!i){g.addEventListener(pinetree.MouseEvent.MOUSE_UP,i,this)}g.show(0);return g};b.alignBy=function(j,d,n,o,m){if(j==undefined){j=5}if(d==undefined){d=5}if(n==undefined){n="horizontal"}if(o==undefined){o=false}if(m==undefined){m=false}this._gapX=j;this._gapY=d;this._alignDirection=n;this._ignoreX=o;this._ignoreY=m;var e=[this.prevBtn,this.nextBtn,this.infoBtn,this.closeBtn];var l=e.length,c,g;if(n=="vertical"){var k=0;for(g=0;g<l;g++){c=e[g];if(c&&c.visible){if(!o){c.x=j}if(!m){c.y=k}k+=(c.height+d)}}}else{var p=0;for(g=0;g<l;g++){c=e[g];if(c&&c.visible){if(!o){c.x=p}if(!m){c.y=d}p+=c.width+j}}}if(this.isTweenX){this._clipRect.width=this.prevBtn.width||this.nextBtn.width||this.closeBtn.width||this.infoBtn.width;this._clipRect.width+=j+j;this._clipRect.height=this.height;this.clip=this._clipRect;this.width=this._clipRect.width;this.height=this.height}};b.listen=function(c){if(this._targets.indexOf(c)<0){this._targets.push(c)}};b.cancel=function(d){if(d){var c=this._targets.indexOf(d);if(c>-1){this._targets.splice(c,1)}}};b.cancelAll=function(){this._targets.splice(0,this._targets.length)};b.refresh=function(){this.alignBy(this._gapX,this._gapY,this._alignDirection,this._ignoreX,this._ignoreY)};b.getUseMouseWheel=function(){return this._useMouseWheel};b.setUseMouseWheel=function(c){if(this._useMouseWheel==c){return}if(pinetree.isDevice){return}this._useMouseWheel=c;this._pnBtns.useMouseWheel=c};b.setPnVisible=function(c){this._pnVisible=c;this._update()};b.showPNButtons=function(c,d){this._pnBtns&&this._pnBtns.showPNButtons(c,d)};b.setCloseVisible=function(c){this._closeVisible=c;this._update()};b.setInfoVisible=function(c){this._infoVisible=c;this._update()};b.getPnButtons=function(){return this._pnBtns};b._onClose=function(c){this.ON_CLOSE.dispatch();var d=this._targets.length,e;while(d--){e=this._targets[d];if(pinetreecom.CommonUtil.isFunction(e,"onControlClose")){e.onControlClose(c)}}};b._onInfo=function(c){this.ON_INFO.dispatch();var d=this._targets.length,e;while(d--){e=this._targets[d];if(pinetreecom.CommonUtil.isFunction(e,"onControlInfo")){e.onControlInfo(c)}}};b._onPNChange=function(g){this.ON_CHANGE.dispatch(g);var c=this._targets.length,d;while(c--){d=this._targets[c];if(pinetreecom.CommonUtil.isFunction(d,"onControlPNChange")){d.onControlPNChange(g)}}};b.getEnable=function(){return this._enabled};b.setEnable=function(c){this._enabled=c;this.mouseChildren=this.mouseEnabled=c};b._update=function(){this._pnBtns.visible=this._pnVisible;this.closeBtn.visible=this._closeVisible;this.infoBtn.visible=this._infoVisible};b.show=function(d,c){if(this._isShowing){return}this._isShowing=true;if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}this.visible=true;this.enable=true;if(this.isTweenX){pinetreecom.DelayCaller.removeByHandler(this,this._onStartShow);pinetreecom.DelayCaller.delayCall(this,this._onStartShow,c)}else{if(d==0){this.alpha=this.showAlpha}else{TweenMax.to(this,d,{alpha:this.showAlpha,delay:c,ease:this.transition})}}};b._onStartShow=function(){var h=[this.prevBtn,this.nextBtn,this.closeBtn,this.infoBtn];var c=h.length,g,d=0;for(var e=0;e<c;e++){g=h[e];if(g){g.x=-g.width;TweenMax.to(g,this.tweenTime,{x:this._gapX,delay:d*0.1,ease:Back.easeOut});d++}}this.alpha=this.showAlpha};b.hide=function(d,c){if(!this._isShowing){return}this._isShowing=false;if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}this.enable=false;if(this.isTweenX){pinetreecom.DelayCaller.removeByHandler(this,this._onStartShow);pinetreecom.DelayCaller.delayCall(this,this._onStartHide,c)}else{if(d==0){this.alpha=this.hideAlpha;this.visible=false}else{TweenMax.to(this,d,{alpha:this.hideAlpha,ease:this.transition,onComplete:this._hideComplete,onCompleteParams:[this]})}}};b._onStartHide=function(){var h=[this.prevBtn,this.nextBtn,this.closeBtn,this.infoBtn];var c=h.length,g,d=0;for(var e=c-1;e>=0;e--){g=h[e];if(g){TweenMax.to(g,this.tweenTime*0.8,{x:-g.width,delay:d*0.1,ease:Quart.easeOut,onComplete:this._onHideEachComplete,onCompleteParams:[this,e,0]});d++}}};b._onHideEachComplete=function(c,e,d){if(e==d){c._hideComplete(c)}};b._hideComplete=function(c){c.alpha=0;c.visible=false};b.dispose=function(){this.closeBtn.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._onClose,this);this.reset();pinetreecom.DelayCaller.removeByOwner(this);TweenMax.killTweensOf(this);pinetreecom.UIComponent.prototype.dispose.call(this)};pinetreecom.ControlButtons=a}());(function(){var a=function(c,d,e){pinetree.Shape.call(this);this._width=c==undefined?100:c;this._height=d==undefined?100:d;this._src=e||"";this._img=null;this._htmlImage=null;if(this._src){this.load(this._src)}};var b=__extends(a,pinetree.Shape);b.load=function(c){this._src=c;this._img=new pinetreecom.ExImage();this._img.ON_LOAD_COMPLETE.add(this,this._onLoadComplete);this._img.load(c)};b._onLoadComplete=function(c){this._htmlImage=this._img.getImageElement();this._update()};b.setSize=function(c,d){this._width=c;this._height=d;this._update()};b._update=function(){if(!this._htmlImage){return}this.graphics.clear();this.graphics.beginBitmapFill(this._htmlImage,"repeat");this.graphics.drawRect(0,0,this._width,this._height);this.graphics.endFill()};pinetreecom.TileRectImage=a}());(function(){var a=function(){pinetreecom.ListBase.call(this);this.useRealPosition=true;this.needResize=false;this.useRealStagePos=true;this.showAllWhileDevice=true;this.startX=0;this.startY=0;this.onlyFullShown=true;this._gapX=24;this._startMousePos=0;this.maxShownCount=0;this._filterKey="";this._isFilteredItems=[];this._fullShownItems=[];this._isShownItems=[];this._unShownItems=[];__defineGetterSetter(this,["gapX","isFilteredItems","fullShownItems","isShownItems","unShownItems","itemContainer"])};var b=__extends(a,pinetreecom.ListBase);a.PREV_TYPE="prev";a.NEXT_TYPE="next";b.setUpWith=function(n,m,d,h,e,o,k,j,p,r,c){pinetreecom.ListBase.prototype.setUpWith.call(this,n,m,d,h,e,o,k,j,p,r,c);if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){this._shownCount=Math.ceil((this._showHeight+this._itemGapY)/(this._itemHeight+this._itemGapY))*this._rowColumn}else{this._shownCount=Math.ceil((this._showWidth+this._itemGapX)/(this._itemWidth+this._itemGapX))*this._rowColumn}if(this._shownCount>this._dataCount){this._shownCount=this._dataCount}var l=this._data.length,q;for(var g=0;g<l;g++){q=new n();if(!(q instanceof pinetreecom.ListItemBase)){trace("Error at ListBase::setUpWidth(), itemClass is not instance of ListItemBase!");return}q.index=g;q.originParent=this._itemContainer;q.setUpWith(this._itemWidth,this._itemHeight,j[g]);if(q.thumbnail){this._loadCount++;this._loaders.push(q);if(!this.loadOneByOne){q.load()}else{q.thumbnail.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);q.thumbnail.ON_IO_ERROR.add(this,this.onLoadError)}}q.addEventListener(pinetree.MouseEvent.CLICK,this.onClickItem,this);q.addEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOver,this);q.addEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);pinetreecom.AlignUtil.align(q,this._alignDirection,this._itemWidth||j[g].thumbWidth||q.width,this._itemHeight||j[g].thumbHeight||q.height,this._itemGapX,this._itemGapY,g,k);q.x=q.originX;q.y=q.originY;this._items.push(q)}if(this.loadOneByOne){this.onLoadNext()}if(this._filterKey){this.updateFilterKey(this._filterKey)}};b.refresh=function(){this._currentPos=0;TweenMax.killTweensOf(this._itemContainer);if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){this._itemContainer.y=this._currentPos}else{this._itemContainer.x=this._currentPos}};b.updateCurrentPos=function(c){this._currentPos=c};b.getGapX=function(){return this._gapX};b.getItemContainer=function(){return this._itemContainer};b.onLoadComplete=function(c){this.render();if(this._loadedIndex>=this._fullShownItems.length-1&&!this._firstCompleted){this.ON_LOAD_FIRST_PAGE_COMPLETE.dispatch();this._firstCompleted=true}this._loadedIndex++;this.onLoadNext()};b.getContentWidth=function(){var c=this._items&&this._items[0]?this._items[0].width:this._itemWidth;var d,e=this._dataCount-this._isFilteredItems.length;if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){d=this._rowColumn}else{d=Math.ceil(e/this._rowColumn)}return d*(c+this._itemGapX)-this._itemGapX};b.getContentHeight=function(){var d=this._dataCount-this._isFilteredItems.length;if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){return Math.ceil(d/this._rowColumn)*(this._itemHeight+this._itemGapY)-this._itemGapY}var c=d<this._rowColumn?d:this._rowColumn;return c*(this._itemHeight+this._itemGapY)-this._itemGapY};b.getIsFilteredItems=function(){return this._isFilteredItems};b.getFullShownItems=function(){return this._fullShownItems};b.getIsShownItems=function(){return this._isShownItems};b.getUnShownItems=function(){return this._unShownItems};b.prev=function(){if(!this.hasPreviousContent){return}if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){this._currentPos+=(this._itemHeight+this._itemGapY);if(this._currentPos>0){this._currentPos=0}TweenMax.to(this._itemContainer,this.tweenTime,{y:this._currentPos,ease:this.transition})}else{this._currentPos+=(this._itemWidth+this._itemGapX);if(this._currentPos>0){this._currentPos=0}TweenMax.to(this._itemContainer,this.tweenTime,{x:this._currentPos,ease:this.transition})}this.ON_NEED_RESIZE.dispatch()};b.next=function(){if(!this.hasNextContent){return}if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){this._currentPos-=(this._itemHeight+this._itemGapY);TweenMax.to(this._itemContainer,this.tweenTime,{y:this._currentPos,ease:this.transition})}else{this._currentPos-=(this._itemWidth+this._itemGapX);TweenMax.to(this._itemContainer,this.tweenTime,{x:this._currentPos,ease:this.transition})}this.ON_NEED_RESIZE.dispatch()};b.updateFilterKey=function(g){this._filterKey=g;if(!this._items){return}var d=this._items.length;var e=0,h,c=[];for(e=0;e<d;e++){h=this._items[e];if(h){h.updateFilterKey(g);if(!h.isFiltered){c.push(h)}}}d=c.length;for(e=0;e<d;e++){h=c[e];pinetreecom.AlignUtil.align(h,this._alignDirection,this._itemWidth||this._data[h.index].thumbWidth||h.width,this._itemHeight||this._data[h.index].thumbHeight||h.height,this._itemGapX,this._itemGapY,e,this._rowColumn)}this.render()};b.render=function(){if(!this.isSetupInited){return}this._isFilteredItems.splice(0,this._isFilteredItems.length);this._fullShownItems.splice(0,this._fullShownItems.length);this._isShownItems.splice(0,this._isShownItems.length);this._unShownItems.splice(0,this._unShownItems.length);var m,j,e,c,l,g,d;if(!this.useRealPosition){if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){if(this.useRealStagePos){g=pinetreecom.CommonUtil.getStageX(this,0);d=pinetreecom.CommonUtil.getStageY(this,this._currentPos)}else{g=0;d=this._currentPos}}else{if(this.useRealStagePos){g=pinetreecom.CommonUtil.getStageX(this,this._currentPos);d=pinetreecom.CommonUtil.getStageY(this,0)}else{g=this._currentPos;d=0}}}for(var k=0;k<this._dataCount;k++){m=this._items[k];if(m){if(m.getIsFiltered()){this._isFilteredItems.push(m);m.updateFilterState(true);continue}else{m.updateFilterState(false)}if(pinetree.isDevice&&this.showAllWhileDevice){this._isShownItems.push(m);this._fullShownItems.push(m);m.updateState(true,true);if(this._isAnimationIn){m.enable=true;m.setState(true,true)}continue}if(this.useRealPosition){j=m.stageX;e=m.stageY}else{j=g+m.originX;e=d+m.originY}c=this._itemWidth||m.width;l=this._itemHeight||m.height;if((j>=this.startX-c&&j<this.startX+this._showWidth)&&(e>=this.startY-l&&e<this.startY+this._showHeight)){if(this.maxShownCount>0&&this._isShownItems.length==this.maxShownCount){this._unShownItems.push(m);m.updateState(false,false);if(this._isAnimationIn){m.enable=false;m.setState(false,false)}continue}this._isShownItems.push(m);if((j>=this.startX&&j+c<=this.startX+this._showWidth)&&(e>=this.startY&&e+l<=this.startY+this._showHeight)){this._fullShownItems.push(m);m.updateState(true,true);if(this._isAnimationIn){m.enable=true;m.setState(true,true)}}else{m.updateState(true,false);if(this._isAnimationIn){m.enable=false;m.setState(true,false)}}}else{this._unShownItems.push(m);m.updateState(false,false);if(this._isAnimationIn){m.enable=false;m.setState(false,false)}}}}};b.resize=function(d,g){pinetreecom.ListBase.prototype.resize.call(this,d,g);if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){this._shownCount=Math.ceil((this._showHeight+this._itemGapY)/(this._itemHeight+this._itemGapY))*this._rowColumn}else{this._shownCount=Math.ceil((this._showWidth+this._itemGapX)/(this._itemWidth+this._itemGapX))*this._rowColumn}if(this._shownCount>this._dataCount){this._shownCount=this._dataCount}this.render();if(this.needResize){var c=this._items.length,j;for(var e=0;e<c;e++){j=this._items[e];if(j){j.resize(d,g)}}}};b.animationIn=function(k,c,h,l){this.render();pinetreecom.ListBase.prototype.animationIn.call(this,k,c,h,l);if(k==undefined){k=pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM}if(c==undefined||isNaN(c)){c=this.animateTime}var n=this._isShownItems;var g=this._fullShownItems;this._tweenIndex=0;this._tweenCount=this.onlyFullShown?g.length:n.length;var j=this.onlyFullShown?g:n;var m,d,e=0;if(k==pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM){for(d=0;d<this._dataCount;d++){m=this._items[d];if(pinetreecom.ArrayUtil.contains(j,m)){m.animationIn(c,this.animateDelay*e,h||this.transition,Delegate.create(this,this.onAnimationInComplete,l));e++}else{m.animationIn(0,0,h||this.transition,null)}}}else{for(d=this._dataCount-1;d>=0;d--){m=this._items[d];if(pinetreecom.ArrayUtil.contains(j,m)){m.animationIn(c,this.animateDelay*e,h||this.transition,Delegate.create(this,this.onAnimationInComplete,l));e++}else{m.animationIn(0,0,h||this.transition,null)}}}};b.animationOut=function(k,c,h,l){this.render();pinetreecom.ListBase.prototype.animationOut.call(this,k,c,h,l);if(k==undefined){k=pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM}if(c==undefined||isNaN(c)){c=this.animateTime}var n=this._isShownItems;var g=this._fullShownItems;this._tweenIndex=0;this._tweenCount=this.onlyFullShown?g.length:n.length;var j=this.onlyFullShown?g:n;var m,d,e=0;if(k==pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM){for(d=0;d<this._dataCount;d++){m=this._items[d];if(pinetreecom.ArrayUtil.contains(j,m)){m.animationOut(c,this.animateDelay*e,h||this.transition,Delegate.create(this,this.onAnimationOutComplete,l));e++}else{m.animationOut(0,0,h||this.transition,null)}}}else{for(d=this._dataCount-1;d>=0;d--){m=this._items[d];if(pinetreecom.ArrayUtil.contains(j,m)){m.animationOut(c,this.animateDelay*e,h||this.transition,Delegate.create(this,this.onAnimationOutComplete,l));e++}else{m.animationOut(0,0,h||this.transition,null)}}}};b.dispose=function(){this._isFilteredItems.splice(0,this._isFilteredItems.length);this._fullShownItems.splice(0,this._fullShownItems.length);this._isShownItems.splice(0,this._isShownItems.length);this._unShownItems.splice(0,this._unShownItems.length);pinetreecom.ListBase.prototype.dispose.call(this)};pinetreecom.ListContainer=a}());(function(){var a=function(){pinetreecom.ListBase.call(this);this.useRealPosition=true;this.startX=0;this.startY=0;this._fullShownItems=[];this._isShownItems=[];this._unShownItems=[];this._contentWidth=0;this._contentHeight=0;this.rowCount=1;this._clipContent=false;__defineGetterSetter(this,["gapX","fullShownItems","isShownItems","unShownItems"])};var b=__extends(a,pinetreecom.ListBase);b.setUpWith=function(n,m,d,h,e,o,k,j,p,r,c){pinetreecom.ListBase.prototype.setUpWith.call(this,n,m,d,h,e,o,k,j,p,r,c);var l=this._data.length,q;for(var g=0;g<l;g++){q=new n();if(!(q instanceof pinetreecom.ListItemBase)){trace("Error at HMixListContainer::setUpWidth(), item is not instance of ListItemBase!");return}q.index=g;q.originParent=this._itemContainer;q.setUpWith(this._itemWidth,this._itemHeight,j[g]);if(q.thumbnail){this._loadCount++;this._loaders.push(q);if(!this.loadOneByOne){q.load()}else{q.thumbnail.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);q.thumbnail.ON_IO_ERROR.add(this,this.onLoadError)}}q.addEventListener(pinetree.MouseEvent.CLICK,this.onClickItem,this);q.addEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOver,this);q.addEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this._items.push(q)}if(this.loadOneByOne){this.onLoadNext()}if(this._filterKey){this.updateFilterKey(this._filterKey)}};b.getFirstPageLoadCount=function(){var c=this._isShownItems.length;var d=0;while(c--){if(this._isShownItems[c].thumbnail){d++}}return d};b.getFullShownItems=function(){return this._fullShownItems};b.getIsShownItems=function(){return this._isShownItems};b.getUnShownItems=function(){return this._unShownItems};b.getContentWidth=function(){return this._contentWidth};b.getContentHeight=function(){return this._contentHeight};b.updateSizeAndAlign=function(){var g;var e=[],h=0,c=0;for(var d=0;d<this.rowCount;d++){e[d]=0}for(d=0;d<this._dataCount;d++){g=this._items[d];if(g){TweenMax.killTweensOf(g,false,{x:true,y:true});c=Math.min.apply(null,e);h=e.indexOf(c);g.originX=g.x=c+this._itemGapX;g.originY=g.y=h*(this._itemGapY+this._itemHeight)+this._itemGapY;e[h]=g.x+g.originWidth}}this._contentWidth=Math.max.apply(null,e)+this._itemGapX;this._contentHeight=(g.originHeight+this._itemGapY)*this.rowCount+this._itemGapY;this.height=this._contentHeight};b.render=function(){this._fullShownItems.splice(0,this._fullShownItems.length);this._isShownItems.splice(0,this._isShownItems.length);this._unShownItems.splice(0,this._unShownItems.length);var m,j,e,c,l,g,d;if(!this.useRealPosition){g=pinetreecom.CommonUtil.getStageX(this,this._currentPos);d=pinetreecom.CommonUtil.getStageY(this,0)}for(var k=0;k<this._dataCount;k++){m=this._items[k];if(m){if(pinetree.isDevice){this._isShownItems.push(m);this._fullShownItems.push(m);m.updateState(true,true);if(this._isAnimationIn){m.enable=true;m.setState(true,true)}continue}if(this.useRealPosition){j=m.stageX;e=m.stageY}else{j=g+m.originX;e=d+m.originY}c=m.currentWidth;l=m.currentHeight;if((j>=this.startX-c&&j<this.startX+this._showWidth)&&(e>=this.startY-l&&e<this.startY+this._showHeight)){this._isShownItems.push(m);if((j>=this.startX&&j+c<=this.startX+this._showWidth)&&(e>=this.startY&&e+l<=this.startY+this._showHeight)){this._fullShownItems.push(m);m.updateState(true,true);if(this._isAnimationIn){m.enable=true;m.setState(true,true)}}else{m.updateState(true,false);if(this._isAnimationIn){m.enable=false;m.setState(true,false)}}}else{this._unShownItems.push(m);m.updateState(false,false);if(this._isAnimationIn){m.enable=false;m.setState(false,false)}}}}};b.resize=function(c,d){pinetreecom.ListBase.prototype.resize.call(this,c,d);this.updateSizeAndAlign();this.render()};b.animationIn=function(j,h,k,l){this.resize(this._showWidth,this._showHeight);pinetreecom.ListBase.prototype.animationIn.call(this,j,h,k,l);if(j==undefined){j=pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM}if(h==undefined||isNaN(h)){h=this.animateTime}var g=this._isShownItems;this._tweenIndex=0;this._tweenCount=g.length;var e,d,c=0;if(j==pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM){for(d=0;d<this._dataCount;d++){e=this._items[d];if(pinetreecom.ArrayUtil.contains(g,e)){e.animationIn(h,this.animateDelay*c,k||this.transition,Delegate.create(this,this.onAnimationInComplete,l));c++}else{e.animationIn(0,0,k||this.transition,null)}}}else{for(d=this._dataCount-1;d>=0;d--){e=this._items[d];if(pinetreecom.ArrayUtil.contains(g,e)){e.animationIn(h,this.animateDelay*c,k||this.transition,Delegate.create(this,this.onAnimationInComplete,l));c++}else{e.animationIn(0,0,k||this.transition,null)}}}};b.animationOut=function(j,h,k,l){this.render();pinetreecom.ListBase.prototype.animationOut.call(this,j,h,k,l);if(j==undefined){j=pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM}if(h==undefined||isNaN(h)){h=this.animateTime}var g=this._isShownItems;this._tweenIndex=0;this._tweenCount=g.length;var e,d,c=0;if(j==pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM){for(d=0;d<this._dataCount;d++){e=this._items[d];if(pinetreecom.ArrayUtil.contains(g,e)){e.animationOut(h,this.animateDelay*c,k||this.transition,Delegate.create(this,this.onAnimationOutComplete,l));c++}else{e.animationOut(0,0,k||this.transition,null)}}}else{for(d=this._dataCount-1;d>=0;d--){e=this._items[d];if(pinetreecom.ArrayUtil.contains(g,e)){e.animationOut(h,this.animateDelay*c,k||this.transition,Delegate.create(this,this.onAnimationOutComplete,l));c++}else{e.animationOut(0,0,k||this.transition,null)}}}};b.dispose=function(){this._fullShownItems.splice(0,this._fullShownItems.length);this._isShownItems.splice(0,this._isShownItems.length);this._unShownItems.splice(0,this._unShownItems.length);this._fullShownItems=null;this._isShownItems=null;this._unShownItems=null;pinetreecom.ListBase.prototype.dispose.call(this)};pinetreecom.HMixListContainer=a}());(function(){var a=function(){pinetreecom.ListBase.call(this);this.useRealPosition=true;this.isStable=false;this.minItemWidth=-1;this.startX=0;this.startY=0;this._currentItemWidth=0;this._columns=[];this._fullShownItems=[];this._isShownItems=[];this._unShownItems=[];this._contentHeight=0;this._clipContent=false;__defineGetterSetter(this,["gapX","fullShownItems","isShownItems","unShownItems"])};var b=__extends(a,pinetreecom.ListBase);b.setUpWith=function(n,m,d,h,e,o,k,j,p,r,c){pinetreecom.ListBase.prototype.setUpWith.call(this,n,m,d,h,e,o,k,j,p,r,c);var l=this._data.length,q;for(var g=0;g<l;g++){q=new n();if(!(q instanceof pinetreecom.ListItemBase)){trace("Error at VMixVFitListContainer::setUpWidth(), item is not instance of ListItemBase!");return}q.index=g;q.originParent=this._itemContainer;q.setUpWith(this._itemWidth,this._itemHeight,j[g]);if(q.thumbnail){this._loadCount++;this._loaders.push(q);if(!this.loadOneByOne){q.load()}else{q.thumbnail.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);q.thumbnail.ON_IO_ERROR.add(this,this.onLoadError)}}q.addEventListener(pinetree.MouseEvent.CLICK,this.onClickItem,this);q.addEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOver,this);q.addEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this._items.push(q)}if(this.loadOneByOne){this.onLoadNext()}if(this._filterKey){this.updateFilterKey(this._filterKey)}this._currentItemWidth=m};b.getFirstPageLoadCount=function(){var c=this._isShownItems.length;var d=0;while(c--){if(this._isShownItems[c].thumbnail){d++}}return d};b.getFullShownItems=function(){return this._fullShownItems};b.getIsShownItems=function(){return this._isShownItems};b.getUnShownItems=function(){return this._unShownItems};b.getContentHeight=function(){return this._contentHeight};b.updateItemsSize=function(){var g,c=this._currentItemWidth,e;for(var d=0;d<this._dataCount;d++){g=this._items[d];if(g&&this._currentItemWidth>0){e=Math.floor(c/g.originWidth*g.originHeight);g.resetSize(c,e)}}};b.align=function(){var k,d,h,g,c=this._columns.length;for(d=0;d<c;d++){this._columns[d].splice(0,this._columns[d].length)}var e=0;for(d=0;d<this._dataCount;d++){k=this._items[d];if(k){TweenMax.killTweensOf(k,false,{x:true,y:true});e=d%this._rowColumn;k.x=k.originX=(this._currentItemWidth+this._itemGapX)*e+this._itemGapX;h=d-this._rowColumn;if(h>=0){g=this._items[h];if(g){k.y=k.originY=g.y+g.currentHeight+this._itemGapY}}else{k.y=k.originY=this._itemGapY}if(!this._columns[e]){this._columns[e]=[]}this._columns[e].push(k)}}pinetreecom.AlignUtil.alignVMixVerticalFit(this._items,this._columns,this._rowColumn,this._itemGapX,this._itemGapY,this._currentItemWidth);var j=0;for(d=0;d<this._dataCount;d++){k=this._items[d];if(k&&k.originY+k.currentHeight>j){j=k.originY+k.currentHeight}}this._contentHeight=j+this._itemGapY;this.height=this._contentHeight};b.render=function(){this._fullShownItems.splice(0,this._fullShownItems.length);this._isShownItems.splice(0,this._isShownItems.length);this._unShownItems.splice(0,this._unShownItems.length);var m,j,e,c=this._currentItemWidth,l,g,d;if(!this.useRealPosition){if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){g=pinetreecom.CommonUtil.getStageX(this,0);d=pinetreecom.CommonUtil.getStageY(this,this._currentPos)}else{g=pinetreecom.CommonUtil.getStageX(this,this._currentPos);d=pinetreecom.CommonUtil.getStageY(this,0)}}for(var k=0;k<this._dataCount;k++){m=this._items[k];if(m){if(pinetree.isDevice){this._isShownItems.push(m);this._fullShownItems.push(m);m.updateState(true,true);if(this._isAnimationIn){m.enable=true;m.setState(true,true)}continue}if(this._currentItemWidth<=0){continue}if(this.useRealPosition){j=m.stageX;e=m.stageY}else{j=g+m.originX;e=d+m.originY}l=m.currentHeight;if((j>=this.startX-c&&j<this.startX+this._showWidth)&&(e>=this.startY-l&&e<this.startY+this._showHeight)){this._isShownItems.push(m);if((j>=this.startX&&j+c<=this.startX+this._showWidth)&&(e>=this.startY&&e+l<=this.startY+this._showHeight)){this._fullShownItems.push(m);m.updateState(true,true);if(this._isAnimationIn){m.enable=true;m.setState(true,true)}}else{m.updateState(true,false);if(this._isAnimationIn){m.enable=false;m.setState(true,false)}}}else{this._unShownItems.push(m);m.updateState(false,false);if(this._isAnimationIn){m.enable=false;m.setState(false,false)}}}}};b.resize=function(c,d){pinetreecom.ListBase.prototype.resize.call(this,c,d);if(!this.isStable){if(pinetree.isDevice){this._rowColumn=Math.round((c-this._itemGapX)/(this._itemWidth+this._itemGapX))}else{this._rowColumn=Math.ceil((c-this._itemGapX)/(this._itemWidth+this._itemGapX))}this._currentItemWidth=Math.ceil((c-this._itemGapX)/this._rowColumn)-this._itemGapX;if(this.minItemWidth>0&&this._currentItemWidth<this.minItemWidth){this._rowColumn-=1;this._currentItemWidth=Math.ceil((c-this._itemGapX)/this._rowColumn)-this._itemGapX}this.updateItemsSize()}else{this._rowColumn=Math.floor((c-this._itemGapX)/(this._itemWidth+this._itemGapX))}this.align();this.render();if(this._itemContainer){this._itemContainer.width=this._showWidth;this._itemContainer.height=this._contentHeight}};b.animationIn=function(j,h,k,l){this.resize(this._showWidth,this._showHeight);pinetreecom.ListBase.prototype.animationIn.call(this,j,h,k,l);if(j==undefined){j=pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM}if(h==undefined||isNaN(h)){h=this.animateTime}var g=this._isShownItems;this._tweenIndex=0;this._tweenCount=g.length;var e,d,c=0;if(j==pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM){for(d=0;d<this._dataCount;d++){e=this._items[d];if(pinetreecom.ArrayUtil.contains(g,e)){e.animationIn(h,this.animateDelay*c,k||this.transition,Delegate.create(this,this.onAnimationInComplete,l));c++}else{e.animationIn(0,0,k||this.transition,null)}}}else{for(d=this._dataCount-1;d>=0;d--){e=this._items[d];if(pinetreecom.ArrayUtil.contains(g,e)){e.animationIn(h,this.animateDelay*c,k||this.transition,Delegate.create(this,this.onAnimationInComplete,l));c++}else{e.animationIn(0,0,k||this.transition,null)}}}};b.animationOut=function(j,h,k,l){this.render();pinetreecom.ListBase.prototype.animationOut.call(this,j,h,k,l);if(j==undefined){j=pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM}if(h==undefined||isNaN(h)){h=this.animateTime}var g=this._isShownItems;this._tweenIndex=0;this._tweenCount=g.length;var e,d,c=0;if(j==pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM){for(d=0;d<this._dataCount;d++){e=this._items[d];if(pinetreecom.ArrayUtil.contains(g,e)){e.animationOut(h,this.animateDelay*c,k||this.transition,Delegate.create(this,this.onAnimationOutComplete,l));c++}else{e.animationOut(0,0,k||this.transition,null)}}}else{for(d=this._dataCount-1;d>=0;d--){e=this._items[d];if(pinetreecom.ArrayUtil.contains(g,e)){e.animationOut(h,this.animateDelay*c,k||this.transition,Delegate.create(this,this.onAnimationOutComplete,l));c++}else{e.animationOut(0,0,k||this.transition,null)}}}};b.dispose=function(){this._fullShownItems.splice(0,this._fullShownItems.length);this._isShownItems.splice(0,this._isShownItems.length);this._unShownItems.splice(0,this._unShownItems.length);this._fullShownItems=null;this._isShownItems=null;this._unShownItems=null;var d,c=this._columns.length;for(d=0;d<c;d++){this._columns[d].splice(0,this._columns[d].length)}this._columns.splice(0,this._columns.length);this._columns=null;pinetreecom.ListBase.prototype.dispose.call(this)};pinetreecom.VMixVFitListContainer=a}());(function(){var a=function(){pinetreecom.ListBase.call(this);this.useRealPosition=true;this.minItemWidth=-1;this.startX=0;this.startY=0;this._fullShownItems=[];this._isShownItems=[];this._unShownItems=[];this._contentHeight=0;this._clipContent=false;__defineGetterSetter(this,["gapX","fullShownItems","isShownItems","unShownItems"])};var b=__extends(a,pinetreecom.ListBase);b.setUpWith=function(n,m,d,h,e,o,k,j,p,r,c){pinetreecom.ListBase.prototype.setUpWith.call(this,n,m,d,h,e,o,k,j,p,r,c);var l=this._data.length,q;for(var g=0;g<l;g++){q=new n();if(!(q instanceof pinetreecom.ListItemBase)){trace("Error at VMixHFitListContainer::setUpWidth(), item is not instance of ListItemBase!");return}q.index=g;q.originParent=this._itemContainer;q.setUpWith(this._itemWidth,this._itemHeight,j[g]);if(q.thumbnail){this._loadCount++;this._loaders.push(q);if(!this.loadOneByOne){q.load()}else{q.thumbnail.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);q.thumbnail.ON_IO_ERROR.add(this,this.onLoadError)}}q.addEventListener(pinetree.MouseEvent.CLICK,this.onClickItem,this);q.addEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOver,this);q.addEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this._items.push(q)}if(this.loadOneByOne){this.onLoadNext()}if(this._filterKey){this.updateFilterKey(this._filterKey)}};b.getFirstPageLoadCount=function(){var c=this._isShownItems.length;var d=0;while(c--){if(this._isShownItems[c].thumbnail){d++}}return d};b.getFullShownItems=function(){return this._fullShownItems};b.getIsShownItems=function(){return this._isShownItems};b.getUnShownItems=function(){return this._unShownItems};b.getContentHeight=function(){return this._contentHeight};b.updateSizeAndAlign=function(){var s,n,m,l,o,q=[];var r=0,g,k=0,d=0,h=this._itemGapX,c=0,e=0;for(m=0;m<this._dataCount;m++){s=this._items[m];if(s){TweenMax.killTweensOf(s,false,{x:true,y:true});q.push(s);g=s.originWidth;h+=g+this._itemGapX;if(h>this._showWidth){e=this._showWidth/h;c=Math.ceil(e*this._itemHeight);o=q.length;for(l=0;l<o;l++){n=q[l];n.x=n.originX=k+this._itemGapX;n.y=n.originY=d+this._itemGapY;if(l==o-1){r=this._showWidth-k-this._itemGapX*2}else{r=Math.ceil(n.originWidth*e);k+=r+this._itemGapX}n.resetSize(r,c)}k=0;d+=c+this._itemGapY;q.splice(0,q.length);h=this._itemGapX}if(m==this._dataCount-1){if(q.length>0){c=c||this._itemHeight;o=q.length;for(l=0;l<o;l++){s=q[l];s.x=s.originX=k+this._itemGapX;s.y=s.originY=d+this._itemGapY;r=Math.ceil(s.originWidth*(c/this._itemHeight));k+=r+this._itemGapX;s.resetSize(r,c)}d+=c+this._itemGapY}}}}this._contentHeight=d+this._itemGapY;this.height=this._contentHeight};b.render=function(){this._fullShownItems.splice(0,this._fullShownItems.length);this._isShownItems.splice(0,this._isShownItems.length);this._unShownItems.splice(0,this._unShownItems.length);var m,j,e,c,l,g,d;if(!this.useRealPosition){if(this._alignDirection==pinetreecom.AlignUtil.ALIGN_VERTICAL){g=pinetreecom.CommonUtil.getStageX(this,0);d=pinetreecom.CommonUtil.getStageY(this,this._currentPos)}else{g=pinetreecom.CommonUtil.getStageX(this,this._currentPos);d=pinetreecom.CommonUtil.getStageY(this,0)}}for(var k=0;k<this._dataCount;k++){m=this._items[k];if(m){if(pinetree.isDevice){this._isShownItems.push(m);this._fullShownItems.push(m);m.updateState(true,true);if(this._isAnimationIn){m.enable=true;m.setState(true,true)}continue}if(this.useRealPosition){j=m.stageX;e=m.stageY}else{j=g+m.originX;e=d+m.originY}c=m.currentWidth;l=m.currentHeight;if((j>=this.startX-c&&j<this.startX+this._showWidth)&&(e>=this.startY-l&&e<this.startY+this._showHeight)){this._isShownItems.push(m);if((j>=this.startX&&j+c<=this.startX+this._showWidth)&&(e>=this.startY&&e+l<=this.startY+this._showHeight)){this._fullShownItems.push(m);m.updateState(true,true);if(this._isAnimationIn){m.enable=true;m.setState(true,true)}}else{m.updateState(true,false);if(this._isAnimationIn){m.enable=false;m.setState(true,false)}}}else{this._unShownItems.push(m);m.updateState(false,false);if(this._isAnimationIn){m.enable=false;m.setState(false,false)}}}}};b.resize=function(c,d){pinetreecom.ListBase.prototype.resize.call(this,c,d);this.updateSizeAndAlign();this.render()};b.animationIn=function(j,h,k,l){this.resize(this._showWidth,this._showHeight);pinetreecom.ListBase.prototype.animationIn.call(this,j,h,k,l);if(j==undefined){j=pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM}if(h==undefined||isNaN(h)){h=this.animateTime}var g=this._isShownItems;this._tweenIndex=0;this._tweenCount=g.length;var e,d,c=0;if(j==pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM){for(d=0;d<this._dataCount;d++){e=this._items[d];if(pinetreecom.ArrayUtil.contains(g,e)){e.animationIn(h,this.animateDelay*c,k||this.transition,Delegate.create(this,this.onAnimationInComplete,l));c++}else{e.animationIn(0,0,k||this.transition,null)}}}else{for(d=this._dataCount-1;d>=0;d--){e=this._items[d];if(pinetreecom.ArrayUtil.contains(g,e)){e.animationIn(h,this.animateDelay*c,k||this.transition,Delegate.create(this,this.onAnimationInComplete,l));c++}else{e.animationIn(0,0,k||this.transition,null)}}}};b.animationOut=function(j,h,k,l){this.render();pinetreecom.ListBase.prototype.animationOut.call(this,j,h,k,l);if(j==undefined){j=pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM}if(h==undefined||isNaN(h)){h=this.animateTime}var g=this._isShownItems;this._tweenIndex=0;this._tweenCount=g.length;var e,d,c=0;if(j==pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM){for(d=0;d<this._dataCount;d++){e=this._items[d];if(pinetreecom.ArrayUtil.contains(g,e)){e.animationOut(h,this.animateDelay*c,k||this.transition,Delegate.create(this,this.onAnimationOutComplete,l));c++}else{e.animationOut(0,0,k||this.transition,null)}}}else{for(d=this._dataCount-1;d>=0;d--){e=this._items[d];if(pinetreecom.ArrayUtil.contains(g,e)){e.animationOut(h,this.animateDelay*c,k||this.transition,Delegate.create(this,this.onAnimationOutComplete,l));c++}else{e.animationOut(0,0,k||this.transition,null)}}}};b.dispose=function(){this._fullShownItems.splice(0,this._fullShownItems.length);this._isShownItems.splice(0,this._isShownItems.length);this._unShownItems.splice(0,this._unShownItems.length);this._fullShownItems=null;this._isShownItems=null;this._unShownItems=null;pinetreecom.ListBase.prototype.dispose.call(this)};pinetreecom.VMixHFitListContainer=a}());(function(){var b=function(c){this._isInitialized=false;this._loop=c==undefined?true:c;this._urls=null;this._currentSound=null;this._currentIndex=0;this._currentId="";this._soundIds=null;this._mute=false;this._volume=1;this._onPlayCompleteHandler=Delegate.create(this,this._onPlayComplete);__defineGetterSetter(this,["volume","mute","duration","position","isInitialized"])};var a=b.prototype;a.startWith=function(e){this._urls=e;var d,c=this._urls.length,g;this._soundIds=[];this._totalCount=c;for(d=0;d<c;d++){g="sound_"+d;this._soundIds.push(g)}createjs.Sound.alternateExtensions=["mp3","ogg"];createjs.Sound.addEventListener("fileload",Delegate.create(this,this._onSoundLoadInit));this._currentIndex=0;this._load(this._currentIndex);this._isInitialized=true};a._load=function(d){var c=this._urls[d];var e=this._soundIds[d];if(this._currentSound){this._currentSound.stop();this._currentSound.removeEventListener("complete",this._onPlayCompleteHandler);this._currentSound=null;if(this._currentId){createjs.Sound.removeSound(this._currentId)}}this._currentId=e;createjs.Sound.registerSound(c,e)};a._onSoundLoadInit=function(c){var d=this.getSrcByIndex(this._currentIndex);this._currentSound=createjs.Sound.createInstance(d);this._currentSound.addEventListener("complete",this._onPlayCompleteHandler);this._currentSound.play()};a._onPlayComplete=function(c){this._currentIndex++;if(this._currentIndex>this._totalCount-1){if(this._loop){this._currentIndex=0;this._load(this._currentIndex)}}else{this._load(this._currentIndex)}};a.play=function(){this._currentSound&&this._currentSound.play()};a.pause=function(){this._currentSound&&this._currentSound.pause()};a.resume=function(){this._currentSound&&this._currentSound.resume()};a.stop=function(){this._currentSound&&this._currentSound.stop()};a.getVolume=function(){return this._volume};a.setVolume=function(c){if(c<0){c=0}if(c>1){c=1}this._volume=c;createjs.Sound.setVolume(c)};a.getMute=function(){return this._mute};a.setMute=function(c){this._mute=c;createjs.Sound.setMute(c)};a.getDuration=function(){if(this._currentSound){return this._currentSound.getDuration()}return 0};a.getPosition=function(){if(this._currentSound){return this._currentSound.getPosition()}return 0};a.setPosition=function(c){if(this._currentSound){this._currentSound.setPosition(c)}};a.stopAll=function(){createjs.Sound.stop()};a.removeSound=function(c){createjs.removeSound(c)};a.removeAllSounds=function(){createjs.Sound.removeAllSounds()};a.getSrcByIndex=function(c){if(!this._soundIds||this._soundIds.length<1){return null}return this._soundIds[c]};a.getIsInitialized=function(){return this._isInitialized};a.dispose=function(){this.stopAll();f(this._currentSound);this._currentSound.removeEventListener("complete",this._onPlayCompleteHandler);this._currentSound=null;createjs.Sound.removeAllSounds()};pinetreecom.MusicPlayer=b}());(function(){var a=function(h,g,c,e,d){pinetree.Sprite.call(this);this._icons=null;this._loaderQueue=null;this._datas=null;this._maxWidth=c;this._contentWidth=0;this._contentHeight=0;this._gapX=__defaultSet(h,5);this._gapY=__defaultSet(g,5);this._row=1;this._onOverAlpha=__defaultSet(e,1);this._onOutAlpha=__defaultSet(d,1);this._loaderQueue=new pinetreecom.LoaderQueue();this._loaderQueue.ON_COMPLETE_ONE.add(this,this.onEachComplete);this._loaderQueue.ON_COMPLETE_ALL.add(this,this.onAllComplete);this.ON_LOAD_EACH_COMPLETE=new pinetree.Signal();this.ON_LOAD_ALL_COMPLETE=new pinetree.Signal();__defineGetterSetter(this,["data"])};var b=__extends(a,pinetree.Sprite);b.setData=function(h){this._datas=h;var e=h.length,d;var c=[];for(var g=0;g<e;g++){d=new pinetreecom.BitmapLoader();d.index=g;d.url=this._datas[g].src;c.push(d)}this.removeAllChildren();this._icons&&this._icons.splice(0,this._icons.length);this._icons=[];this._loaderQueue.reset();this._loaderQueue.addLoaders(c);this._loaderQueue.start()};b.onEachComplete=function(c){var e=c.bitmapData.clone();var d=new pinetreecom.SocialIcon(this._datas[c.index],e,this._onOverAlpha,this._onOutAlpha);d.ON_OVER.add(this,this.onOverIcon);d.ON_OUT.add(this,this.onOutIcon);d.x=this._contentWidth;d.y=this._contentHeight;this._contentWidth+=e.width+this._gapX;if(this._contentWidth>this._maxWidth){this._contentWidth=0;this._contentHeight+=e.height+this._gapY;this._row++}d.show();this.addChild(d);this._icons.push(d);this.ON_LOAD_EACH_COMPLETE.dispatch()};b.onAllComplete=function(c){this.ON_LOAD_ALL_COMPLETE.dispatch();this._loaderQueue.dispose();this._loaderQueue=null};b.onOverIcon=function(e){var c;for(var d in this._icons){c=this._icons[d];if(c&&c!=e){c.toBlackWhite(0.3)}}};b.onOutIcon=function(e){var c;for(var d in this._icons){c=this._icons[d];if(c&&c.isBlackWhite){c.toColorful(0.3)}}};b.dispose=function(){if(this._icons&&this._icons.length>0){var c;for(var d in this._icons){c=this._icons[d];c&&c.dispose()}this._icons.splice(0,this._icons.length);this._icons=null}this._loaderQueue&&this._loaderQueue.dispose();this._loaderQueue=null;this.ON_LOAD_EACH_COMPLETE&&this.ON_LOAD_EACH_COMPLETE.removeAll();this.ON_LOAD_EACH_COMPLETE=null;this.ON_LOAD_ALL_COMPLETE&&this.ON_LOAD_ALL_COMPLETE.removeAll();this.ON_LOAD_ALL_COMPLETE=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.SocialContainer=a}());(function(){var a=function(d,c,g,e){pinetreecom.UIComponent.call(this);this._data=d;this._bd=c;this._blackWhiteBD=null;this._bmp=null;this._blackWhiteBmp=null;this._container=null;this._isBlackWhite=true;this._onOverAlpha=__defaultSet(g,1);this._onOutAlpha=__defaultSet(e,1);this._tip=null;this.buttonMode=true;this.ON_OVER=new pinetree.Signal();this.ON_OUT=new pinetree.Signal();__defineGetterSetter(this,["isBlackWhite"])};var b=__extends(a,pinetreecom.UIComponent);b.addedToStage=function(){if(!this.isInitialized){this._container=new pinetree.Sprite();this._container.buttonMode=true;this.addChild(this._container);this._container.addEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOver,this);this._container.addEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this._container.addEventListener(pinetree.MouseEvent.CLICK,this.onClick,this);this._bmp=new pinetree.Bitmap(this._bd);this._bmp.alpha=this._onOverAlpha;this._container.addChild(this._bmp);this._blackWhiteBD=pinetreecom.CommonUtil.getGrayBitmapData(this._bd);this._blackWhiteBmp=new pinetree.Bitmap(this._blackWhiteBD);this._blackWhiteBmp.alpha=0;this._container.addChild(this._blackWhiteBmp);this.alpha=0;this._tip=new pinetreecom.ToolTip(pt.bgColor,12,pt.onOverColor,1,8,3,12);this.addChild(this._tip);this._tip.text=this._data.name;this._tip.x=(this._blackWhiteBD.width-this._tip.width)>>1;this._tip.y=-this._tip.contentHeight;this._tip.mouseEnabled=this._tip.mouseChildren=false}pinetreecom.UIComponent.prototype.addedToStage.call(this)};b.show=function(){TweenMax.to(this,this.tweenTime,{alpha:1,ease:Linear.easeNone})};b.onOver=function(c){this._tip&&this._tip.show();TweenMax.to(this._bmp,this.tweenTime,{alpha:this._onOverAlpha,ease:this.transition});this.ON_OVER.dispatch(this)};b.onOut=function(c){this._tip&&this._tip.hide();TweenMax.to(this._bmp,this.tweenTime,{alpha:this._onOutAlpha,ease:this.transition});this.ON_OUT.dispatch(this)};b.onClick=function(c){navigateToURL(this._data.link,this._data.window)};b.toBlackWhite=function(c,d,e){c=__defaultSet(c,0.5);d=__defaultSet(d,Quart.easeOut);TweenMax.to(this._blackWhiteBmp,c,{alpha:1,ease:d,onComplete:e});this._isBlackWhite=true};b.toColorful=function(c,d,e){c=__defaultSet(c,0.5);d=__defaultSet(d,Quart.easeOut);TweenMax.to(this._blackWhiteBmp,c,{alpha:0,ease:d,onComplete:e});this._isBlackWhite=false};b.getIsBlackWhite=function(){return this._isBlackWhite};b.dispose=function(){TweenMax.killTweensOf(this);if(this._tips){this._tips.dispose();this._tips=null}this._bd&&this._bd.dispose();this._bd=null;this._blackWhiteBD&&this._blackWhiteBD.dispose();this._blackWhiteBD=null;this.ON_OVER&&this.ON_OVER.removeAll();this.ON_OVER=null;this.ON_OUT&&this.ON_OUT.removeAll();this.ON_OUT=null;this._container.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOver,this);this._container.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this._container.removeEventListener(pinetree.MouseEvent.CLICK,this.onClick,this);pinetreecom.UIComponent.prototype.dispose.call(this)};pinetreecom.SocialIcon=a}());(function(){var b=function(d,c,e){pinetree.Sprite.call(this);this._onlyUpperCase=__defaultSet(e,false);this._txt=new pinetree.TextField();this._txt.fontSize=d;this._txt.textColor=c;this.addChild(this._txt);this._chars=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];this._texts=[];this._text="";this._textLength=0;this._contentHeight=0;this.startDelay=0;this.tweenTime=0.2;this.tweenDelay=0.03;this.ON_TWEEN_START=new pinetree.Signal();this.ON_TWEEN_COMPLETE=new pinetree.Signal();this.ON_TWEEN_UPDATE=new pinetree.Signal();__defineGetterSetter(this,["text","contentHeight"])};var a=__extends(b,pinetree.Sprite);a.setText=function(d){this._text=d;this._textLength=d.length;if(this._textLength<1||d==""||d==" "){this._txt.text="";this.ON_TWEEN_COMPLETE.dispatch(0);return}this._txt.alpha=0;this._txt.text=d;this.ON_TWEEN_START.dispatch(this._txt.width);this._contentHeight=this._txt.height;this._txt.text="";this._txt.alpha=1;this._texts.splice(0,this._texts.length);var c=0;TweenMax.killTweensOf(this);for(c;c<this._textLength;c++){TweenMax.to(this,this.tweenTime,{delay:c*this.tweenDelay+this.startDelay,ease:Linear.easeNone,onUpdate:this._onTweenUpdate,onUpdateParams:[this,c],onComplete:this._onTweenComplete,onCompleteParams:[this,c]})}};a.clear=function(){this._text="";this._txt.text=""};a.getContentHeight=function(){return this._contentHeight};a._onTweenUpdate=function(d,e){var g=d._getRandomChar();d._texts[e]=g;d._txt.text=d._makeString(d._texts);d.ON_TWEEN_UPDATE.dispatch(d._txt.width)};a._onTweenComplete=function(c,d){c._texts[d]=c._text.substr(d,1);c._txt.text=c._makeString(c._texts);if(d==this._textLength-1){c.ON_TWEEN_COMPLETE.dispatch(c._txt.width)}};a._getRandomChar=function(){var d=this._chars[Math.round(Math.random()*(this._chars.length-1))];if(!this._onlyUpperCase){if(Math.round(Math.random())==1){d=d.toLowerCase()}}return d};a._makeString=function(e){var c=0;var d="";while(c<e.length){d+=e[c++]}return d};a.dispose=function(){TweenMax.killTweensOf(this);this.ON_TWEEN_START&&this.ON_TWEEN_START.removeAll();this.ON_TWEEN_START=null;this.ON_TWEEN_COMPLETE&&this.ON_TWEEN_COMPLETE.removeAll();this.ON_TWEEN_COMPLETE=null;this.ON_TWEEN_UPDATE&&this.ON_TWEEN_UPDATE.removeAll();this.ON_TWEEN_UPDATE=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.AniText=b}());(function(){var b=function(){pinetreecom.Thumbnail.call(this)};var a=__extends(b,pinetreecom.Thumbnail);a.dispose=function(){pinetreecom.Thumbnail.prototype.dispose.call(this)};pinetreecom.MiniSlideshowImage=b}());(function(){var b=function(c){pinetreecom.UIComponent.call(this);this._buttonList=null;this._timer=null;this._images=null};var a=__extends(b,pinetreecom.UIComponent);a.addedToStage=function(){if(!this.isInitialized){this._buttonList=new pinetreecom.ButtonList(pinetreecom.MiniCircle,0);this.addChild(this._buttonList);this._buttonList.ON_CLICK.add(this,this.onClickButton);this._buttonList.gap=5;this._buttonList.onOverColor=pt.onOverColor;this._buttonList.onOutColor=pt.bgColor;this._buttonList.onOverAlpha=1;this._buttonList.onOutAlpha=0.8;this._buttonList.itemSize=pinetree.isDevice?buttonSize*2:buttonSize;this._buttonList.alignType=pinetreecom.ButtonList.ALIGN_HORIZONTAL}pinetreecom.UIComponent.prototype.addedToStage.call(this)};a.setData=function(c){this._buttonList.init();this._buttonList.show()};a.dispose=function(){pinetreecom.UIComponent.prototype.dispose.call(this)};pinetreecom.MiniSlideshow=b}());(function(){var b=function(d,e,c,g){this.bannerUI=__defaultSet(d,null);this.time=__defaultSet(e,1);this.delay=__defaultSet(c,0);this.transition=__defaultSet(g,Quart.easeOut)};var a=b.prototype;a.dispose=function(){this.bannerUI&&this.bannerUI.dispose();this.bannerUI=null};pinetreecom.AnimateSlideVo=b}());(function(){var a=function(){pinetree.Sprite.call(this);this._data=null;this.originX=0;this.originY=0;__defineGetterSetter(this,["data"])};var b=__extends(a,pinetree.Sprite);b.setData=function(c){this._data=c};b.run=function(e,d,h,c,i,g){e=__defaultSet(e,1);d=__defaultSet(d,0);h=__defaultSet(Quart.easeOut);pinetreecom.DelayCaller.delayCall(this,this.animationIn,d,[e,h,c,i,g])};b.back=function(e,d,h,c,i,g){e=__defaultSet(e,1);d=__defaultSet(d,0);h=__defaultSet(Quart.easeOut);pinetreecom.DelayCaller.delayCall(this,this.animationOut,d,[e,h,c,i,g])};b.animationIn=function(d,g,c,h,e){};b.onAnimationInComplete=function(c,e,d){if(e){e.apply(c,d)}};b.animationOut=function(d,g,c,h,e){};b.onAnimationOutComplete=function(c,e,d){if(e){e.apply(c,d)}};b.dispose=function(){pinetreecom.DelayCaller.removeByOwner(this);pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.AnimateSlideBase=a}());(function(){var a=function(){pinetree.Sprite.call(this);this.ON_ANIMATE_COMPLETE=new pinetree.Signal()};var b=__extends(a,pinetree.Sprite);b.run=function(g){if(!g||g.length<1){return}var c=g.length,d;for(var e=0;e<c;e++){d=g[e];if(d&&d.bannerUI){d.bannerUI.animationIn(d.time,d.delay,d.transition,this,this._onAnimateEachEnd,[e,c-1,"run"])}}};b.back=function(g){if(!g||g.length<1){return}var c=g.length,d;for(var e=c-1;e>=0;e--){d=g[e];if(d&&d.bannerUI){d.bannerUI.animationOut(d.time,d.delay,d.transition,this,this._onAnimateEachEnd,[e,0,"back"])}}};b._onAnimateEachEnd=function(e,d,c){if(e==d){this.ON_ANIMATE_COMPLETE.dispatch(c)}};b.dispose=function(){this.ON_ANIMATE_COMPLETE&&this.ON_ANIMATE_COMPLETE.removeAll();this.ON_ANIMATE_COMPLETE=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.AnimateSlider=a}());(function(){var a=function(g,i,h,d,k,j,c){pinetree.Sprite.call(this);this._container=new pinetree.Sprite();this._container.alpha=0;this.addChild(this._container);this._textColor=__defaultSet(g,pt.textColor);this._fontSize=__defaultSet(i,12);this._bgColor=__defaultSet(h,pt.bgColor);this._bgAlpha=__defaultSet(d,1);this._bg=new pinetree.CanvasQuad(3,3,3,3);this._bg.color=this._bgColor;this._bg.alpha=this._bgAlpha;this._container.addChild(this._bg);this._icon=new pinetree.TextureImage();this._container.addChild(this._icon);var e=pt.getCommonTexture(pinetreepages.EnumTextures.DOWN_TRIANGLE_ICON);this._icon.texture=e;pinetreecom.ColorUtil.setColor(this._icon,this._bgColor);this._icon.alpha=this._bgAlpha;this._gapX=__defaultSet(k,10);this._gapY=__defaultSet(j,5);this._tweenY=__defaultSet(c,5);this._text="";this._txt=null;this.contentHeight=0;this.tweenTime=1;this.transition=Quart.easeOut;this.selectable=false;__defineGetterSetter(this,["text"])};var b=__extends(a,pinetree.Sprite);b.setText=function(c){if(this._text==c){return}this._text=c;if(!this._txt){this._txt=new pinetree.TextField();this._txt.className+=" tool_tip";this._container.addChild(this._txt);this._txt.x=this._gapX;this._txt.y=this._gapY;this._txt.selectable=false}this._txt.text=this._text;this._bg.width=this._txt.width+this._gapX+this._gapX;this._bg.height=this._txt.height+this._gapY+this._gapY;this._icon.x=(this._bg.width-this._icon.width)>>1;this._icon.y=this._bg.height;this.contentHeight=this._icon.y+this._icon.height};b.show=function(){this._container.y=0;this._container.alpha=0;this._container.visible=true;TweenMax.to(this._container,this.tweenTime/3,{y:-this._tweenY,alpha:1,ease:this.transition})};b.hide=function(){TweenMax.to(this._container,this.tweenTime/3,{y:0,alpha:0,ease:this.transition,onComplete:this._onHideComplete,onCompleteParams:[this._container]})};b._onHideComplete=function(c){c.visible=false};b.dispose=function(){pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.ToolTip=a}());(function(){var b=function(g,c){pinetree.Sprite.call(this);this._items=[];this._colors=c;this.animatorCount=10;this._classes=g;this.maxAlpha=0.1;if(this._classes&&this._classes.length>0){var h,d,j=this._classes.length;for(var e=0;e<this.animatorCount;e++){d=this._classes[Math.floor(Math.random()*j)];h=new d(this._colors,this.maxAlpha);this.addChild(h);this._items.push(h)}}this._isShowing=false;this.alpha=0;this.tweenTime=1;this.transition=Linear.easeNone};var a=__extends(b,pinetree.Sprite);a.show=function(c){if(this._isShowing){return}this._isShowing=true;c=__defaultSet(c,2);this.alpha=0;pinetreecom.DelayCaller.delayCall(this,this._onStartShow,c)};a._onStartShow=function(){TweenMax.to(this,this.tweenTime,{alpha:1,ease:this.transition});this.addEventListener(pinetree.Event.ENTER_FRAME,this._onEnterFrame)};a.hide=function(){pinetreecom.DelayCaller.removeByOwner(this);if(!this._isShowing){this.removeEventListener(pinetree.Event.ENTER_FRAME,this._onEnterFrame);return}this.removeEventListener(pinetree.Event.ENTER_FRAME,this._onEnterFrame);this._isShowing=false;TweenMax.to(this,this.tweenTime,{alpha:0,ease:this.transition,onComplete:this._onHideComplete,onCompleteParams:[this]})};a._onHideComplete=function(c){};a._onEnterFrame=function(c){var d=this._items.length;while(d--){this._items[d].update()}};a.dispose=function(){this.removeEventListener(pinetree.Event.ENTER_FRAME,this._onEnterFrame);var c=this._items.length;while(c--){this._items[c].dispose()}pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.ParticleAnimator=b}());(function(){var a=function(c,d){pinetree.Sprite.call(this);this._colors=c;this.maxAlpha=__defaultSet(d,1);this._SPEED_CONST=1;this._speedX=0;this._speedY=0;this._speedAdd=0;this._minX=0;this._maxX=0;this._minY=0;this._maxY=0;this._alphaAdd=0;this._isTweening=false;this._isWorking=false;this.tweenTime=1;this.transition=Linear.easeNone;this.alpha=0};var b=__extends(a,pinetree.Sprite);b.update=function(){if(!this.stage){return}if(!this._isWorking){this._isWorking=this._refresh();if(!this._isWorking){return}this.show()}if(this.x<this._minX||this.x>this._maxX||this.y<this._minY||this.y>this._maxY){this.hide();return}this.x+=this._speedX;this.y+=this._speedY;if(this._speedAdd!=0){this._speedX+=this._speedAdd;this._speedY+=this._speedAdd}if(this._alphaAdd!=0){if(this._alphaAdd<0&&this.alpha>0){this.alpha+=this._alphaAdd}else{if(this._alphaAdd>0&&this.alpha<this.maxAlpha){this.alpha+=this._alphaAdd}}}};b.draw=function(){};b._refresh=function(){var c=Math.random();if(c<0.33){this.draw();this._minX=-this.width-30;this._maxX=this.stage.stageWidth;this._minY=-this.height-30;this._maxY=this.stage.stageHeight;this._speedX=this._SPEED_CONST*Math.random()*(Math.random()>0.5?1:-1);this._speedY=this._SPEED_CONST*Math.random()*(Math.random()>0.5?1:-1);this.x=Math.floor(Math.random()*(this._maxX-this._minX)+this._minX);this.y=Math.floor(Math.random()*(this._maxY-this._minY)+this._minY);return true}return false};b.hide=function(){this._isWorking=false;this._alphaAdd=-0.01};b.show=function(){this._isWorking=true;this.alpha=0;this._alphaAdd=0.01};b.dispose=function(){pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.ParticleObjectBase=a}());(function(){var a=function(c,d){pinetreecom.ParticleObjectBase.call(this,c,d)};var b=__extends(a,pinetreecom.ParticleObjectBase);b.draw=function(){var d=0;if(this._colors&&this._colors.length>0){d=this._colors[Math.floor(Math.random()*this._colors.length)]}else{d=Math.floor(Math.random()*16777215)}this.graphics.clear();this.graphics.lineStyle(0,0,0);var c=Math.ceil(20+30*Math.random());this.graphics.beginFill(d,1);this.graphics.drawCircle(c,c,c);this.graphics.endFill()};b.dispose=function(){pinetreecom.ParticleObjectBase.prototype.dispose.call(this)};pinetreecom.ParticleCircle=a}());(function(){var b=function(c,d){pinetree.Sprite.call(this);this._column=c;this._row=d;this._tweenIndex=0;this._tweenTotal=this._row*this._column;this._canvases=[];this._contentWidth=0;this._contentHeight=0;this.ON_TWEEN_IN_COMPLETE=new pinetree.Signal();this.ON_TWEEN_OUT_COMPLETE=new pinetree.Signal();this._container=document.createElement("container");this._container.style.position="absolute";this._htmlElement.appendChild(this._container);this.tweenTime=1;this.tweenDelay=0.5;this.transition=Quart.easeOut;__defineGetterSetter(this,["contentWidth","contentHeight"])};var a=__extends(b,pinetree.Sprite);a.initWith=function(k,h,l){this._canvases.splice(0,this._canvases.length);this.removeAllElementNodes(this._container);var d=k.naturalWidth*h;var g=k.naturalHeight*h;this._contentWidth=Math.floor(d);this._contentHeight=Math.floor(g);var p=pinetree.BitmapUtil.getImageData(k,new pinetree.Rectangle(0,0,d,g),false);var e,q,o,n;var m=Math.ceil(d/this._column);var c=Math.ceil(g/this._row);for(o=0;o<this._column;o++){for(n=0;n<this._row;n++){e=document.createElement("canvas");e.style.position="absolute";e.width=d;e.height=g;this._container.appendChild(e);e.style.opacity=l||0;q=e.getContext("2d");q.putImageData(p,0,0,m*o,c*n,m,c);this._canvases.push(e)}}};a.tweenIn=function(e){var c;this._tweenIndex=0;for(var d=0;d<this._tweenTotal;d++){c=this._canvases[d];if(c){TweenMax.to(c.style,this.tweenTime,{opacity:1,delay:this.tweenDelay*Math.random(),ease:this.transition,onComplete:this.onTweenInComplete,onCompleteParams:[this,e]})}}};a.onTweenInComplete=function(c,d){c._tweenIndex++;if(c._tweenIndex==c._tweenTotal){c.ON_TWEEN_IN_COMPLETE.dispatch();d&&d()}};a.tweenOut=function(e){var c;this._tweenIndex=0;for(var d=0;d<this._tweenTotal;d++){c=this._canvases[d];if(c){TweenMax.to(c.style,this.tweenTime,{opacity:0,delay:this.tweenDelay*Math.random(),ease:this.transition,onComplete:this.onTweenOutComplete,onCompleteParams:[this,e]})}}};a.onTweenOutComplete=function(c,d){c._tweenIndex++;if(c._tweenIndex==c._tweenTotal){c.ON_TWEEN_OUT_COMPLETE.dispatch();d&&d()}};a.reset=function(){if(this._canvases&&this._canvases.length>0){var e,c=this._canvases.length,d;for(e=0;e<c;e++){d=this._canvases[e];if(d){TweenMax.killTweensOf(d.style,false,{opacity:true})}}}this._canvases.splice(0,this._canvases.length);this.removeAllElementNodes(this._container)};a.getContentWidth=function(){return this._contentWidth};a.getContentHeight=function(){return this._contentHeight};a.dispose=function(){if(this._canvases&&this._canvases.length>0){var e,c=this._canvases.length,d;for(e=0;e<c;e++){d=this._canvases[e];if(d){TweenMax.killTweensOf(d.style,false,{opacity:true})}}this._canvases.splice(0,this._canvases.length);this._canvases=null}this.ON_TWEEN_IN_COMPLETE&&this.ON_TWEEN_IN_COMPLETE.removeAll();this.ON_TWEEN_IN_COMPLETE=null;this.ON_TWEEN_OUT_COMPLETE&&this.ON_TWEEN_OUT_COMPLETE.removeAll();this.ON_TWEEN_OUT_COMPLETE=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.GridAnimation=b}());(function(){var a=function(c,d,e){pinetree.Sprite.call(this);this._data=e;this.index=0;this.tweenTime=1;this.transition=Quad.easeOut;this._imageWidth=c;this._imageHeight=d;this._imageLoader=new pinetreecom.Thumbnail(this._imageWidth,this._imageHeight,0,0,true);this._imageLoader.alpha=0;this._imageLoader.visible=false;this._imageLoader.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);this._imageLoader.ON_IO_ERROR.add(this,this.onIOError);this.addChild(this._imageLoader);this.ON_LOAD_COMPLETE=new pinetree.Signal();this.ON_IO_ERROR=new pinetree.Signal();__defineGetterSetter(this,["imageLoader","imageWidth","imageHeight","isOnStage"])};var b=__extends(a,pinetree.Sprite);b.load=function(c){this._imageLoader.load(c)};b.onLoadComplete=function(c){this._imageLoader.setRealFitSize(this._imageWidth,this._imageHeight);this.ON_LOAD_COMPLETE.dispatch(this)};b.onIOError=function(c){trace("pinetreecom.SimpleImageRender::load(), IOError!");this.ON_IO_ERROR.dispatch(c)};b.show=function(d,c,e,g){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}this._imageLoader.visible=true;if((d==0&&c==0)||!this.isOnStage){this._imageLoader.alpha=1;g&&g();return}TweenMax.to(this._imageLoader,d,{alpha:1,delay:c,ease:e||this.transition,onComplete:g})};b.hide=function(d,c,e,g){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if((d==0&&c==0)||!this.isOnStage){this._imageLoader.alpha=0;this._onHideComplete(this._imageLoader,g);return}TweenMax.to(this._imageLoader,d,{alpha:0,delay:c,ease:e||this.transition,onComplete:this._onHideComplete,onCompleteParams:[this._imageLoader,g]})};b.getIsOnStage=function(){var d=pinetreecom.CommonUtil.getStageX(this);var c=pinetreecom.CommonUtil.getStageY(this);if((d>-this._imageWidth&&d<pt.stageWidth)&&(c>-this._imageHeight&&c<pt.stageHeight)){return true}return false};b._onHideComplete=function(c,d){c.visible=false;d&&d()};b.getImageLoader=function(){return this._imageLoader};b.getImageWidth=function(){if(this._imageLoader){return this._imageLoader.imageWidth}return 0};b.getImageHeight=function(){if(this._imageLoader){return this._imageLoader.imageHeight}return 0};b.dispose=function(){this._imageLoader&&this._imageLoader.dispose();this._imageLoader=null;this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.dispose();this.ON_LOAD_COMPLETE=null;this.ON_IO_ERROR&&this.ON_IO_ERROR.dispose();this.ON_IO_ERROR=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.SimpleImageRender=a}());(function(){var a=function(){pinetree.Sprite.call(this);this._data=[];this._renders=[];this._loadCount=0;this._totalCount=0;this._contentWidth=0;this._contentHeight=0;this._tweenIndex=0;this._tweenTotal=0;this._container=new pinetree.Sprite();this.addChild(this._container);this.ON_CLICK=new pinetree.Signal();this.ON_LOAD_COMPLETE=new pinetree.Signal();__defineGetterSetter(this,["renders","contentWidth","contentHeight"])};var b=__extends(a,pinetree.Sprite);b.initWithData=function(d,g,l,n){if(l==undefined){l=1}if(n==undefined){n=true}this._data=g;this._renders.splice(0,this._renders.length);this._loadCount=0;this._totalCount=this._data.length;var j,e,m=this._data.length,c,o,k;for(j=0;j<m;j++){e=this._data[j];if(e){if(e.hasOwnProperty("width")){o=e.width}else{o=0}if(e.hasOwnProperty("height")){k=e.height}else{k=0}c=new d(o,k,g[j]);c.index=j;c.alpha=l;c.visible=n;c.ON_LOAD_COMPLETE.add(this,this._onLoadComplete);c.ON_IO_ERROR.add(this,this._onIOError);c.addEventListener(pinetree.MouseEvent.CLICK,this._onClick,this);c.load(e.url);this._container.addChild(c);this._renders.push(c)}}};b._onClick=function(c){var e=c.customTarget;var d=e.index;this.ON_CLICK.dispatch(d)};b._onLoadComplete=function(c){this._loadCount++;if(this._loadCount==this._totalCount){this.ON_LOAD_COMPLETE.dispatch()}};b._onIOError=function(c){};b.show=function(d,g,j,m,k){if(k==undefined){k="in"}var e,c,h=this._renders.length;var l=0;this._tweenIndex=0;this._tweenTotal=h;for(e=0;e<h;e++){c=this._renders[e];if(c){l=k=="in"?g*e:(h-1-e)*g;c.show(d,l,j,Delegate.create(this,this._onShowComplete,m))}}};b._onShowComplete=function(c){this._tweenIndex++;if(this._tweenIndex==this._totalCount){c&&c()}};b.hide=function(d,g,j,m,k){if(k==undefined){k="in"}var e,c,h=this._renders.length;var l=0;this._tweenIndex=0;this._tweenTotal=h;for(e=0;e<h;e++){c=this._renders[e];if(c){l=k=="in"?g*e:(h-1-e)*g;c.hide(d,l,j,Delegate.create(this,this._onHideComplete,m))}}};b._onHideComplete=function(c){this._tweenIndex++;if(this._tweenIndex==this._totalCount){c&&c()}};b.alignHorizontal=function(k){if(k==undefined){k=0}var e,j,c=this._renders.length,d=0,g=0;for(e=0;e<c;e++){j=this._renders[e];if(j){j.x=d;d+=j.imageWidth+k;g=Math.max(g,j.imageHeight)}}this._contentWidth=d-k;this._contentHeight=g};b.alignVertical=function(k){if(k==undefined){k=0}var e,j,c=this._renders.length,d=0,g=0;for(e=0;e<c;e++){j=this._renders[e];if(j){j.y=g;d=Math.max(d,j.imageWidth);g+=j.imageHeight+k}}this._contentWidth=d;this._contentHeight=g-k};b.alignMaxWidth=function(m,l,k){var e,j,c=this._renders.length,d=0,g=0;this._contentWidth=0;this._contentHeight=0;for(e=0;e<c;e++){j=this._renders[e];if(j){j.x=d;d+=j.imageWidth+m;if(d-m>k){d=j.imageWidth+m;j.x=0;g+=j.imageHeight+l}j.y=g;this._contentWidth=Math.max(this._contentWidth,d);this._contentHeight=Math.max(this._contentHeight,j.y+j.imageHeight)}}};b.getContentWidth=function(){return this._contentWidth};b.getContentHeight=function(){return this._contentHeight};b.getRenders=function(){return this._renders};b.dispose=function(){if(this._renders){var d,c=this._renders.length,e;for(d=0;d<c;d++){e=this._renders[d];if(e){e.removeEventListener(pinetree.MouseEvent.CLICK,this._onClick,this);e.dispose()}}this._renders.splice(0,this._renders.length);this._renders=null}this.ON_CLICK&&this.ON_CLICK.removeAll();this.ON_CLICK=null;this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.removeAll();this.ON_LOAD_COMPLETE=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.SimpleImagesList=a}());(function(){var b=function(c,d){pinetree.Sprite.call(this);this._imageWidth=c;this._imageHeight=d;this._imageLoader=null;this.width=c;this.height=d;this.backgroundAlpha=0;this.loadingType="middle";this.className="shadow_normal";__defineGetterSetter(this,["imageLoader"])};var a=__extends(b,pinetree.Sprite);a.addedToStage=function(){if(!this.isInitialized){}pinetree.Sprite.prototype.addedToStage.call(this)};a.load=function(c){if(!this._imageLoader){this._imageLoader=new pinetreecom.Thumbnail(this._imageWidth,this._imageHeight,pt.onOverColor,pt.bgColor,true,null,true,null,false,this.loadingType);this._imageLoader.ON_LOAD_COMPLETE.add(this,this._onImgLoadComplete);this.addChild(this._imageLoader);if(this._useMouseHand){this._imageLoader.useMouseHand=true}}this._imageLoader.load(c)};a.setUseMouseHand=function(c){pinetree.Sprite.prototype.setUseMouseHand.call(this,c);if(this._imageLoader){this._imageLoader.useMouseHand=c}};a.reset=function(){if(this._imageLoader){this._imageLoader.reset()}};a.getImageLoader=function(){return this._imageLoader};a._onImgLoadComplete=function(c){this._imageLoader.setRealFitSize(this._imageWidth,this._imageHeight)};a.dispose=function(){this._imageLoader&&this._imageLoader.dispose();this._imageLoader=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.ShadowImageLoader=b}());(function(){var b=function(){pinetreecom.UIComponent.call(this);if(pinetreecom.DeviceZoomImageProxy._instance){throw new Error("DeviceZoomImageProxy::constructor(), singleton Error!");return}pinetreecom.DeviceZoomImageProxy._instance=this;this._bitmapData=null;this._bitmap=null;this._isZoomIn=false;this.ON_CLOSE=new pinetree.Signal();this.addEventListener(pinetree.MouseEvent.CLICK,this._onClick,this);__defineGetterSetter(this,["bitmapData"])};b._instance=null;b.getInstance=function(){return pinetreecom.DeviceZoomImageProxy._instance||new pinetreecom.DeviceZoomImageProxy()};var a=__extends(b,pinetreecom.UIComponent);a._onClick=function(c){this.zoomOut()};a.setBitmapData=function(c){if(!c){return}this.clear();this._bitmapData=c};a.clear=function(){this._bitmapData&&this._bitmapData.dispose();this._bitmapData=null;this._bitmap&&this._bitmap.removeFromParent(true);this._bitmap=null};a.zoomIn=function(){pinetree.stage.addChild(this);document.body.style.overflowX="auto";pt.navPage.view.showMenuAndLogo(false);this._isZoomIn=true;if(!this._bitmap){this._bitmap=new pinetree.Bitmap(this._bitmapData)}this._bitmap.alpha=0;this.visible=true;this.addChild(this._bitmap);pinetree.stage.dispatchWith(pinetree.Event.RESIZE);TweenMax.killTweensOf(this._bitmap,false,{alpha:true});TweenMax.to(this._bitmap,this.tweenTime,{alpha:1,ease:this.transition})};a.zoomOut=function(){if(!this._isZoomIn){return}if(!this._bitmap||this._bitmap.alpha==0){this._isZoomIn=false;return}TweenMax.to(this._bitmap,this.tweenTime,{alpha:0,ease:this.transition,onComplete:this._onZoomOutComplete,onCompleteParams:[this]})};a._onZoomOutComplete=function(c){c._isZoomIn=false;c.visible=false;pt.navPage.view.showMenuAndLogo(true);c.removeFromParent();document.body.style.overflowX="hidden";pinetree.stage.dispatchWith(pinetree.Event.RESIZE);c.ON_CLOSE.dispatch()};a.resize=function(c,g){if(!this._bitmap||!this._isZoomIn){return}var e=c/this._bitmapData.width;var d=g/this._bitmapData.height;var h=Math.max(e,d);this._bitmap.width=Math.ceil(this._bitmapData.width*h);this._bitmap.height=Math.ceil(this._bitmapData.height*h);this.width=this._bitmap.width;this.height=this._bitmap.height};a.dispose=function(){trace("Don't dispose it!");return};pinetreecom.DeviceZoomImageProxy=b}());(function(){var b=function(c,g,d,h,e){pinetree.Sprite.call(this);this._width=c;this._height=0;this._bgColor=g==undefined?16777215:g;this._bgAlpha=d==undefined?1:d;this._useHtmlText=h==undefined?true:h;this._hasTitle=__defaultSet(e,true);this._infoTxt=null;this._titleTxt=null;this._info="";this._title="";this.paddingLeft=20;this.paddingRight=20;this.paddingTop=20;this.paddingBottom=20;this.gapBetweenTitleAndInfo=10;this.titleTextColor=null;this.infoTextColor=null;this.index=0;this.tweenTime=1;this.transition=Quad.easeOut;__defineGetterSetter(this,["information","title","padding","contentWidth","contentHeight","titleHeight"])};var a=__extends(b,pinetree.Sprite);a.init=function(){this._infoTxt=new pinetree.TextField();this._infoTxt.className+=" deviceTextContainer_content";this.addChild(this._infoTxt);this._infoTxt.x=this.paddingLeft;if(this._hasTitle){this._titleTxt=new pinetree.TextField();this._titleTxt.className+=" deviceTextContainer_title";this.addChild(this._titleTxt);this._titleTxt.selectable=false;this._titleTxt.wordWrap=true;this._titleTxt.multiline=true;this._titleTxt.x=this.paddingLeft;this._titleTxt.y=this.paddingTop}this.backgroundAlpha=this._bgAlpha;this.backgroundColor=this._bgColor;this.width=this._width;this.height=this._height};a.setTitle=function(c){if(!this._hasTitle){return}this._title=c;this._titleTxt.width=this._width-this.paddingLeft-this.paddingRight;if(this._useHtmlText){this._titleTxt.htmlText=c}else{this._titleTxt.text=c}this._titleTxt.visible=true};a.setVisible=function(c){this._htmlElement.style.display=c?"block":"none"};a.setInformation=function(d){var e=this.getTitleHeight();var c=this.getGapBetweenTitleAndInfo();this._info=d;this._infoTxt.width=this._width-this.paddingLeft-this.paddingRight;this._infoTxt.height=1;if(this._useHtmlText){this._infoTxt.htmlText=d}else{this._infoTxt.text=d}this._infoTxt.y=this.paddingTop+e+c;this._height=Math.floor(this._infoTxt.height+this._infoTxt.y+this.paddingBottom);this.height=this._height};a.getInformation=function(){return this._info};a.getTitle=function(){return this._title};a.setPadding=function(c){this.paddingLeft=this.paddingRight=this.paddingTop=this.paddingBottom=c};a.getRealHeight=function(){return this.getTitleHeight()+this.getGapBetweenTitleAndInfo()+this._infoTxt.height};a.getTitleHeight=function(){return this._hasTitle?this._titleTxt.height:0};a.getGapBetweenTitleAndInfo=function(){return this._hasTitle?this.gapBetweenTitleAndInfo:0};a.getContentWidth=function(){return this._width};a.setContentWidth=function(c){if(this._width==c){return}this._width=c;this.title=this._title;this.information=this._info;this.width=this._width};a.getContentHeight=function(){return this._height};a.show=function(d,c,e,g){if(d==undefined){d=1}if(c==undefined){c=0}if(e==undefined){e=this.transition}if(this.visible){return}if(d==0&&c==0){this.alpha=1;this.visible=true;g&&g();return}this.alpha=0;this.visible=true;TweenMax.to(this,d,{alpha:1,delay:c,onComplete:g,ease:e})};a.hide=function(d,c,e,g){if(d==undefined){d=1}if(c==undefined){c=0}if(d==0&&c==0){this.alpha=0;this.visible=false;g&&g();return}TweenMax.to(this,d,{alpha:0,delay:c,onComplete:this._hideComplete,onCompleteParams:[this,g],ease:this.transition})};a._hideComplete=function(c,d){c.visible=false;d&&d()};a.reset=function(){this._info="";this._title="";this._infoTxt.htmlText=""};a.dispose=function(){TweenMax.killTweensOf(this);pinetree.Sprite.prototype.dispose.call(this)};pinetreecom.DeviceTextContainer=b})();(function(){var a=function(){pinetree.Sprite.call(this);this.data=[];this.deeplinkValue="";this._bottomContainer=new pinetree.Sprite();this._middleContainer=new pinetree.Sprite();this._topContainer=new pinetree.Sprite();this._lowestContainer=new pinetree.Sprite();this._rootContainer=new pinetree.Sprite();this._extraContainer=new pinetree.Sprite();this.addChild(this._lowestContainer);this.addChild(this._bottomContainer);this.addChild(this._middleContainer);this.addChild(this._topContainer);this.addChild(this._extraContainer);this.addChild(this._rootContainer);this.addEventListener(pinetree.Event.ADDED_TO_STAGE,this.onAddedToStage,this)};var b=__extends(a,pinetree.Sprite);b.onAddedToStage=function(c){this.removeEventListener(pinetree.Event.ADDED_TO_STAGE,this.onAddedToStage,this);pinetreesite.siteModel.parse(this.data);pinetreesite.siteController.start(this._topContainer,this._middleContainer,this._bottomContainer,this._lowestContainer,this._rootContainer,this._extraContainer,this.deeplinkValue)};pinetreesite.SiteMain=a}());(function(){var a=function(){this._data=[];this._topContainer=null;this._middleContainer=null;this._bottomContainer=null;this._lowestContainer=null;this._rootContainer=null;this._extraContainer=null;this._currentPage=null;this._livingPages=[];this._currentId="";this._goingId="";this._goingLinkValue="";this._currentParams=null;this._isTransitioning=false};var b=a.prototype;b.start=function(h,j,g,c,i,e,d){this._topContainer=h;this._middleContainer=j;this._bottomContainer=g;this._lowestContainer=c;this._rootContainer=i;this._extraContainer=e;this._data=pinetreesite.siteModel.data||[];if(this._data.length<1){return}this.initDeeplink(d||"/");SWFAddress.addEventListener(SWFAddressEvent.CHANGE,Delegate.create(this,this.onDeeplinkChanged))};b.initDeeplink=function(d){var e=d.substring(1);if(!e){var c=this._data[0];if(c&&(c instanceof pinetreesite.AssetVo)){e=c.id}}this.gotoPage(e)};b.getVoById=function(e){var d=this._data.length,c;while(d--){c=this._data[d];if(c&&(c instanceof pinetreesite.AssetVo)&&c.id==e){return c}}return null};b.changeDeeplinking=function(d,e){var c=d;if(e&&pinetreecom.ArrayUtil.isArray(e)&&e.length>0){c+="&"+e.join("&")}SWFAddress.setValue(c)};b.getClassById=function(d){var c=this.getVoById(d);if(c){return c.classRef}return null};b.onDeeplinkChanged=function(c){if(this._isTransitioning){return}var d=c.value.substring(1);this.gotoPage(d)};b.gotoPage=function(c){if(!c){return}var e=this.getLinkId(c);var g=this.getLinkParams(c);if(!e||(e==this._currentId&&g==this._currentParams)){if(this._currentPage&&this._currentPage.linkId==this._currentId){this._currentPage.active();this._inactive(this._currentPage.linkId)}return}if(e==this._currentId){if(this._currentPage){this._currentParams=g;this._currentPage.analyzeParams(e,g);this._currentPage.active();this._inactive(this._currentId);return}}this._goingId=e;this._goingLinkValue=c;if(this._isTransitioning){trace("[-- INTERRUPT --]");return}var h=this._livingPages.length;var k=null;while(h--){k=this._livingPages[h];if(k&&k.linkId==this._goingId){this._currentId=k.linkId;k.active();this._inactive(this._currentId);return}}var m=this.getClassById(e);var l=m?m.SORT_ID:"";if(this._currentPage&&this.getIsNeedChange(l,this._currentPage.sortId).result){this._currentId=this._currentPage.linkId;this.removeLivingPage(this._currentPage.linkId);this._currentPage.isActive&&this._currentPage.inactive();this._currentPage.transitionOut();return}else{var j=this.getIsNeedChange(l,null);if(j.result&&j.page){this._currentPage=j.page;this._currentId=this._currentPage.linkId;this.removeLivingPage(this._currentPage.linkId);this._currentPage.isActive&&this._currentPage.inactive();this._currentPage.transitionOut();return}}var d=this.getVoById(e);if(m){var k=new m(d);k.sortId=l;k.addEventListener(pinetreesite.PageEvents.TRANSITION_IN,this.onTransitionIn,this);k.addEventListener(pinetreesite.PageEvents.TRANSITION_OUT,this.onTransitionOut,this);k.addEventListener(pinetreesite.PageEvents.TRANSITION_IN_COMPLETE,this.onTransitionInComplete,this);k.addEventListener(pinetreesite.PageEvents.TRANSITION_OUT_COMPLETE,this.onTransitionOutComplete,this);k.active();if(d){this._currentId=e;this._currentParams=g;this._currentPage=k;this._currentPage.analyzeParams(e,g);this._inactive(this._currentId);if(d.depth==pinetreesite.AssetVo.DEPTH_TOP&&k.parent!=this._topContainer){k.addTo(this._topContainer)}else{if(d.depth==pinetreesite.AssetVo.DEPTH_MIDDLE&&k.parent!=this._middleContainer){k.addTo(this._middleContainer)}else{if(d.depth==pinetreesite.AssetVo.DEPTH_LOWEST&&k.parent!=this._lowestContainer){k.addTo(this._lowestContainer)}else{if(d.depth==pinetreesite.AssetVo.DEPTH_ROOT&&k.parent!=this._rootContainer){k.addTo(this._rootContainer)}else{if(d.depth==pinetreesite.AssetVo.DEPTH_EXTRA&&k.parent!=this._extraContainer){k.addTo(this._extraContainer)}else{if(k.parent!=this._bottomContainer){k.addTo(this._bottomContainer)}}}}}}}else{return}}else{trace("Error:Page Not Found!");return}this._livingPages.push(this._currentPage);this._currentPage.transitionIn();this._goingId="";this._goingLinkValue="";SWFAddress.setValue(c)};b.activeByClass=function(c){var d=this._livingPages.length;var e=null;while(d--){e=this._livingPages[d];if(e&&!e.isActive&&e.data.classRef==c){e.active();this._inactive(e.linkId);break}}};b.activeBySortId=function(c){var d=this._livingPages.length;var e=null;while(d--){e=this._livingPages[d];if(e&&!e.isActive&&e.sortId==c){e.active();this._inactive(e.linkId);break}}};b._inactive=function(e){var c=this._livingPages.length;var d=null;while(c--){d=this._livingPages[c];if(d&&d.isActive&&d.linkId!=e){d.inactive()}}};b.getLinkId=function(d){var c=d.split("&");return c[0]};b.getLinkParams=function(d){var c=d.split("&");if(c.length<=1){return null}c.splice(0,1);if(c.length==1&&c[0]==""){return null}return c};b.getIsNeedChange=function(e,c){if(pinetree.isDevice){return{result:true,page:null}}if(!e){return{result:false,page:null}}if(c!=null){return{result:e==c,page:null}}else{var d=this._livingPages.length;var g=null;while(d--){g=this._livingPages[d];if(g&&g.sortId==e){return{result:true,page:g}}}}return{result:true,page:null}};b.onTransitionIn=function(c){this._isTransitioning=true};b.onTransitionOut=function(c){this._isTransitioning=true};b.onTransitionInComplete=function(c){this._isTransitioning=false;if(this._goingId!=""&&this._goingId!=this._currentId){this.gotoPage(this._goingLinkValue)}};b.onTransitionOutComplete=function(c){this._isTransitioning=false;var d=this._currentPage;d.removeEventListener(pinetreesite.PageEvents.TRANSITION_IN,this.onTransitionIn,this);d.removeEventListener(pinetreesite.PageEvents.TRANSITION_OUT,this.onTransitionOut,this);d.removeEventListener(pinetreesite.PageEvents.TRANSITION_IN_COMPLETE,this.onTransitionInComplete,this);d.removeEventListener(pinetreesite.PageEvents.TRANSITION_OUT_COMPLETE,this.onTransitionOutComplete,this);d.dispose();this._currentPage=null;if(this._goingId!=""&&this._goingId!=this._currentId){this.gotoPage(this._goingLinkValue)}};b.removeLivingPage=function(e){var c=this._livingPages.length;var d=null;while(c--){d=this._livingPages[c];if(d&&d.linkId==e){this._livingPages.splice(c,1);break}}};b.bringToTop=function(d,c){if(!this._topContainer){return}if(c==undefined){c=this._topContainer.numChildren}this._topContainer.addChildAt(d,c)};b.bringToMiddle=function(d,c){if(!this._middleContainer){return}if(c==undefined){c=this._middleContainer.numChildren}this._middleContainer.addChildAt(d,c)};b.bringToBottom=function(d,c){if(!this._bottomContainer){return}if(c==undefined){c=this._bottomContainer.numChildren}this._bottomContainer.addChildAt(d,c)};b.bringToLowest=function(d,c){if(!this._lowestContainer){return}if(c==undefined){c=this._lowestContainer.numChildren}this._lowestContainer.addChildAt(d,c)};b.bringToRoot=function(d,c){if(!this._rootContainer){return}if(c==undefined){c=this._rootContainer.numChildren}this._rootContainer.addChildAt(d,c)};b.bringToExtra=function(d,c){if(!this._extraContainer){return}if(c==undefined){c=this._extraContainer.numChildren}this._extraContainer.addChildAt(d,c)};pinetreesite.siteController=new a()}());(function(){var b=function(){this._data=null;__defineGetterSetter(this,["data"])};var a=b.prototype;a.getData=function(){return this._data};a.parse=function(m){if(!(m instanceof Array)){return}this._data=[];var h,k=m.length,c;var l,n=0,d,e=0;for(var g=0;g<k;g++){h=m[g];if(h){if(h.hasChild){n=h.childs.length;for(e=0;e<n;e++){l=h.childs[e];if(l){d=new pinetreesite.AssetVo();d.from(l);this._data.push(d)}}}else{c=new pinetreesite.AssetVo();c.from(h);this._data.push(c)}}}};pinetreesite.siteModel=new b()}());(function(){var a={TRANSITION_IN:"transitionIn",TRANSITION_OUT:"transitionOut",TRANSITION_IN_COMPLETE:"transitionInComplete",TRANSITION_OUT_COMPLETE:"transitionOutComplete"};pinetreesite.PageEvents=a}());(function(){var a=function(c){pinetree.Sprite.call(this);this.data=c;this.sortId="";this.linkId="";this.linkParams=null;this._isActive=false;__defineGetterSetter(this,["isActive"])};var b=__extends(a,pinetree.Sprite);b.initialize=function(){};b.getIsActive=function(){return this._isActive};b.active=function(){this._isActive=true};b.inactive=function(){this._isActive=false};b.analyzeParams=function(c,d){this.linkId=c;this.linkParams=d};b.transitionIn=function(){this.dispatchWith(pinetreesite.PageEvents.TRANSITION_IN)};b.transitionOut=function(){this.dispatchWith(pinetreesite.PageEvents.TRANSITION_OUT)};b.transitionInComplete=function(){this.dispatchWith(pinetreesite.PageEvents.TRANSITION_IN_COMPLETE)};b.transitionOutComplete=function(){this.dispatchWith(pinetreesite.PageEvents.TRANSITION_OUT_COMPLETE)};b.dispose=function(){this.data=null;this.sortId="";this.linkId="";this.linkParams=null;this._isActive=false;pinetree.Sprite.prototype.dispose.call(this)};pinetreesite.AbstractPage=a}());(function(){var b=function(){this.id="";this.name="";this.src="";this.size=0;this.bg="";this.bgCoverAlpha=0;this.menuBgAlpha=0.8;this.classRef=null;this.depth=0;this.showParticleAnimation=false};b.DEPTH_BOTTOM="bottom";b.DEPTH_MIDDLE="middle";b.DEPTH_TOP="top";b.DEPTH_LOWEST="lowest";b.DEPTH_ROOT="root";b.DEPTH_EXTRA="extra";var a=b.prototype;a.from=function(c){this.id=c.id;this.name=c.name;this.src=c.src;this.size=c.dataSize;this.bg=c.bg;this.bgCoverAlpha=c.bgCoverAlpha;this.menuBgAlpha=c.menuBgAlpha;this.classRef=c.classRef;this.depth=c.depth||pinetreesite.AssetVo.DEPTH_MIDDLE;this.showParticleAnimation=c.showParticleAnimation};pinetreesite.AssetVo=b}());(function(){var a=function(){this.onOverColor=0;this.onOutColor=0;this.textColor=0;this.bgColor=0;this.assistColor=0;this.onOverMainMenuColor=0;this.onOutMainMenuColor=0;this.onSelectMainMenuColor=0;this.onOverChildMenuColor=0;this.onOutChildMenuColor=0;this.onSelectChildMenuColor=0;this.videoIconColor=0;this.shadowColor=0;this.shadowStrength=0.2,this.mainMenuBgAlpha=1;this.childMenuBgAlpha=1;this.leftPanelWidth=250;this.menuOffsetX=0;this.menuOffsetY=0;this.scrollSpeed=1;this.menuPosition="bottom";this.footerPosition="bottom";this.autoHideScrollbar=false;this.animationColumn=5;this.animationRow=5;this.logo=null;this.footer=null;this.background=null;this.music=null;this.socials=null};a.from=function(c){var b=new pinetreepages.ConfigSetting();b.onOverColor=pt.fromColorString(c.onOverColor)||0;b.onOutColor=pt.fromColorString(c.onOutColor)||0;b.textColor=pt.fromColorString(c.textColor)||0;b.bgColor=pt.fromColorString(c.bgColor)||0;b.assistColor=pt.fromColorString(c.assistColor)||0;b.onOverMainMenuColor=c.onOverMainMenuColor!=undefined?pt.fromColorString(c.onOverMainMenuColor):b.onOverColor;b.onOutMainMenuColor=c.onOutMainMenuColor!=undefined?pt.fromColorString(c.onOutMainMenuColor):b.onOutColor;b.onSelectMainMenuColor=c.onSelectMainMenuColor!=undefined?pt.fromColorString(c.onSelectMainMenuColor):b.onOverColor;b.onOverChildMenuColor=c.onOverChildMenuColor!=undefined?pt.fromColorString(c.onOverChildMenuColor):b.onOverColor;b.onOutChildMenuColor=c.onOutChildMenuColor!=undefined?pt.fromColorString(c.onOutChildMenuColor):b.bgColor;b.onSelectChildMenuColor=c.onSelectChildMenuColor!=undefined?pt.fromColorString(c.onSelectChildMenuColor):b.onOverColor;b.childMenuBgColor=c.childMenuBgColor!=undefined?pt.fromColorString(c.childMenuBgColor):b.childMenuBgColor;b.videoIconColor=c.videoIconColor!=undefined?pt.fromColorString(c.videoIconColor):b.videoIconColor;b.shadowColor=c.shadowColor!=undefined?pt.fromColorString(c.shadowColor):b.shadowColor;b.shadowStrength=__defaultSet(c.shadowStrength,b.shadowStrength);b.animationColumn=__defaultSet(c.animationColumn,b.animationColumn);b.animationRow=__defaultSet(c.animationRow,b.animationRow);b.menuPosition=c.menuPosition=="top"?"top":"bottom";b.autoHideScrollbar=c.autoHideScrollbar||false;b.scrollSpeed=c.scrollSpeed||b.scrollSpeed;b.logo=c.logo||{};b.footer=c.footer||{};b.background=c.background||{};b.music=c.music||{};b.socials=c.socials||{};return b};pinetreepages.ConfigSetting=a}());(function(){var a=function(){this._visibleMenuData=null;this._siteMenuData=null;this._menuSetting=null;__defineGetterSetter(this,["visibleMenuData","siteMenuData","menuSetting"])};var b=a.prototype;b.getPageClass=function(c){var d=null;switch(c){case"home":d=pinetreepages.HomePage;break;case"slideshow":d=pinetreepages.SlideshowPage;break;case"about":d=pinetreepages.AboutPage;break;case"news":case"service":d=pinetreepages.NewsPage;break;case"gallery":d=pinetreepages.GalleryPage;break;case"contact":d=pinetreepages.ContactPage;break;case"portfolio":d=pinetreepages.PortfolioPage;break;case"client":case"team":d=pinetreepages.TeamPage;break;case"showreel":d=pinetreepages.ReelPage;break}return d};b.parseMenu=function(l){this._visibleMenuData=[];this._siteMenuData=[];this._menuSetting=l.setting;var m=l.data,h,e,k,g,d=m.length,c=0;for(k=0;k<d;k++){if(m[k]){h=pinetreepages.NavVo.from(m[k]);h.index=k;h.classRef=this.getPageClass(h.module);if(!h.hidden){this._visibleMenuData.push(h)}this._siteMenuData.push(h);if(m[k].childmenus!=undefined&&m[k].childmenus.length>0){c=m[k].childmenus.length;for(g=0;g<c;g++){e=pinetreepages.NavVo.from(m[k].childmenus[g]);e.index=g;e.classRef=this.getPageClass(e.module);e.parent=h;if(!e.hidden){h.childs.push(e)}else{this._siteMenuData.push(e)}}}}}};b.getVisibleMenuData=function(){return this._visibleMenuData};b.getSiteMenuData=function(){return this._siteMenuData};b.getMenuSetting=function(){return this._menuSetting};pinetreepages.configUtil=new a()}());(function(){var a={ZOOM_IN_ICON:"zoom_in_icon",PREV_ICON:"prev_icon",NEXT_ICON:"next_icon",PREV_ICON_H_DEVICE:"prev_icon_h_device",NEXT_ICON_H_DEVICE:"next_icon_h_device",PREV_ICON_H:"prev_icon_h",NEXT_ICON_H:"next_icon_h",INFO_ICON:"info_icon",CLOSE_ICON:"close_icon",PINTEREST_ICON:"pinterest_icon",PINTEREST_ICON_DEVICE:"pinterest_icon_device",INFO_ICON_DEVICE:"info_icon_device",BTN_INFO_SMALL:"btn_info_small",CLOSE_ICON_DEVICE:"close_icon_device",CLOSE_MINI_ICON:"close_mini_icon",BTN_BG_ICON:"btn_bg_icon",BTN_DOWN_ICON:"btn_down_icon",BTN_DOWN_MINI_ICON:"btn_down_mini_icon",BTN_UP_ICON:"btn_up_icon",BTN_CLOSE_ICON:"btn_close_icon",BTN_DOWNLOAD_ICON:"btn_download_icon",BTN_DOWNLOAD_ICON_DEVICE:"btn_download_icon_device",BTN_HOME_ICON:"btn_home_icon",BTN_HOME_ICON_DEVICE:"btn_home_icon_device",BTN_CIRCLE_BG_ICON:"btn_circle_bg_icon",BTN_LINK_ICON:"btn_link_icon",BTN_PLAY_ICON:"btn_play_icon",BTN_PAUSE_ICON:"btn_pause_icon",BTN_PLAY_ICON_DEVICE:"btn_play_icon_device",BTN_PAUSE_ICON_DEVICE:"btn_pause_icon_device",BTN_ZOOM_IN_ICON:"btn_zoom_in_icon",BTN_ZOOM_OUT_ICON:"btn_zoom_out_icon",BTN_ZOOM_IN_ICON_DEVICE:"btn_zoom_in_icon_device",BTN_ZOOM_OUT_ICON_DEVICE:"btn_zoom_out_icon_device",TARGET_ICON:"target_icon",CATEGORY_ICON:"category_icon",DEVICE_MENU_ICON:"device_menu_icon",DEVICE_CLOSE_MENU_ICON:"device_close_menu_icon",VOLUME_ON_ICON:"volume_on_icon",VOLUME_OFF_ICON:"volume_off_icon",PHOTO_ICON:"photo_icon",VIDEO_ICON:"video_icon",DEVICE_PREV_ICON:"device_prev_icon",DEVICE_NEXT_ICON:"device_next_icon",DEVICE_CLOSE_ICON:"device_close_icon",SCROLLER_BASE_TILE:"scroller_base_tile",BACK_ICON:"back_icon",BACK_ICON2:"back_icon2",SMALL_CLOSE_ICON:"small_close_icon",SMALL_INFO_ICON:"small_info_icon",LINK_CIRCLE_BG_ICON:"link_circle_bg_icon",GALLERY_TIPS_EDGE:"gallery_tips_edge",DOWN_TRIANGLE_ICON:"down_triangle_icon",PLUS_ICON:"plus_icon",TRIANGLE_ICON:"triangle_icon",NEXT_CIRCLE_ICON:"next_circle_icon",NEXT_CIRCLE_ICON_2:"next_circle_icon_2",BTN_RIGHT_ICON:"btn_right_icon",DISCOVER_ICON:"discover_icon",LOADING_CIRCLE_ICON:"loading_circle_icon",LOADING_CIRCLE_BG:"loading_circle_bg",LOADING_CIRCLE_ICON_MIDDLE:"loading_circle_icon_middle",LOADING_CIRCLE_BG_MIDDLE:"loading_circle_bg_middle",LOADING_CIRCLE_ICON_MINI:"loading_circle_icon_mini",LOADING_CIRCLE_BG_MINI:"loading_circle_bg_mini"};a.isInsterested=function(b){if(!b){return false}return this.hasOwnProperty(b.toUpperCase())};pinetreepages.EnumTextures=a}());(function(){var a=function(){this._commonAtlas=null;this._otherAtlas={}};var b=a.prototype;b.setCommon=function(d,c){this._commonAtlas=new pinetree.TextureAtlas(d,c)};b.addExtend=function(e,c,g){var d=new pinetree.TextureAtlas(e,c);this._otherAtlas[g]=d};b.removeExtend=function(d){var c=this._otherAtlas[d];if(c){c.dispose();c=null}if(this._otherAtlas.hasOwnProperty(d)){delete this._otherAtlas[d]}};b.getCommonTexture=function(d){if(pinetree.isDevice){var c=d+"_device";if(pinetreepages.EnumTextures.isInsterested(c)){d=c}}return this._commonAtlas.getTexture(d)};b.getCommonTextures=function(c){return this._commonAtlas.getTextures(c)};b.getExtendTexture=function(d,e){var c=this._otherAtlas[e];if(!c){return null}return c.getTexture(d)};b.getExtendTextures=function(d,e){var c=this._otherAtlas[e];if(!c){return null}return c.getTextures(d)};pinetreepages.assetsMgr=new a()}());(function(){var b=function(){this.isAlphaMode=false;this.ALPHA_MODE_VALUE=0.1;this.TOP_HEIGHT_CONST=0;this.DEVICE_TOP_HEIGHT_CONST=80;this.FOOTER_HEIGHT_CONST=60;this.rootURL="";this.rootDirectory="";this.config=null;this.isMenuOpen=false;this.controlBtns=null;this.bgPage=null;this.navPage=null;this.footerPage=null;this.isMute=false;this.SCOLL_SPEED=1;this.DEVICE_FOOTER_HEIGHT=80;this.FOOTER_HEIGHT=pinetree.isSmallMode?0:this.FOOTER_HEIGHT_CONST;this.LEFT_WIDTH=0;this.TOP_HEIGHT=pinetree.isSmallMode?this.DEVICE_TOP_HEIGHT_CONST:this.TOP_HEIGHT_CONST;this.START_Y=pinetree.isDevice?0:0;this.BOTTOM_FOOTER_HEIGHT=40;this.BOTTOM_CONTENT_HEIGHT=200;this.currentBottomHeight=0;this.startX=50;this.autoHideScrollbar=false;this._isOverTextContainer=false;this.isShowingChild=false;this.zoomProxy=null;this.onOverColor=14500935;this.onOutColor=2302755;this.onOverMainMenuColor=14500935;this.onOutMainMenuColor=2302755;this.onSelectMainMenuColor=14500935;this.onOverChildMenuColor=14500935;this.onOutChildMenuColor=2302755;this.onSelectChildMenuColor=14500935;this.childMenuBgColor=16777215;this.bgColor=16777215;this.textColor=2302755;this.bgAlpha=0.9;this.currentPageID="";this.prevPageID="";__defineGetterSetter(this,["stage","stageWidth","stageHeight","isOverTextContainer"])};var a=b.prototype;a.parseConfig=function(c){this.config=pinetreepages.ConfigSetting.from(c);if(this.config.menuPosition=="bottom"){this.BOTTOM_FOOTER_HEIGHT=this.FOOTER_HEIGHT_CONST}this.currentBottomHeight=pinetree.isSmallMode?0:this.config.menuPosition=="top"?this.BOTTOM_FOOTER_HEIGHT:this.FOOTER_HEIGHT;this.SCOLL_SPEED=this.config.scrollSpeed};a.getIsOverTextContainer=function(){return this._isOverTextContainer};a.setIsOverTextContainer=function(c){this._isOverTextContainer=c};a.refreshControlBtns=function(){if(this.controlBtns){this.controlBtns.refresh();this.controlBtns.x=pinetree.stage.stageWidth-this.controlBtns.width-20;this.controlBtns.y=(this.TOP_HEIGHT-this.controlBtns.height)>>1}};a.getStageWidth=function(){return pinetree.stage.stageWidth};a.getStageHeight=function(){return pinetree.stage.stageHeight};a.getStage=function(){return pinetree.stage};a.openSiteMusic=function(){try{this.footerPage.view.unmute()}catch(c){}};a.closeSiteMusic=function(){try{this.footerPage.view.mute()}catch(c){}};a.getCommonTexture=function(c){return pinetreepages.assetsMgr.getCommonTexture(c)};a.getCommonTextures=function(c){return pinetreepages.assetsMgr.getCommonTextures(c)};a.fromColorString=function(c){return pinetreecom.StringUtil.fromColorString(c)};a.toColorString=function(c,d){return pinetreecom.StringUtil.toColorString(c,d)};pt=new b()})();(function(){var b=function(c){pinetreesite.SiteMain.call(this,c);this.deeplinkValue=SWFAddress?(SWFAddress.getValue()||""):"";pinetreepages.assetsMgr.setCommon(pinetree.textureImage,pinetree.textureData)};var a=__extends(b,pinetreesite.SiteMain);a.onAddedToStage=function(d){pt.rootURL=SWFAddress.getBaseURL();var g=/[^\/]+\.(html|htm)/ig;if(g.test(pt.rootURL)){g.lastIndex=0;var c=g.exec(pt.rootURL);if(c){var e=c.index-1;if(e<0){e=0}pt.rootDirectory=pt.rootURL.substr(0,e)}}pt.onOverColor=pt.config.onOverColor;pt.onOutColor=pt.config.onOutColor;pt.bgColor=pt.config.bgColor;pt.textColor=pt.config.textColor;pt.assistColor=pt.config.assistColor;pt.onOverMainMenuColor=pt.config.onOverMainMenuColor;pt.onOutMainMenuColor=pt.config.onOutMainMenuColor;pt.onSelectMainMenuColor=pt.config.onSelectMainMenuColor;pt.onOverChildMenuColor=pt.config.onOverChildMenuColor;pt.onOutChildMenuColor=pt.config.onOutChildMenuColor;pt.onSelectChildMenuColor=pt.config.onSelectChildMenuColor;pt.childMenuBgColor=pt.config.childMenuBgColor;pt.videoIconColor=pt.config.videoIconColor;pt.autoHideScrollbar=pt.config.autoHideScrollbar;pt.isMute=!pt.config.music.setting.active;this._initStaticPage();pt.navPage.view.initUI();pt.controlBtns=new pinetreecom.ControlButtons();pt.controlBtns.btnOverAlpha=1;pt.controlBtns.btnOutAlpha=0.8;pinetree.staticStage.addChild(pt.controlBtns);pt.controlBtns.alignBy(20,0,"horizontal");pt.dragPrevNext=new pinetreecom.DragPrevNextUtil(pinetree.isDevice);if(pinetree.isDevice){pt.zoomProxy=pinetreecom.DeviceZoomImageProxy.getInstance();pt.zoomProxy.tweenTime=0.2}pt.assetLoading=new pinetreecom.AssetLoading(pt.onOverColor,60,60,pt.bgColor,0.9,12,pt.onOverColor,true);pinetree.staticStage.addChild(pt.assetLoading);this.data=pinetreepages.configUtil.getSiteMenuData();pinetreecom.DelayCaller.delayCall(this,this._start,0.1)};a._start=function(){pinetreesite.SiteMain.prototype.onAddedToStage.call(this,null)};a._initStaticPage=function(){var e=new pinetreepages.BackgroundPage();pt.bgPage=e;this._bottomContainer.addChildAt(e,0);var d=new pinetreepages.NavPage();pt.navPage=d;if(pinetree.isDevice){pinetree.staticStage.addChildAt(d,0)}else{this._topContainer.addChild(d);this._extraContainer.y=pt.FOOTER_HEIGHT;d.view.addChild(this._extraContainer)}var c=new pinetreepages.FooterPage();pt.footerPage=c;if(!pinetree.isDevice){this._topContainer.addChild(c)}};pinetreepages.Index=b}());__import("js/src/ui/views/components/GridAniThumbnail.js");__import("js/src/ui/views/components/TextListItemRender.js");__import("js/src/ui/views/components/HomeThumbContainer.js");(function(){var a=function(c){pinetreesite.AbstractPage.call(this,c);this.view=null;this.tweenTime=1;this.transition=Quad.easeOut;this.tweenDelay=0.5};var b=__extends(a,pinetreesite.AbstractPage);b.analyzeParams=function(c,d){pinetreesite.AbstractPage.prototype.analyzeParams.call(this,c,d);this.view&&this.view.analyzeParams(c,d)};b.addedToStage=function(){pinetreesite.AbstractPage.prototype.addedToStage.call(this)};b.transitionIn=function(){pinetreesite.AbstractPage.prototype.transitionIn.call(this);if(pt.navPage&&pt.navPage.view&&pt.navPage.view&&this.data){pt.navPage.view.setSelectedIndexById(this.data.id,true)}if(pt&&pt.bgPage&&pt.bgPage.view){pt.bgPage.view.changeCoverAlpha(this.data.bgCoverAlpha)}this._showParticleAnimation(this.data.showParticleAnimation)};b.transitionOut=function(){pinetreesite.AbstractPage.prototype.transitionOut.call(this);this._showParticleAnimation(false)};b._showParticleAnimation=function(c){if(pt&&pt.bgPage&&pt.bgPage.particleAnimator){if(c){pt.bgPage.particleAnimator.show()}else{pt.bgPage.particleAnimator.hide()}}};b.loadBackground=function(c){if(pt&&pt.bgPage){pt.bgPage.changeBackground(c)}};b.unloadBackground=function(){if(pt&&pt.bgPage){pt.bgPage.unloadBackground()}};b.dispose=function(){this.view&&this.view.dispose();this.view=null;pinetreesite.AbstractPage.prototype.dispose.call(this);this.removeFromParent()};pinetreepages.PageBase=a}());(function(){var a=function(c){pinetreecom.UIComponent.call(this);this.data=c;this.linkId="";this.linkParams=null;this.ON_TRANSITION_IN=new pinetree.Signal();this.ON_TRANSITION_OUT=new pinetree.Signal();this.ON_TRANSITION_IN_COMPLETE=new pinetree.Signal();this.ON_TRANSITION_OUT_COMPLETE=new pinetree.Signal()};var b=__extends(a,pinetreecom.UIComponent);b.analyzeParams=function(c,d){this.linkId=c;this.linkParams=d};b.active=function(){};b.inactive=function(){};b.transitionIn=function(){};b.transitionInComplete=function(){this.ON_TRANSITION_IN_COMPLETE.dispatch()};b.transitionOut=function(){};b.transitionOutComplete=function(){this.ON_TRANSITION_OUT_COMPLETE.dispatch()};b.dispose=function(){this.ON_TRANSITION_IN&&this.ON_TRANSITION_IN.removeAll();this.ON_TRANSITION_OUT&&this.ON_TRANSITION_OUT.removeAll();this.ON_TRANSITION_IN_COMPLETE&&this.ON_TRANSITION_IN_COMPLETE.removeAll();this.ON_TRANSITION_OUT_COMPLETE&&this.ON_TRANSITION_OUT_COMPLETE.removeAll();this.ON_TRANSITION_IN=null;this.ON_TRANSITION_OUT=null;this.ON_TRANSITION_IN_COMPLETE=null;this.ON_TRANSITION_OUT_COMPLETE=null;this.linkId="";this.linkParams=null;pinetreecom.UIComponent.prototype.dispose.call(this);this.removeFromParent()};pinetreepages.ViewBase=a}());(function(){var a=function(c){pinetreepages.PageBase.call(this,c);this.view=new pinetreepages.NavView(c);this.addChild(this.view);this.positionRef="fixed";if(pt.isAlphaMode){this.view.alpha=pt.ALPHA_MODE_VALUE}};a.SORT_ID="navigation";var b=__extends(a,pinetreepages.PageBase);b.changeBgAlpha=function(c){this.view.tweenBgAlpha(c)};b.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};b.toString=function(){return"[Object NavPage]"};pinetreepages.NavPage=a}());(function(){var b=function(c){pinetreepages.PageBase.call(this,c);this.view=new pinetreepages.FooterView(c);this.addChild(this.view);if(pt.isAlphaMode){this.view.alpha=pt.ALPHA_MODE_VALUE}__defineGetterSetter(this,["bg"])};b.SORT_ID="footer";var a=__extends(b,pinetreepages.PageBase);a.getBg=function(){return this.view.getBg()};a.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};a.toString=function(){return"[Object NavPage]"};pinetreepages.FooterPage=b}());(function(){var b=function(c){pinetreepages.PageBase.call(this,c);this.view=new pinetreepages.BackgroundView(c);this.view.ON_TRANSITION_IN_COMPLETE.add(this,this.transitionInComplete);this.view.ON_TRANSITION_OUT_COMPLETE.add(this,this.transitionOutComplete);this.addChild(this.view);this.positionRef="fixed";this.particleAnimator=null;if(pt.isAlphaMode){this.view.alpha=pt.ALPHA_MODE_VALUE}};b.SORT_ID="background";var a=__extends(b,pinetreepages.PageBase);a.addedToStage=function(){pinetreepages.PageBase.prototype.addedToStage.call(this);this.particleAnimator=this.view.particleAnimator};a.transitionIn=function(){pinetreepages.PageBase.prototype.transitionIn.call(this);this.view.transitionIn()};a.transitionOut=function(){pinetreepages.PageBase.prototype.transitionOut.call(this);this.view.transitionOut()};a.changeBackground=function(c){this.view.changeBackground(c)};a.unloadBackground=function(){};a.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};a.toString=function(){return"[Object BackgroundPage]"};pinetreepages.BackgroundPage=b}());(function(){var b=function(c){pinetreepages.PageBase.call(this,c);this.view=new pinetreepages.HomeView(c);this.view.ON_TRANSITION_IN_COMPLETE.add(this,this.transitionInComplete);this.view.ON_TRANSITION_OUT_COMPLETE.add(this,this.transitionOutComplete);this.addChild(this.view);if(pt.isAlphaMode){this.view.alpha=pt.ALPHA_MODE_VALUE}};b.SORT_ID="1";var a=__extends(b,pinetreepages.PageBase);a.transitionIn=function(){pinetreepages.PageBase.prototype.transitionIn.call(this);this.loadBackground(this.data.bg);pt.navPage&&pt.navPage.hide();trace(pinetree.addresses)};a.transitionOut=function(){pinetreepages.PageBase.prototype.transitionOut.call(this);pt.navPage&&pt.navPage.show();this.view.transitionOut()};a.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};a.toString=function(){return"[Object HomePage]"};pinetreepages.HomePage=b}());(function(){var a=function(c){pinetreepages.PageBase.call(this,c);if(pinetree.isDevice){this.view=new pinetreepages.AboutDeviceView(c)}else{this.view=new pinetreepages.AboutView(c)}this.view.ON_TRANSITION_IN_COMPLETE.add(this,this.transitionInComplete);this.view.ON_TRANSITION_OUT_COMPLETE.add(this,this.transitionOutComplete);this.addChild(this.view);if(pt.isAlphaMode){this.view.alpha=pt.ALPHA_MODE_VALUE}};a.SORT_ID="1";var b=__extends(a,pinetreepages.PageBase);b.active=function(){pinetreepages.PageBase.prototype.active.call(this);pt.navPage&&pt.navPage.changeBgAlpha(this.data.menuBgAlpha)};b.transitionIn=function(){pinetreepages.PageBase.prototype.transitionIn.call(this);this.loadBackground(this.data.bg)};b.transitionOut=function(){pinetreepages.PageBase.prototype.transitionOut.call(this);this.view.transitionOut()};b.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};b.toString=function(){return"[Object AboutPage]"};pinetreepages.AboutPage=a}());(function(){var a=function(c){pinetreepages.PageBase.call(this,c);this.view=new pinetreepages.ClientView(c);this.view.ON_TRANSITION_IN_COMPLETE.add(this,this.transitionInComplete);this.view.ON_TRANSITION_OUT_COMPLETE.add(this,this.transitionOutComplete);this.addChild(this.view)};a.SORT_ID="1";var b=__extends(a,pinetreepages.PageBase);b.transitionIn=function(){pinetreepages.PageBase.prototype.transitionIn.call(this);this.view.transitionIn();this.loadBackground(this.data.bg)};b.transitionOut=function(){pinetreepages.PageBase.prototype.transitionOut.call(this);this.view.transitionOut()};b.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};b.toString=function(){return"[Object ClientPage]"};pinetreepages.ClientPage=a}());(function(){var a=function(c){pinetreepages.PageBase.call(this,c);if(pinetree.isDevice){this.view=new pinetreepages.ContactDeviceView(c)}else{this.view=new pinetreepages.ContactView(c)}this.view.ON_TRANSITION_IN_COMPLETE.add(this,this.transitionInComplete);this.view.ON_TRANSITION_OUT_COMPLETE.add(this,this.transitionOutComplete);this.addChild(this.view);if(pt.isAlphaMode){this.view.alpha=pt.ALPHA_MODE_VALUE}};a.SORT_ID="1";var b=__extends(a,pinetreepages.PageBase);b.active=function(){pinetreepages.PageBase.prototype.active.call(this);pt.navPage&&pt.navPage.changeBgAlpha(this.data.menuBgAlpha)};b.transitionIn=function(){pinetreepages.PageBase.prototype.transitionIn.call(this);this.loadBackground(this.data.bg)};b.transitionOut=function(){pinetreepages.PageBase.prototype.transitionOut.call(this);this.view.transitionOut()};b.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};b.toString=function(){return"[Object ContactPage]"};pinetreepages.ContactPage=a}());(function(){var a=function(c){pinetreepages.PageBase.call(this,c);this.view=new pinetreepages.ExternalView(c);this.view.ON_TRANSITION_IN_COMPLETE.add(this,this.transitionInComplete);this.view.ON_TRANSITION_OUT_COMPLETE.add(this,this.transitionOutComplete);this.addChild(this.view)};a.SORT_ID="1";var b=__extends(a,pinetreepages.PageBase);b.transitionIn=function(){pinetreepages.PageBase.prototype.transitionIn.call(this);this.view.transitionIn();this.loadBackground(this.data.bg)};b.transitionOut=function(){pinetreepages.PageBase.prototype.transitionOut.call(this);this.view.transitionOut()};b.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};b.toString=function(){return"[Object ExternalPage]"};pinetreepages.ExternalPage=a}());(function(){var a=function(c){pinetreepages.PageBase.call(this,c);this.view=new pinetreepages.GalleryView(c);this.view.ON_TRANSITION_IN_COMPLETE.add(this,this.transitionInComplete);this.view.ON_TRANSITION_OUT_COMPLETE.add(this,this.transitionOutComplete);this.addChild(this.view);if(pt.isAlphaMode){this.view.alpha=pt.ALPHA_MODE_VALUE}};a.SORT_ID="1";var b=__extends(a,pinetreepages.PageBase);b.active=function(){pinetreepages.PageBase.prototype.active.call(this);this.view.active();if(pt.navPage&&pt.navPage.view&&pt.navPage.view&&this.data){pt.navPage.view.setSelectedIndexById(this.data.id,true)}pt.navPage&&pt.navPage.changeBgAlpha(this.data.menuBgAlpha)};b.inactive=function(){pinetreepages.PageBase.prototype.inactive.call(this);this.view.inactive()};b.transitionIn=function(){pinetreepages.PageBase.prototype.transitionIn.call(this);this.view.transitionIn();this.loadBackground(this.data.bg)};b.transitionOut=function(){pinetreepages.PageBase.prototype.transitionOut.call(this);this.view.transitionOut()};b.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};b.toString=function(){return"[Object Gallery]"};pinetreepages.GalleryPage=a}());(function(){var b=function(c){pinetreepages.PageBase.call(this,c);this.view=new pinetreepages.NewsView(c);this.view.ON_TRANSITION_IN_COMPLETE.add(this,this.transitionInComplete);this.view.ON_TRANSITION_OUT_COMPLETE.add(this,this.transitionOutComplete);this.addChild(this.view);if(pt.isAlphaMode){this.view.alpha=pt.ALPHA_MODE_VALUE}};b.SORT_ID="1";var a=__extends(b,pinetreepages.PageBase);a.active=function(){pinetreepages.PageBase.prototype.active.call(this);pt.navPage&&pt.navPage.changeBgAlpha(this.data.menuBgAlpha)};a.transitionIn=function(){pinetreepages.PageBase.prototype.transitionIn.call(this);this.view.transitionIn();this.loadBackground(this.data.bg)};a.transitionOut=function(){pinetreepages.PageBase.prototype.transitionOut.call(this);this.view.transitionOut()};a.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};a.toString=function(){return"[Object NewsPage]"};pinetreepages.NewsPage=b}());(function(){var b=function(c){pinetreepages.PageBase.call(this,c);this.view=new pinetreepages.PortfolioView(c);this.view.ON_TRANSITION_IN_COMPLETE.add(this,this.transitionInComplete);this.view.ON_TRANSITION_OUT_COMPLETE.add(this,this.transitionOutComplete);this.addChild(this.view);if(pt.isAlphaMode){this.view.alpha=pt.ALPHA_MODE_VALUE}};b.SORT_ID="1";var a=__extends(b,pinetreepages.PageBase);a.active=function(){pinetreepages.PageBase.prototype.active.call(this);pt.navPage&&pt.navPage.changeBgAlpha(this.data.menuBgAlpha)};a.transitionIn=function(){pinetreepages.PageBase.prototype.transitionIn.call(this);this.view.transitionIn();this.loadBackground(this.data.bg)};a.transitionOut=function(){pinetreepages.PageBase.prototype.transitionOut.call(this);this.view.transitionOut()};a.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};a.toString=function(){return"[Object PortfolioPage]"};pinetreepages.PortfolioPage=b}());(function(){var a=function(c){pinetreepages.PageBase.call(this,c);this.view=new pinetreepages.ReelView(c);this.view.ON_TRANSITION_IN_COMPLETE.add(this,this.transitionInComplete);this.view.ON_TRANSITION_OUT_COMPLETE.add(this,this.transitionOutComplete);this.addChild(this.view);if(pt.isAlphaMode){this.view.alpha=pt.ALPHA_MODE_VALUE}};a.SORT_ID="1";var b=__extends(a,pinetreepages.PageBase);b.transitionIn=function(){pinetreepages.PageBase.prototype.transitionIn.call(this);this.loadBackground(this.data.bg)};b.transitionOut=function(){pinetreepages.PageBase.prototype.transitionOut.call(this);this.view.transitionOut()};b.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};b.toString=function(){return"[Object ReelPage]"};pinetreepages.ReelPage=a}());(function(){var a=function(c){pinetreepages.PageBase.call(this,c);this.view=new pinetreepages.ServiceView(c);this.view.ON_TRANSITION_IN_COMPLETE.add(this,this.transitionInComplete);this.view.ON_TRANSITION_OUT_COMPLETE.add(this,this.transitionOutComplete);this.addChild(this.view)};a.SORT_ID="1";var b=__extends(a,pinetreepages.PageBase);b.transitionIn=function(){pinetreepages.PageBase.prototype.transitionIn.call(this);this.view.transitionIn();this.loadBackground(this.data.bg)};b.transitionOut=function(){pinetreepages.PageBase.prototype.transitionOut.call(this);this.view.transitionOut()};b.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};b.toString=function(){return"[Object ServicePage]"};pinetreepages.ServicePage=a}());(function(){var a=function(c){pinetreepages.PageBase.call(this,c);this.view=new pinetreepages.SlideshowView(c);this.view.ON_TRANSITION_IN_COMPLETE.add(this,this.transitionInComplete);this.view.ON_TRANSITION_OUT_COMPLETE.add(this,this.transitionOutComplete);this.addChild(this.view);this.positionRef="fixed";if(pt.isAlphaMode){this.view.alpha=pt.ALPHA_MODE_VALUE}};a.SORT_ID="1";var b=__extends(a,pinetreepages.PageBase);b.active=function(){pinetreepages.PageBase.prototype.active.call(this);if(pt.navPage&&pt.navPage.view&&pt.navPage.view&&this.data){pt.navPage.view.setSelectedIndexById(this.data.id,true)}pt.navPage&&pt.navPage.changeBgAlpha(this.data.menuBgAlpha)};b.transitionIn=function(){pinetreepages.PageBase.prototype.transitionIn.call(this);this.view.transitionIn();this.loadBackground(this.data.bg);trace(pinetree.addresses)};b.addedToStage=function(){pinetreepages.PageBase.prototype.addedToStage.call(this)};b.transitionOut=function(){pinetreepages.PageBase.prototype.transitionOut.call(this);this.view.transitionOut()};b.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};b.toString=function(){return"[Object SlideshowPage]"};pinetreepages.SlideshowPage=a}());(function(){var a=function(c){pinetreepages.PageBase.call(this,c);this.view=new pinetreepages.TeamView(c);this.view.ON_TRANSITION_IN_COMPLETE.add(this,this.transitionInComplete);this.view.ON_TRANSITION_OUT_COMPLETE.add(this,this.transitionOutComplete);this.addChild(this.view);if(pt.isAlphaMode){this.view.alpha=pt.ALPHA_MODE_VALUE}};a.SORT_ID="1";var b=__extends(a,pinetreepages.PageBase);b.active=function(){pinetreepages.PageBase.prototype.active.call(this);pt.navPage&&pt.navPage.changeBgAlpha(this.data.menuBgAlpha)};b.transitionIn=function(){pinetreepages.PageBase.prototype.transitionIn.call(this);this.view.transitionIn();this.loadBackground(this.data.bg)};b.transitionOut=function(){pinetreepages.PageBase.prototype.transitionOut.call(this);this.view.transitionOut()};b.dispose=function(){pinetreepages.PageBase.prototype.dispose.call(this)};b.toString=function(){return"[Object TeamPage]"};pinetreepages.TeamPage=a}());(function(){var a=function(c){pinetreepages.ViewBase.call(this,c);this._logoWidth=pt.config.logo.width||0;this._logoHeight=pt.config.logo.height||0;this._logoX=pt.config.logo.x;this._logoURL=pt.config.logo.url;this._logo=null;this._deviceBg=null;this._normalNav=null;this._deviceNav=null;this.mouseEnabled=this.mouseChildren=false;this.resizePriority=pinetree.EventDispatcher.MAX_PRIORITY;__defineGetterSetter(this,["navigation"])};var b=__extends(a,pinetreepages.ViewBase);b.addedToStage=function(){pinetreepages.ViewBase.prototype.addedToStage.call(this)};b.initUI=function(){this._logo=new pinetreecom.Thumbnail(this._logoWidth,this._logoHeight,0,0,false,null,true,null,true);this._logo.visible=false;this._logo.buttonMode=true;this._logo.ON_LOAD_COMPLETE.add(this,this.onLoadThumbComplete);this._logo.addEventListener(pinetree.MouseEvent.CLICK,this._onClickLogo,this);this._normalNav=new pinetreepages.Navigation(pinetreepages.configUtil.getVisibleMenuData());this._normalNav.ON_CHANGE.add(this,this._onNavChange);this._normalNav.menuOffsetX=this._logoWidth+this._logoX+50;this.y=pt.stageHeight-pt.FOOTER_HEIGHT;this.addChildAt(this._normalNav,0);this._normalNav.init();this._deviceNav=new pinetreepages.DeviceNavigation(pinetreepages.configUtil.getVisibleMenuData());this._deviceNav.ON_CHANGE.add(this,this._onNavChange);pinetree.staticDeviceStage.addChild(this._deviceNav);this._deviceNav.parentView=this;this._deviceNav.init();this._deviceBg=new pinetree.Quad();pinetree.staticStage.addChildAt(this._deviceBg,0);this._deviceBg.color=pt.bgColor;this._deviceBg.alpha=0;this._deviceBg.visible=false;this.redraw();pinetreecom.DelayCaller.delayCall(this,this._delayShow,this._navigation.tweenTime)};b._onClickLogo=function(c){var d=pinetreepages.configUtil.siteMenuData[0];if(d){pinetreecom.LinkManager.to(d.id)}};b.showMenuAndLogo=function(c){var d=c?1:0;this._logo.alpha=d;this._deviceNav.menuBtn.alpha=d;this._logo.mouseEnabled=c;this._deviceNav.menuBtn.mouseEnabled=c};b.updateNav=function(){var d,c;if(pinetree.isSmallMode){d=100;c=(pt.TOP_HEIGHT-this._logo.height)>>1;if(c<0){c=0}this._normalNav.close();this._normalNav.visible=false;this._deviceNav.visible=true;this._navigation=this._deviceNav;pinetree.staticStage.addChild(this._logo);this._navigation.addChild(pt.footerPage)}else{d=this._logoX;c=Math.ceil((pt.FOOTER_HEIGHT_CONST-this._logo.height)/2);if(c+this._logo.height>pt.FOOTER_HEIGHT_CONST){c=pt.FOOTER_HEIGHT_CONST-this._logo.height}this._deviceNav.close();this._deviceNav.visible=false;this._normalNav.visible=true;this._navigation=this._normalNav;this._normalNav.addChild(this._logo);pinetreesite.siteController.bringToTop(pt.footerPage)}if(this._logo){this._logo.x=d;this._logo.y=c}};b.onLoadThumbComplete=function(c){if(c){this._logo.visible=true;this.redraw()}};b._delayShow=function(){this._logo.load(this._logoURL);this.redraw();this.mouseEnabled=this.mouseChildren=true};b.setSelectedIndexById=function(d,c){this._normalNav.setSelectedIndexById(d,c);this._deviceNav.setSelectedIndexById(d,c)};b.tweenBgAlpha=function(d){if(!pinetree.isDevice){var c=this._normalNav.bg;if(c&&c.alpha!=d){TweenMax.to(c,this.tweenTime,{alpha:d,ease:Linear.easeNone})}c=pt.footerPage.bg;if(c&&c.alpha!=d){TweenMax.to(c,this.tweenTime,{alpha:d,ease:Linear.easeNone})}}};b.showDeviceBg=function(c){if(!this._deviceBg){return}TweenMax.killTweensOf(this._deviceBg);if(c){this._deviceBg.visible=true;if(!this._deviceBg.tweenAlphaByCSS(0.95,this.tweenTime/3,0,"linear")){TweenMax.to(this._deviceBg,this.tweenTime/3,{alpha:0.95,ease:Linear.easeNone})}}else{if(!this._deviceBg.tweenAlphaByCSS(0,this.tweenTime/5,0,"linear",this._onHideDeviceBgComplete,[this._deviceBg])){TweenMax.to(this._deviceBg,this.tweenTime/5,{alpha:0,ease:Linear.easeNone,onComplete:this._onHideDeviceBgComplete,onCompleteParams:[this._deviceBg]})}}};b._onHideDeviceBgComplete=function(c){c.visible=false};b.getNavigation=function(){return this._navigation};b._onNavChange=function(c){pinetreesite.siteController.gotoPage(c)};b.resize=function(c,d){this.updateNav();this._navigation.update(c,d);if(pinetree.isSmallMode){if(this._deviceBg){this._deviceBg.width=c;this._deviceBg.height=d}pt.footerPage.y=0}else{TweenMax.killTweensOf(this._navigation,false,{y:true});this.y=pt.config.menuPosition=="bottom"?d-pt.currentBottomHeight:0;pt.footerPage.y=d-pt.currentBottomHeight}};b.toString=function(){return"[Object NavView]"};pinetreepages.NavView=a}());(function(){var a=function(c){pinetree.Sprite.call(this);this.startY=0;this.transition=Quad.easeOut;this.tweenTime=1;this._data=c;this._childItems=null;this._mainMenu=null;this.menuOffsetX=0;this._stageBg=null;this._bg=null;this._bgAlpha=pt.bgAlpha;this._isShowingChild=false;this._prevSelected="";this._currentSelected="";this._currentSelectedName="";this._showingChildId="";this._menuStartX=0;this._triggerRect=null;this.ON_CHANGE=new pinetree.Signal();__defineGetterSetter(this,["bg"])};var b=__extends(a,pinetree.Sprite);b.init=function(){this._mainMenu=new pinetreepages.MainContainer(pt.onOverMainMenuColor,pt.onOutMainMenuColor,pt.onSelectMainMenuColor,22,12,0,0,0,0,0,0);this.addChild(this._mainMenu);this._mainMenu.selectable=false;this._mainMenu.x=this.menuOffsetX;this._mainMenu.initWithData(this._data);this._mainMenu.ON_OVER.add(this,this._onOverMainMenuItem);this._mainMenu.ON_OUT.add(this,this._onOutMainMenuItem);this._mainMenu.ON_CLICK.add(this,this._onClickMainMenuItem);this._bg=new pinetree.Quad();this._bg.alpha=this._bgAlpha;this._bg.color=pt.bgColor;this.addChildAt(this._bg,0);this._bg.width=pt.stageWidth;this._bg.height=pt.FOOTER_HEIGHT_CONST;var e;var d=this._data.length;var h;this._childItems={};this._mainMenu.showMenu(this.tweenTime,this.tweenTime*0.8,0.1);this._mainMenu.y=Math.floor((pt.FOOTER_HEIGHT_CONST-this._mainMenu.height)/2);this._stageBg=new pinetree.Quad();this._stageBg.alpha=0;this._stageBg.color=0;this._stageBg.width=pt.stageWidth;this._stageBg.height=pt.stageHeight;var c;var j=pt.config.menuPosition=="bottom";for(var g=0;g<d;g++){e=this._data[g];if(e.hasChild){c=this._mainMenu.getItem(g);h=new pinetreepages.ChildContainer(pt.onOverChildMenuColor,pt.onOutChildMenuColor,pt.onSelectChildMenuColor,12,12,0,0,0,0,0,0);h.mainWidth=c.width;this._mainMenu.addChildAt(h,0);h.ON_CLICK.add(this,this._onClickChildMenuItem);h.addEventListener(pinetree.MouseEvent.ROLL_OUT,this._onChildOut,this);h.tweenTime=0.4;h.initWithData(e.childs);this._childItems[e.id]=h;h.x=h.originX=c.x;if(j){h.y=h.originY=-h.contentHeight+pt.FOOTER_HEIGHT_CONST-this._mainMenu.y}else{h.y=h.originY=pt.FOOTER_HEIGHT_CONST-this._mainMenu.y}h.visible=false;h.hide()}}};b._showMainMenuComplete=function(){this._mainMenu.mouseChildren=true};b._onOverMainMenuItem=function(d,c){d.over();if(d.data.hasChild){this._showChildMenu(d)}else{this._hideChildMenu()}};b._onOutMainMenuItem=function(d,c){if(!d.data.hasChild){this._mainMenu.tweenOutAllItem()}};b._showChildMenu=function(g){var d=g?g.data:null;var c;for(var e in this._data){c=this._data[e];if(c!=d&&c.hasChild){this._childItems[c.id].mouseEnabled=this._childItems[c.id].mouseChildren=false;this._childItems[c.id].hide()}}if(d){this._isShowingChild=true;this._showingChildId=d.id;this._childItems[d.id].show();this._childItems[d.id].mouseEnabled=this._childItems[d.id].mouseChildren=true}else{}pinetreesite.siteController.bringToMiddle(this._stageBg,0);TweenMax.killTweensOf(this._stageBg);TweenMax.to(this._stageBg,this.tweenTime/3,{alpha:0.5})};b._hideChildMenu=function(){if(!this._isShowingChild){return}this._mainMenu.tweenOutAllItem();this._isShowingChild=false;this._showingChildId="";this._showChildMenu(null);TweenMax.killTweensOf(this._stageBg);TweenMax.to(this._stageBg,this.tweenTime/3,{alpha:0,onComplete:this._onHideStageBgComplete,onCompleteParams:[this._stageBg]})};b._onHideStageBgComplete=function(c){c&&c.removeFromParent()};b.close=function(){TweenMax.killTweensOf(this._stageBg);this._stageBg.alpha=0;this._stageBg.removeFromParent()};b.stretchMainMenuBg=function(g,e){var h=0;if(g){var d=e.contentHeight;var c=d+pt.FOOTER_HEIGHT_CONST;TweenMax.to(this._bg,this.tweenTime,{height:c,ease:Quart.easeOut})}else{TweenMax.to(this._bg,this.tweenTime,{height:pt.FOOTER_HEIGHT_CONST,ease:Quart.easeOut});h=pt.FOOTER_HEIGHT_CONST}};b._onClickChildMenuItem=function(d,c){if(d.data.isLink){this._handlerExternallink(d.data);return}this._onMenuOut();this.setSelectedIndexById(d.data.id)};b._onClickMainMenuItem=function(c){if(!c.data.hasChild){if(c.data.isLink){this._handlerExternallink(c.data);return}this._onMenuOut();this.setSelectedIndexById(c.data.id)}};b._handlerExternallink=function(c){navigateToURL(c.link,c.window)};b._onChildOut=function(c){this._hideChildMenu()};b._onMenuOut=function(){this._hideChildMenu();this._mainMenu.tweenOutAllItem()};b._hideMainMenuComplete=function(){this._mainMenu.visible=false};b.getMainMenuWidth=function(){return this._mainMenu.contentWidth};b.getBg=function(){return this._bg};b.setSelectedIndexById=function(d,g){if(this._currentSelected==d){return}g=__defaultSet(g,false);this._prevSelected=this._currentSelected;this._currentSelected=d;pt.currentPageID=this._currentSelected;pt.prevPageID=this._prevSelected;var c;var n;var l,h;var m,e;var p;var k=-1;m=this._data.length;loop:for(l=0;l<m;l++){c=this._data[l];if(c.hasChild){e=c.childs.length;for(h=0;h<e;h++){n=c.childs[h];if(n.id==d){p=l;k=h;this._currentSelectedName=n.name;break loop}}}else{if(c.id==d){p=l;this._currentSelectedName=c.name;break}}}if(p==undefined){return}this._mainMenu.selectItem(p);var c;for(var o in this._data){c=this._data[o];c.hasChild&&this._childItems[c.id].unselectItems()}if(k>=0){c=this._data[p];this._childItems[c.id].selectItem(k)}if(!g){this.ON_CHANGE.dispatch(d)}};b.update=function(c,d){if(this._bg){this._bg.width=c}if(this._stageBg){this._stageBg.width=c;this._stageBg.height=d}};b.dispose=function(){this._mainMenu.dispose();var c;for(var d in this._data){c=this._data[d];if(c.hasChild){this._childItems[c.id].dispose()}}this.ON_CHANGE&&this.ON_CHANGE.removeAll();this.ON_CHANGE=null};pinetreepages.Navigation=a}());(function(){var a=function(c){pinetree.Sprite.call(this);this.menuBtn=null;this._menuOpenTexture=pinetreepages.assetsMgr.getCommonTexture(pinetreepages.EnumTextures.DEVICE_MENU_ICON);this._menuCloseTexture=pinetreepages.assetsMgr.getCommonTexture(pinetreepages.EnumTextures.DEVICE_CLOSE_MENU_ICON);this.startY=pt.TOP_HEIGHT+30;this.transition=Quad.easeOut;this.tweenTime=1;this._data=c;this._childItems=null;this._mainMenu=null;this.edgeX=35;this._mainMenuX=20;this._childMenuX=35;this._bgWidth=pt.stageWidth;this._bgAlpha=0.9;this._isShowingMenu=false;this._isShowingChild=false;this._prevSelected="";this._currentSelected="";this._currentSelectedName="";this._showingChildIndex="";this._menuStartX=0;this.parentView=null;this.ON_CHANGE=new pinetree.Signal();this.x=-this._bgWidth;__defineGetterSetter(this,["isShowingMenu"])};var b=__extends(a,pinetree.Sprite);b.init=function(){this.menuBtn=new pinetreecom.TextureButton(pt.onOutColor,pt.onOutColor,pt.bgColor,pt.bgColor,1,0.9,0,0);this.menuBtn.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onClickMenuBtn,this);this.menuBtn.setTextures(this._menuOpenTexture,null);this.menuBtn.show();pinetree.staticStage.addChildAt(this.menuBtn,1);this.menuBtn.x=5;this.menuBtn.y=(pt.TOP_HEIGHT-this.menuBtn.height)>>1;this._mainMenu=new pinetreepages.DeviceMainContainer(pt.onOverMainMenuColor,pt.onOutMainMenuColor,pt.onSelectMainMenuColor,20,10,0,0,0,0,0,0);this.addChild(this._mainMenu);this._mainMenu.startX=this._mainMenuX;this._mainMenu.initWithData(this._data);this._mainMenu.contentWidth=this._bgWidth;this._mainMenu.ON_OVER.add(this,this._onOverMainMenuItem);this._mainMenu.ON_OUT.add(this,this._onOutMainMenuItem);this._mainMenu.ON_CLICK.add(this,this._onClickMainMenuItem);this._topBg=new pinetree.Quad();pinetree.staticStage.addChildAt(this._topBg,0);this._topBg.color=pt.bgColor;this._topBg.alpha=this._bgAlpha;this._topBg.width=pt.stageWidth;this._topBg.height=pt.TOP_HEIGHT;var e;var d=this._data.length;var h;this._childItems={};var c;for(var g=0;g<d;g++){e=this._data[g];if(e.hasChild){h=new pinetreepages.DeviceChildContainer(pt.onOverChildMenuColor,pt.onOutColor,pt.onSelectChildMenuColor,30,12,0,0,0,0,0,0);this.addChild(h);h.ON_CLICK.add(this,this._onClickChildMenuItem);h.tweenTime=0.4;h.edgeX=this.edgeX;h.initWithData(e.childs);h.visible=false;this._childItems[e.id]=h;c=this._mainMenu.getItem(g);h.x=h.originX=this._childMenuX;h.y=h.originY=Math.floor(this.startY+c.y+75);h.hide()}}this._mainMenu.y=this.startY;this._mainMenu.showMenu(this.tweenTime,0,0)};b._onClickMenuBtn=function(c){if(this._isShowingMenu){TweenMax.to(this,this.tweenTime/5,{x:-this._bgWidth,ease:Cubic.easeOut});this._hideChildMenu()}else{TweenMax.to(this,this.tweenTime*0.5,{x:0,ease:Cubic.easeOut});window.scrollTo(0,0)}this._isShowingMenu=!this._isShowingMenu;if(this.parentView){this.parentView.showDeviceBg(this._isShowingMenu)}this.refreshMenuButton()};b.refreshMenuButton=function(){var c=this._isShowingMenu?this._menuCloseTexture:this._menuOpenTexture;this.menuBtn.setTextures(c,null)};b.close=function(){if(!this._isShowingMenu){return}this._isShowingMenu=false;TweenMax.to(this,this.tweenTime/5,{x:-this._bgWidth,ease:Cubic.easeOut});this._hideChildMenu();if(this.parentView){this.parentView.showDeviceBg(this._isShowingMenu)}this.refreshMenuButton()};b._onCloseMenu=function(c){this.close()};b.setVisible=function(c){pinetree.Sprite.prototype.setVisible.call(this,c);this._topBg.visible=c;this.menuBtn.visible=c};b.getIsShowingMenu=function(){return this._isShowingMenu};b.hide=function(){this.x=-this._bgWidth;this._isShowingMenu=false;this._hideChildMenu();if(this.parentView){this.parentView.showDeviceBg(this._isShowingMenu)}this.refreshMenuButton()};b._showMainMenuComplete=function(){this._mainMenu.mouseChildren=true};b._onOverMainMenuItem=function(d,c){d.over()};b._onOutMainMenuItem=function(d,c){this._mainMenu.tweenOutAllItem()};b._showChildMenu=function(g){var d=g?g.data:null;var c;for(var e in this._data){c=this._data[e];if(c!=d&&c.hasChild){this._childItems[c.id].hide()}}if(d){if(this._isShowingChild){this._mainMenu.closeChildSpace(this._showingChildIndex,this.tweenTime*0.2,Delegate.create(this,this._onCloseComplete,d.index==this._showingChildIndex?null:d));return}this._isShowingChild=true;this._showingChildIndex=d.index;this._mainMenu.openChildSpace(d.index,this._childItems[d.id].contentHeight+40,0,Delegate.create(this,this._onOpenComplete,d))}};b._onCloseComplete=function(c){this._isShowingChild=false;if(c){this._showChildMenu(this._mainMenu.getItem(c.index))}};b._onOpenComplete=function(c){this._childItems[c.id].show(this.tweenTime*0.2)};b._hideChildMenu=function(){if(!this._isShowingChild){return}var c=this._data[this._showingChildIndex];if(c){this._childItems[c.id].hide();this._mainMenu.closeChildSpace(this._showingChildIndex,this.tweenTime*0.2,Delegate.create(this,this._onCloseComplete,null))}};b._onClickBack=function(){this._hideChildMenu()};b._onClickChildMenuItem=function(d,c){if(d.data.isLink){this._handlerExternallink(d.data);return}this._onMenuOut(null);this.setSelectedIndexById(d.data.id)};b._onClickMainMenuItem=function(c){if(!c.data.hasChild){if(c.data.isLink){this._handlerExternallink(c.data);return}this._onMenuOut(null);this.setSelectedIndexById(c.data.id)}else{if(!this._isShowingChild||c.data.index!=this._showingChildIndex){this._showChildMenu(c)}else{this._hideChildMenu()}}};b._handlerExternallink=function(c){navigateToURL(c.link,c.window)};b._onMenuOut=function(c){this._mainMenu.tweenOutAllItem()};b._hideMainMenuComplete=function(){this._mainMenu.visible=false};b.setSelectedIndexById=function(d,g){if(this._currentSelected==d){return}g=__defaultSet(g,false);if(this.x>-this._bgWidth){TweenMax.killTweensOf(this,false,{x:true});TweenMax.to(this,this.tweenTime*0.5,{x:-this._bgWidth,ease:Cubic.easeOut});this._hideChildMenu();this._isShowingMenu=false;if(this.parentView){this.parentView.showDeviceBg(this._isShowingMenu)}this.refreshMenuButton()}this._prevSelected=this._currentSelected;this._currentSelected=d;pt.currentPageID=this._currentSelected;pt.prevPageID=this._prevSelected;var c;var n;var l,h;var m,e;var p;var k=-1;m=this._data.length;loop:for(l=0;l<m;l++){c=this._data[l];if(c.hasChild){e=c.childs.length;for(h=0;h<e;h++){n=c.childs[h];if(n.id==d){p=l;k=h;this._currentSelectedName=n.name;break loop}}}else{if(c.id==d){p=l;this._currentSelectedName=c.name;break}}}if(p==undefined){return}this._mainMenu.selectItem(p);var c;for(var o in this._data){c=this._data[o];c.hasChild&&this._childItems[c.id].unselectItems()}if(k>=0){c=this._data[p];this._childItems[c.id].selectItem(k)}if(!g){this.ON_CHANGE.dispatch(d)}};b.update=function(e,j){this.startY=pt.TOP_HEIGHT+30;this.menuBtn.y=(pt.TOP_HEIGHT-this.menuBtn.height)>>1;this._topBg.width=e;this._topBg.height=pt.TOP_HEIGHT;this._bgWidth=e;if(!this._isShowingMenu){this.x=-this._bgWidth}var d,g,k,c=this._data.length;for(var h=0;h<c;h++){g=this._data[h];if(g.hasChild){d=this._mainMenu.getItem(h);k=this._childItems[g.id];k.y=k.originY=Math.floor(this.startY+d.y+75)}}this._mainMenu.y=this.startY};b.dispose=function(){this._mainMenu.dispose();var c;for(var d in this._data){c=this._data[d];if(c.hasChild){this._childItems[c.id].dispose()}}this.ON_CHANGE&&this.ON_CHANGE.removeAll();this.ON_CHANGE=null;if(this.menuBtn){this.menuBtn.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._onClickMenuBtn,this);this.menuBtn.dispose();this.menuBtn=null}pinetree.Sprite.prototype.dispose.call(this)};pinetreepages.DeviceNavigation=a}());(function(){var a=function(){this.index=0;this.parent=null;this.name="";this.childs=[];this.src="";this.dataSize=0;this.link="";this.window="_blank";this.isLink=false;this.thumburl="";this.id="";this.bg="";this.bgCoverAlpha=0;this.menuBgAlpha=0.8;this.module="";this.classRef="";this.depth="bottom";this.showParticleAnimation=false;this.hidden=false;this.onOverColor=0;this.onOutColor=0;this.bgColor=0;this.textColor=0;__defineGetterSetter(this,["hasChild","available"])};a.from=function(d){var c=new pinetreepages.NavVo();c.name=d.name;c.src=d.src;c.dataSize=d.dataSize||0;c.window=d.window;c.isLink=d.link&&d.link!="";c.link=d.link;c.thumburl=d.thumburl||c.thumburl;c.id=d.id;c.bg=d.bg||"";c.bgCoverAlpha=__defaultSet(d.bgCoverAlpha,c.bgCoverAlpha);c.menuBgAlpha=__defaultSet(d.menuBgAlpha,c.menuBgAlpha);c.module=d.module||"";c.depth=d.depth||c.depth;c.showParticleAnimation=__defaultSet(d.showParticleAnimation,c.showParticleAnimation);c.hidden=!!d.hidden;c.onOverColor=__defaultSet(d.onOverColor,pt.onOverColor);return c};var b=a.prototype;b.getHasChild=function(){return this.childs.length>0};b.getAvailable=function(){return this.id!=""||this.getHasChild()};pinetreepages.NavVo=a}());(function(){var a=function(i,l,e,g,m,d,j,k,c,h){pinetree.Sprite.call(this);this._data=i;this.selectable=false;this._isAniType=false;this._available=true;this._isSelected=false;this.originX=0;this.originY=0;this.txt=null;this.bg=null;this.hasChild=false;this.tweenTime=1;this.transition=Quad.easeOut;this.fontSizeToggle=false;this.ON_OVER=new pinetree.Signal();this.ON_OUT=new pinetree.Signal();this.ON_CLICK=new pinetree.Signal();this._bgHeight=h!=undefined?h:-1;this._onOverBgColor=m||0;this._onOutBgColor=d||0;this._onSelectBgColor=j||0;this._onOverBgAlpha=k||0;this._onOutBgAlpha=c||0;this._onOverColor=l;this._onOutColor=e;this._onSelectColor=(!g||g<0)?l:g;__defineGetterSetter(this,["data","text","selected","fontSize"])};var b=__extends(a,pinetree.Sprite);b.getData=function(){return this._data};b.addedToStage=function(){if(!this.isInitialized){this.bg=new pinetree.Quad();this.addChild(this.bg);this.txt=new pinetree.TextField();this.addChild(this.txt);this.text=this._data?this._data.name:" ";this.bg.width=this.txt.textWidth;this.bg.height=this._bgHeight!=-1?this._bgHeight:this.txt.height;this.bg.color=this._onOutBgColor;this.bg.alpha=this._onOutBgAlpha;this.buttonMode=true;this.mouseChildren=false;this.addEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOver,this);this.addEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this.addEventListener(pinetree.MouseEvent.CLICK,this.onClick,this);this.txt.textColor=this._onOutColor;this.available=this._data?this._data.available:true}pinetree.Sprite.prototype.addedToStage.call(this)};b.setText=function(c){this.txt.text=c};b.setFontSize=function(c){if(!this.fontSizeToggle){return}this.txt.fontSize=c;this.bg.height=this._bgHeight!=-1?this._bgHeight:this.txt.height};b.setSelected=function(c){this._isSelected=c;if(c){if(!this.hasChild){this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this.mouseEnabled=false}this.bg.stopTweenColor();TweenMax.killTweensOf(this.bg);this.bg.tweenColor(this._onSelectBgColor,this.tweenTime/2,this.transition);this.txt.tweenColor(this._onSelectColor,this.tweenTime/2,this.transition)}else{this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this.addEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this.mouseEnabled=true;this.txt.tweenColor(this._onOutColor,this.tweenTime/2,this.transition)}};b.setIsAniType=function(c){this._isAniType=c};b.onOver=function(c){this.txt.stopTweenColor();this.txt.tweenColor(this._onOverColor,this.tweenTime/2,this.transition);this._isAniType&&TweenLite.to(this.txt,this.tweenTime/2,{x:this.originX+10,ease:Quart.easeOut});this.bg.tweenColor(this._onOverBgColor,this.tweenTime/2,this.transition);TweenMax.to(this.bg,this.tweenTime/2,{alpha:this._onOverBgAlpha,ease:this.transition});this.ON_OVER.dispatch(this,c)};b.onOut=function(c){var d=this.hasChild?this._onSelectColor:this._onOutColor;this.txt.stopTweenColor();this.txt.tweenColor(this._onOutColor,this.tweenTime/2,this.transition);this._isAniType&&TweenLite.to(this.txt,this.tweenTime/2,{x:this.originX,ease:Quart.easeOut});this.bg.tweenColor(this._onOutBgColor,this.tweenTime/2,this.transition);TweenMax.to(this.bg,this.tweenTime/2,{alpha:this._onOutBgAlpha,ease:this.transition});this.ON_OUT.dispatch(this,c)};b.onClick=function(c){this.ON_CLICK.dispatch(this,c)};b.getAvailable=function(){return this._available};b.setAvailable=function(c){this._available=c;this.mouseEnabled=this._available};b.dispose=function(){this.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOver,this);this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this.removeEventListener(pinetree.MouseEvent.CLICK,this.onClick,this);this.ON_OVER&&this.ON_OVER.removeAll();this.ON_OUT&&this.ON_OUT.removeAll();this.ON_CLICK&&this.ON_CLICK.removeAll();this.ON_OVER=null;this.ON_OUT=null;this.ON_CLICK=null};pinetreepages.MenuItem=a}());(function(){var a=function(m,e,g,i,l,n,d,j,k,c,h){pinetree.Sprite.call(this);this._data=null;this._dataCount=0;this._items=null;this.originX=0;this.originY=0;this._onOverColor=m;this._onOutColor=e;this._onSelectColor=g!=undefined?g:m;this._onOverBgColor=n||0;this._onOutBgColor=d||0;this._onSelectBgColor=j||0;this._onOverBgAlpha=k||0;this._onOutBgAlpha=c||0;this._bgWidth=0;this._bgHeight=0;this.mainWidth=0;this._gap=i||0;this._fontSize=l||14;this._bg=new pinetree.Shape();this.addChild(this._bg);this._bg.className="shadow_20px";this._contentWidth=0;this._contentHeight=0;this.edgeX=0;this.tweenTime=1;this.transition=Quad.easeOut;this.ON_CLICK=new pinetree.Signal();this.ON_OVER=new pinetree.Signal();this.ON_OUT=new pinetree.Signal();__defineGetterSetter(this,["contentWidth","contentHeight"])};var b=__extends(a,pinetree.Sprite);b.initWithData=function(d){if(!d){return}this._data=d;this._dataCount=d.length;this._setup();var e=20;var c=this._bg.graphics;c.lineStyle(0,0,0);c.beginFill(pt.childMenuBgColor,1);if(pt.config.menuPosition=="bottom"){c.moveTo(0,0);c.lineTo(this._bgWidth,0);c.lineTo(this._bgWidth,this._bgHeight-pt.FOOTER_HEIGHT_CONST-1);c.lineTo(this.mainWidth+e,this._bgHeight-pt.FOOTER_HEIGHT_CONST-1);c.lineTo(this.mainWidth+e,this._bgHeight-1);c.lineTo(0,this._bgHeight-1);c.lineTo(0,0)}else{c.moveTo(0,0);c.lineTo(this.mainWidth+e,0);c.lineTo(this.mainWidth+e,pt.FOOTER_HEIGHT_CONST+1);c.lineTo(this._bgWidth,pt.FOOTER_HEIGHT_CONST+1);c.lineTo(this._bgWidth,this._bgHeight);c.lineTo(0,this._bgHeight);c.lineTo(0,0)}c.stroke();c.endFill();this._bg.x=-e>>1};b._setup=function(){var d,g,c=this._data.length;this._items=[];this._contentWidth=0;this._contentHeight=0;var h=20;for(var e=0;e<c;e++){d=this._data[e];g=new pinetreepages.ChildMenuItem(d,this._onOverColor,this._onOutColor,this._onSelectColor,this._onOverBgColor,this._onOutBgColor,this._onSelectBgColor,this._onOverBgAlpha,this._onOutBgAlpha,0);this.addChild(g);g.isAniType=false;g.id=e;g.fontSize=this._fontSize;g.ON_CLICK.add(this,this.onClick);g.ON_OVER.add(this,this.onOver);g.ON_OUT.add(this,this.onOut);g.bg.visible=false;g.txt.textColor=this._onOutColor;g.y=this._contentHeight+h-8;if(this._contentWidth<g.width){this._contentWidth=g.width}this._contentHeight+=this._gap+g.height;this._items.push(g)}this._contentWidth+=50;this._contentHeight+=pt.FOOTER_HEIGHT_CONST+h;this._bgWidth=this._contentWidth;this._bgHeight=this._contentHeight;if(pt.config.menuPosition=="top"){this._bg.y=-pt.FOOTER_HEIGHT_CONST}};b.onClick=function(d,c){this.ON_CLICK.dispatch(d,c)};b.onOver=function(d,c){if(d){d.txt.tweenColor(this._onOverColor,this.tweenTime,this.transition);d.over();this.ON_OVER.dispatch(d,c)}};b.onOut=function(d,c){if(d){d.txt.tweenColor(this._onOutColor,this.tweenTime,this.transition);d.out();this.ON_OUT.dispatch(d,c)}};b.selectItem=function(c){this.unselectItems(c);if(this._items[c]){this._items[c].selected=true;this._items[c].txt.testColor=this._onOverColor}};b.unselectItems=function(d){var g;var c=this._data.length;for(var e=0;e<c;e++){g=this._items[e];if(g&&g.id!=d){g.txt.tweenColor(this._onOutColor,g.tweenTime,g.transition);g.out();g.selected=false}}};b.setContentWidth=function(c){this._contentWidth=c};b.getContentHeight=function(){return this._contentHeight};b.show=function(c){this.visible=true;this.mouseChildren=true;TweenMax.killTweensOf(this);TweenMax.to(this,this.tweenTime,{alpha:1,delay:c||0,ease:this.transition});pt.isShowingChild=true};b.hide=function(c){this.mouseChildren=false;TweenMax.killTweensOf(this);TweenMax.to(this,this.tweenTime,{alpha:0,ease:this.transition,delay:c||0,onComplete:Delegate.create(this,this._hideComplete)});pt.isShowingChild=false};b._hideComplete=function(){this.visible=false};b.dispose=function(){var d;for(var c in this._items){d=this._items[c];if(d){d.dispose()}}this._items.splice(0,this._items.length);this.ON_CLICK&&this.ON_CLICK.removeAll();this.ON_OVER&&this.ON_OVER.removeAll();this.ON_OUT&&this.ON_OUT.removeAll();this.ON_CLICK=null;this.ON_OVER=null;this.ON_OUT=null};pinetreepages.ChildContainer=a}());(function(){var a=function(m,e,g,i,l,n,d,j,k,c,h){pinetree.Sprite.call(this);this._data=null;this._items=null;this._onOverColor=m;this._onOutColor=e;this._onSelectColor=g!=undefined?g:m;this._onOverBgColor=n||0;this._onOutBgColor=d||0;this._onSelectBgColor=j||0;this._onOverBgAlpha=k||0;this._onOutBgAlpha=c||0;this._bgHeight=h||40;this._gap=i||0;this._fontSize=l||16;this._contentWidth=0;this._contentHeight=0;this.tweenTime=1;this.transition=Quad.easeOut;this.ON_CLICK=new pinetree.Signal();this.ON_OVER=new pinetree.Signal();this.ON_OUT=new pinetree.Signal();__defineGetterSetter(this,["contentWidth","contentHeight"])};var b=__extends(a,pinetree.Sprite);b.initWithData=function(c){this._data=c;this._setup()};b._setup=function(){var d,g,c=this._data.length;this._items=[];this.removeAllChildren();this._contentWidth=0;for(var e=0;e<c;e++){d=this._data[e];if(!(d instanceof pinetreepages.NavVo)){trace("vo is not a NavVo, at MainContainer::_setup()");continue}g=new pinetreepages.MainMenuItem(d,this._onOverColor,this._onOutColor,this._onSelectColor,this._onOverBgColor,this._onOutBgColor,this._onSelectBgColor,this._onOverBgAlpha,this._onOutBgAlpha,this._bgHeight);this.addChild(g);g.hasChild=d.hasChild;g.id=e;g.fontSize=this._fontSize;g.ON_CLICK.add(this,this.onClick);g.ON_OVER.add(this,this.onOver);g.ON_OUT.add(this,this.onOut);g.x=this._contentWidth;this._contentWidth+=g.txt.width+this._gap;if(this._contentHeight==0){this._contentHeight=g.txt.height}g.visible=false;g.tweenTime=0.5;g.bg.width=g.txt.width;this._items.push(g)}};b.onClick=function(d,c){this.ON_CLICK.dispatch(d,c)};b.selectItem=function(c){this.unselectItems(c);var d=this._items[c];if(d){d.selected=true}};b.unselectItems=function(d){if(d==undefined){d=-1}var g;var c=this._data.length;for(var e=0;e<c;e++){g=this._items[e];if(g&&g.id!=d){g.selected=false}}};b.onOver=function(e,c){for(var d in this._items){if(e!=this._items[d]){this._items[d].forceOut()}}this.ON_OVER.dispatch(e,c)};b.onOut=function(d,c){this.ON_OUT.dispatch(d,c)};b.tweenOutAllItem=function(d){var c=d!=undefined&&d!=-1?this._items[d]:null;for(var e in this._items){if(this._items[e]!=c){this._items[e].out()}}};b.showMenu=function(j,g,e,k){if(j==undefined){j=1}if(g==undefined){g=0}if(e==undefined){g=0.1}var d,c=this._items.length;for(var h=0;h<c;h++){d=this._items[h];if(d){d.alpha=0;d.visible=true;TweenMax.to(d,j,{alpha:0.9,delay:g+e*h,ease:this.transition,onComplete:Delegate.create(this,this.tweenComplete),onCompleteParams:[h,c-1,k]})}}};b.hideMenu=function(j,g,e,k){if(j==undefined){j=1}if(g==undefined){g=0}if(e==undefined){g=0.1}var d,c=this._items.length;for(var h=c-1;h>=0;h--){d=this._items[h];if(d){TweenMax.to(d,j,{alpha:0,delay:g+e*(c-1-h),ease:this.transition,onComplete:Delegate.create(this,this.tweenComplete),onCompleteParams:[h,0,k]})}}};b.tweenComplete=function(d,c,e){if(d==c){e&&e()}};b.getItem=function(c){return this._items[c]};b.getItemByID=function(g){var d;var c=this._data.length;for(var e=0;e<c;e++){d=this._data[e];if(d.id==g){return this.getItem(e)}}return null};b.getContentWidth=function(){return this._contentWidth};b.getContentHeight=function(){return this._contentHeight};b.getHeight=function(){return this._contentHeight};b.dispose=function(){for(var c in this._items){this._items[c].dispose()}this.ON_CLICK&&this.ON_CLICK.removeAll();this.ON_OVER&&this.ON_OVER.removeAll();this.ON_OUT&&this.ON_OUT.removeAll();this.ON_CLICK=null;this.ON_OVER=null;this.ON_OUT=null};pinetreepages.MainContainer=a}());(function(){var a=function(i,l,e,g,m,d,j,k,c,h){pinetreepages.MenuItem.call(this,i,l,e,g,m,d,j,k,c,h);this.className=this._className+" childmenu";this.bgWidth=0};var b=__extends(a,pinetreepages.MenuItem);b.addedToStage=function(){pinetreepages.MenuItem.prototype.addedToStage.call(this);this.buttonMode=true};b.onOver=function(c){pinetreepages.MenuItem.prototype.onOver.call(this,c)};b.onOut=function(c){pinetreepages.MenuItem.prototype.onOut.call(this,c)};b.setSelected=function(c){pinetreepages.MenuItem.prototype.setSelected.call(this,c);this.over()};b.over=function(){};b.out=function(){};b.forceOut=function(){this.out()};b.dispose=function(){TweenMax.killTweensOf(this);pinetreepages.MenuItem.prototype.dispose.call(this)};pinetreepages.ChildMenuItem=a}());(function(){var b=function(i,l,e,g,m,d,j,k,c,h){pinetreepages.MenuItem.call(this,i,l,e,g,m,d,j,k,c,h);this.className=this._className+" mainmenu";this.onOverRectAlpha=0.5;this.onOutRectAlpha=0.1;this.bgRect=new pinetree.Shape();this.bgRect.alpha=this.onOutRectAlpha};var a=__extends(b,pinetreepages.MenuItem);a.setText=function(c){pinetreepages.MenuItem.prototype.setText.call(this,c)};a.onOver=function(c){pinetreepages.MenuItem.prototype.onOver.call(this,c)};a.onOut=function(c){if(!this.data.hasChild){pinetreepages.MenuItem.prototype.onOut.call(this,c)}};a.setSelected=function(d){pinetreepages.MenuItem.prototype.setSelected.call(this,d);var c=this._isSelected?this._onSelectBgColor:this._onOutBgColor;this.bg.tweenColor(c,this.tweenTime/2,this.transition);var e=d?this.onOverRectAlpha:this.onOutRectAlpha;TweenMax.to(this.bgRect,this.tweenTime,{alpha:e,ease:this.transition})};a.over=function(){var c=this.hasChild?pt.onOutChildMenuColor:this._onOverColor;this.txt.tweenColor(c,this.tweenTime/2,this.transition);this.bg.tweenColor(this._onOverBgColor,this.tweenTime/2,this.transition);TweenMax.to(this.bgRect,this.tweenTime,{alpha:this.onOverRectAlpha,ease:this.transition})};a.out=function(){var c=(this.hasChild&&this._isSelected)||this._isSelected?this._onSelectColor:this._onOutColor;this.txt.tweenColor(c,this.tweenTime/2,this.transition);c=this._isSelected?this._onSelectColor:this._onOutBgColor;this.bg.tweenColor(c,this.tweenTime/2,this.transition);TweenMax.to(this.bgRect,this.tweenTime,{alpha:this.onOutRectAlpha,ease:this.transition})};a.forceOut=function(){var c=this._onOutColor;this.txt.tweenColor(c,this.tweenTime/2,this.transition);c=this._isSelected?this._onSelectColor:this._onOutBgColor;this.bg.tweenColor(c,this.tweenTime/2,this.transition);TweenMax.to(this.bgRect,this.tweenTime,{alpha:this.onOutRectAlpha,ease:this.transition})};pinetreepages.MainMenuItem=b}());(function(){var a=function(i,l,e,g,m,d,j,k,c,h){pinetree.Sprite.call(this);this._data=i;this.selectable=false;this._isAniType=false;this._available=true;this._isSelected=false;this.originX=0;this.originY=0;this.txt=null;this.bg=null;this.hasChild=false;this.tweenTime=1;this.transition=Quad.easeOut;this.line=null;this.fontSizeToggle=false;this.ON_OVER=new pinetree.Signal();this.ON_OUT=new pinetree.Signal();this.ON_CLICK=new pinetree.Signal();this._bgHeight=h!=undefined?h:-1;this._onOverBgColor=m||0;this._onOutBgColor=d||0;this._onSelectBgColor=j||0;this._onOverBgAlpha=k||0;this._onOutBgAlpha=c||0;this._onOverColor=l;this._onOutColor=e;this._onSelectColor=(!g||g<0)?l:g;__defineGetterSetter(this,["data","text","selected","fontSize"])};var b=__extends(a,pinetree.Sprite);b.getData=function(){return this._data};b.addedToStage=function(){if(!this.isInitialized){this.txt=new pinetree.TextField();this.addChild(this.txt);this.bg=new pinetree.Quad();this.addChild(this.bg);this.text=this._data?this._data.name:" ";this.txt.x=0;this.txt.y=0;this.bg.color=16711680;this.bg.alpha=0;this.buttonMode=true;this.mouseChildren=false;this.addEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOver,this);this.addEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this.addEventListener(pinetree.MouseEvent.MOUSE_UP,this.onClick,this);this.txt.textColor=this._onOutColor;this.available=this._data?this._data.available:true;this.line=new pinetree.Quad();this.line.color=this._onOverColor;this.line.visible=false;this.addChild(this.line)}pinetree.Sprite.prototype.addedToStage.call(this)};b.setText=function(c){this.txt.text=c};b.setFontSize=function(c){if(!this.fontSizeToggle){return}this.txt.fontSize=c};b.setSelected=function(c){this._isSelected=c;if(c){if(!this.hasChild){this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this.mouseEnabled=false}this.txt.tweenColor(this._onSelectColor,this.tweenTime/2,this.transition)}else{this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this.addEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this.mouseEnabled=true;this.txt.tweenColor(this._onOutColor,this.tweenTime/2,this.transition)}};b.setIsAniType=function(c){this._isAniType=c};b.onOver=function(c){this.txt.tweenColor(this._onOverColor,this.tweenTime/2,this.transition);this._isAniType&&TweenLite.to(this.txt,this.tweenTime/2,{x:this.originX+10,ease:Quart.easeOut});this.ON_OVER.dispatch(this,c)};b.onOut=function(c){var d=this.hasChild?this._onSelectColor:this._onOutColor;this.txt.tweenColor(this._onOutColor,this.tweenTime/2,this.transition);this._isAniType&&TweenLite.to(this.txt,this.tweenTime/2,{x:this.originX,ease:Quart.easeOut});this.ON_OUT.dispatch(this,c)};b.onClick=function(c){this.ON_CLICK.dispatch(this,c)};b.getAvailable=function(){return this._available};b.setAvailable=function(c){this._available=c;this.mouseEnabled=this._available};b.dispose=function(){this.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this.onOver,this);this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOut,this);this.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this.onClick,this);this.ON_OVER&&this.ON_OVER.removeAll();this.ON_OUT&&this.ON_OUT.removeAll();this.ON_CLICK&&this.ON_CLICK.removeAll();this.ON_OVER=null;this.ON_OUT=null;this.ON_CLICK=null};pinetreepages.DeviceMenuItem=a}());(function(){var b=function(i,l,e,g,m,d,j,k,c,h){pinetreepages.DeviceMenuItem.call(this,i,l,e,g,m,d,j,k,c,h);this.className=this._className+" devicechildmenu";this.bgWidth=0};var a=__extends(b,pinetreepages.DeviceMenuItem);a.addedToStage=function(){pinetreepages.DeviceMenuItem.prototype.addedToStage.call(this);if(!this._data){return}this.txt.x=0;this.txt.y=0;this.bg.width=this.txt.width=this.bgWidth;this.buttonMode=true};a.onOver=function(c){pinetreepages.DeviceMenuItem.prototype.onOver.call(this,c)};a.onOut=function(c){pinetreepages.DeviceMenuItem.prototype.onOut.call(this,c)};a.setSelected=function(c){pinetreepages.DeviceMenuItem.prototype.setSelected.call(this,c);this.over()};a.over=function(){};a.out=function(){};a.forceOut=function(){this.out()};a.dispose=function(){pinetreepages.DeviceMenuItem.prototype.dispose.call(this);TweenMax.killTweensOf(this)};pinetreepages.DeviceChildMenuItem=b}());(function(){var b=function(i,l,e,g,m,d,j,k,c,h){pinetreepages.DeviceMenuItem.call(this,i,l,e,g,m,d,j,k,c,h);this.className=this._className+" devicemainmenu";this.onOverRectAlpha=0.5;this.onOutRectAlpha=0.1;this.bgRect=new pinetree.Shape();this.bgRect.alpha=this.onOutRectAlpha};var a=__extends(b,pinetreepages.DeviceMenuItem);a.setText=function(c){pinetreepages.DeviceMenuItem.prototype.setText.call(this,c);if(this.data.hasChild){this.txt.text+=" +"}};a.onOver=function(c){pinetreepages.DeviceMenuItem.prototype.onOver.call(this,c)};a.onOut=function(c){pinetreepages.DeviceMenuItem.prototype.onOut.call(this,c)};a.setSelected=function(d){pinetreepages.DeviceMenuItem.prototype.setSelected.call(this,d);var c=this._isSelected?this._onSelectBgColor:this._onOutBgColor;this.bg.tweenColor(c,this.tweenTime/2,this.transition);var e=d?this.onOverRectAlpha:this.onOutRectAlpha;TweenMax.to(this.bgRect,this.tweenTime,{alpha:e,ease:this.transition})};a.over=function(){this.txt.tweenColor(this._onOverColor,this.tweenTime/2,this.transition);this.bg.tweenColor(this._onOverBgColor,this.tweenTime/2,this.transition);TweenMax.to(this.bgRect,this.tweenTime,{alpha:this.onOverRectAlpha,ease:this.transition})};a.out=function(){var c=(this.hasChild&&this._isSelected)||this._isSelected?this._onSelectColor:this._onOutColor;this.txt.tweenColor(c,this.tweenTime/2,this.transition);c=this._isSelected?this._onSelectColor:this._onOutBgColor;this.bg.tweenColor(c,this.tweenTime/2,this.transition);TweenMax.to(this.bgRect,this.tweenTime,{alpha:this.onOutRectAlpha,ease:this.transition})};a.forceOut=function(){var c=this._onOutColor;this.txt.tweenColor(c,this.tweenTime/2,this.transition);c=this._isSelected?this._onSelectColor:this._onOutBgColor;this.bg.tweenColor(c,this.tweenTime/2,this.transition);TweenMax.to(this.bgRect,this.tweenTime,{alpha:this.onOutRectAlpha,ease:this.transition})};pinetreepages.DeviceMainMenuItem=b}());(function(){var b=function(m,e,g,i,l,n,d,j,k,c,h){pinetree.Sprite.call(this);this._data=null;this._dataCount=0;this._items=null;this.originX=0;this.originY=0;this._onOverColor=m;this._onOutColor=e;this._onSelectColor=g!=undefined?g:m;this._onOverBgColor=n||0;this._onOutBgColor=d||0;this._onSelectBgColor=j||0;this._onOverBgAlpha=k||0;this._onOutBgAlpha=c||0;this._bgHeight=h||30;this._gap=i||0;this._fontSize=l||14;this._bg=new pinetree.Quad();this._bg.alpha=0;this._contentHeight=0;this.edgeX=0;this.tweenTime=1;this.transition=Quad.easeOut;this.ON_CLICK=new pinetree.Signal();this.ON_OVER=new pinetree.Signal();this.ON_OUT=new pinetree.Signal();__defineGetterSetter(this,["contentWidth","contentHeight"])};var a=__extends(b,pinetree.Sprite);a.initWithData=function(c){if(!c){return}this._data=c;this._dataCount=c.length;this._setup()};a._setup=function(){var d,g,c=this._data.length;this._items=[];this._contentWidth=0;this._contentHeight=0;for(var e=0;e<c;e++){d=this._data[e];g=new pinetreepages.DeviceChildMenuItem(d,this._onOverColor,this._onOutColor,this._onSelectColor,this._onOverBgColor,this._onOutBgColor,this._onSelectBgColor,this._onOverBgAlpha,this._onOutBgAlpha,0);this.addChild(g);g.isAniType=false;g.id=e;g.fontSize=this._fontSize;g.ON_CLICK.add(this,this.onClick);g.ON_OVER.add(this,this.onOver);g.ON_OUT.add(this,this.onOut);g.txt.textColor=this._onOutColor;g.y=this._contentHeight;this._contentWidth=Math.max(this._contentWidth,g.txt.width);this._contentHeight+=this._gap+g.height;this._items.push(g);g.bg.height=45;g.bg.y=-15}for(e=0;e<c;e++){g=this._items[e];g.bg.width=this._contentWidth+50}this._contentHeight-=this._gap};a.onClick=function(d,c){this.ON_CLICK.dispatch(d,c)};a.onOver=function(d,c){d.txt.tweenColor(this._onOverColor,this.tweenTime,this.transition);d.over();this.ON_OVER.dispatch(d,c)};a.onOut=function(d,c){d.txt.tweenColor(this._onOutColor,this.tweenTime,this.transition);d.out();this.ON_OUT.dispatch(d,c)};a.selectItem=function(c){this.unselectItems(c);this._items[c].selected=true;this._items[c].txt.testColor=this._onOverColor};a.unselectItems=function(d){var g;var c=this._data.length;for(var e=0;e<c;e++){g=this._items[e];if(g.id!=d){g.txt.tweenColor(this._onOutColor,g.tweenTime,g.transition);g.out();g.selected=false}}};a.setContentWidth=function(c){this._contentWidth=c};a.getContentHeight=function(){return this._contentHeight};a.show=function(c){this.visible=true;this.mouseChildren=true;TweenMax.killTweensOf(this);TweenMax.to(this,this.tweenTime,{alpha:1,delay:c||0,ease:this.transition})};a.hide=function(c){this.mouseChildren=false;TweenMax.killTweensOf(this);TweenMax.to(this,this.tweenTime,{alpha:0,ease:this.transition,delay:c||0,onComplete:Delegate.create(this,this._hideComplete)})};a._hideComplete=function(){this.visible=false};a.dispose=function(){var d;for(var c in this._items){d=this._items[c];if(d){d.dispose()}}this._items.splice(0,this._items.length);this.ON_CLICK&&this.ON_CLICK.removeAll();this.ON_OVER&&this.ON_OVER.removeAll();this.ON_OUT&&this.ON_OUT.removeAll();this.ON_CLICK=null;this.ON_OVER=null;this.ON_OUT=null};pinetreepages.DeviceChildContainer=b}());(function(){var a=function(m,e,g,i,l,n,d,j,k,c,h){pinetree.Sprite.call(this);this._data=null;this._items=null;this._onOverColor=m;this._onOutColor=e;this._onSelectColor=g!=undefined?g:m;this._onOverBgColor=n||0;this._onOutBgColor=d||0;this._onSelectBgColor=j||0;this._onOverBgAlpha=k||0;this._onOutBgAlpha=c||0;this._bgHeight=h;this._gap=i||0;this._fontSize=l||16;this._contentWidth=0;this._contentHeight=0;this.startX=0;this.tweenTime=1;this.transition=Quad.easeOut;this.ON_CLICK=new pinetree.Signal();this.ON_OVER=new pinetree.Signal();this.ON_OUT=new pinetree.Signal();__defineGetterSetter(this,["contentWidth","contentHeight"])};var b=__extends(a,pinetree.Sprite);b.initWithData=function(c){this._data=c;this._setup()};b._setup=function(){var d,g,c=this._data.length;this._items=[];this.removeAllChildren();this._contentWidth=0;for(var e=0;e<c;e++){d=this._data[e];if(!(d instanceof pinetreepages.NavVo)){trace("vo is not a NavVo, at DeviceMainContainer::_setup()");continue}g=new pinetreepages.DeviceMainMenuItem(d,this._onOverColor,this._onOutColor,this._onSelectColor,this._onOverBgColor,this._onOutBgColor,this._onSelectBgColor,this._onOverBgAlpha,this._onOutBgAlpha,this._bgHeight);this.addChild(g);g.hasChild=d.hasChild;g.id=e;g.fontSize=this._fontSize;g.ON_CLICK.add(this,this.onClick);g.ON_OVER.add(this,this.onOver);g.ON_OUT.add(this,this.onOut);if(d.hasChild){g.cursor="default"}else{g.buttonMode=true}g.x=this.startX;g.tweenTime=0.5;g.originY=g.y=e*(g.txt.height+this._gap);if(e!=0){g.line.width=g.bg.width;g.line.height=1;g.line.y=-this._gap-g.height+15;g.line.alpha=0.3}pinetreecom.DrawUtil.drawRect(g.bgRect,g.bg.width,g.bg.height-6,16777215,0,1,pt.onOutMainMenuColor,1);this._items.push(g);g.bg.width=g.txt.width+50;g.bg.height=45;g.bg.y=-15;g.visible=false}};b.onClick=function(d,c){this.ON_CLICK.dispatch(d,c)};b.selectItem=function(c){this.unselectItems(c);var d=this._items[c];if(d){d.selected=true}};b.openChildSpace=function(j,e,g,k){var d=this._items.length,c;for(var h=j+1;h<d;h++){c=this._items[h];TweenMax.to(c,this.tweenTime/2,{y:c.originY+e,delay:g,ease:Quart.easeOut})}pinetreecom.DelayCaller.delayCall(null,k,this.tweenTime*0.2+g)};b.closeChildSpace=function(h,e,j){var d=this._items.length,c;for(var g=h+1;g<d;g++){c=this._items[g];TweenMax.to(c,this.tweenTime/2,{y:c.originY,ease:Quart.easeOut,delay:e})}pinetreecom.DelayCaller.delayCall(null,j,this.tweenTime*0.3+e)};b.unselectItems=function(d){if(d==undefined){d=-1}var g;var c=this._data.length;for(var e=0;e<c;e++){g=this._items[e];if(g.id!=d){g.selected=false}}};b.onOver=function(e,c){for(var d in this._items){if(e!=this._items[d]){this._items[d].forceOut()}}this.ON_OVER.dispatch(e,c)};b.onOut=function(d,c){this.ON_OUT.dispatch(d,c)};b.tweenOutAllItem=function(d){var c=d!=undefined&&d!=-1?this._items[d]:null;for(var e in this._items){if(this._items[e]!=c){this._items[e].out()}}};b.showMenu=function(j,g,e,k){if(j==undefined){j=1}if(g==undefined){g=0}if(e==undefined){g=0.1}var d,c=this._items.length;for(var h=0;h<c;h++){d=this._items[h];d.alpha=0;d.visible=true;TweenMax.to(d,j,{alpha:0.9,delay:g+e*h,ease:this.transition,onComplete:Delegate.create(this,this.tweenComplete),onCompleteParams:[h,c-1,k]})}};b.hideMenu=function(j,g,e,k){if(j==undefined){j=1}if(g==undefined){g=0}if(e==undefined){g=0.1}var d,c=this._items.length;for(var h=c-1;h>=0;h--){d=this._items[h];TweenMax.to(d,j,{alpha:0,delay:g+e*(c-1-h),ease:this.transition,onComplete:Delegate.create(this,this.tweenComplete),onCompleteParams:[h,0,k]})}};b.tweenComplete=function(d,c,e){if(d==c){e&&e()}};b.getItem=function(c){return this._items[c]};b.getItemByID=function(g){var d;var c=this._data.length;for(var e=0;e<c;e++){d=this._data[e];if(d.id==g){return this.getItem(e)}}return null};b.getContentWidth=function(){return this._contentWidth};b.setContentWidth=function(c){this._contentWidth=c};b.getContentHeight=function(){return this._contentHeight};b.dispose=function(){for(var c in this._items){this._items[c].dispose()}this.ON_CLICK&&this.ON_CLICK.removeAll();this.ON_OVER&&this.ON_OVER.removeAll();this.ON_OUT&&this.ON_OUT.removeAll();this.ON_CLICK=null;this.ON_OVER=null;this.ON_OUT=null};pinetreepages.DeviceMainContainer=a}());(function(){var a=function(c){pinetreepages.ViewBase.call(this,c);this.MUSIC_STATUS="music_status";this._footerLabel=pt.config.footer;this._footerTxt=null;this._socialContainer=null;this._socialOffsetY=10;this._musicData=pt.config.music.data||[];this._isActive=!!pt.config.music.setting.active||false;this._isMusicOpening=pinetree.isDevice?false:!!pt.config.music.setting.isOpen;this._musicPlayer=null;this._storageMute=pinetreecom.StorageManager.get(this.MUSIC_STATUS)=="0";this._musicBtn=null;this._bg=null};var b=__extends(a,pinetreepages.ViewBase);b.addedToStage=function(){if(!this.isInitialized){this.initUI()}pinetreepages.ViewBase.prototype.addedToStage.call(this);this.redraw()};b.initUI=function(){this._bg=new pinetree.Quad();this.addChild(this._bg);this._bg.width=pt.stageWidth;this._bg.color=pt.bgColor;this._bg.alpha=0;this._footerTxt=new pinetree.TextField();this.addChild(this._footerTxt);this._footerTxt.className+=" footer";this._footerTxt.alpha=0;if(pinetree.isSmallMode){this._footerTxt.x=30;this._footerTxt.htmlText=this._footerLabel}else{this._footerTxt.x=20;this._footerTxt.htmlText=this._footerLabel}this._musicBtn=new pinetreecom.ToggleButton(true,pt.onOutColor);this.addChild(this._musicBtn);var d=pt.getCommonTexture(pinetreepages.EnumTextures.VOLUME_ON_ICON);var c=pt.getCommonTexture(pinetreepages.EnumTextures.VOLUME_OFF_ICON);this._musicBtn.setTextures(d,c);this._musicBtn.ON_CHANGE.add(this,this._onMusicStateChange);this._musicPlayer=new pinetreecom.MusicPlayer();if(this._musicData.length>0&&this._isActive){if(this._isMusicOpening&&!this._storageMute){this._musicPlayer.startWith(this._musicData);this._musicPlayer.volume=pt.config.music.setting.volume}else{this._musicBtn.setState(pinetreecom.ToggleButton.STATE_OFF);this._musicPlayer.mute=true;pt.isMute=true}}else{this._musicBtn.visible=false}this._socialContainer=new pinetreecom.SocialContainer(10,5,450,1,1);this.addChild(this._socialContainer);this._socialContainer.ON_LOAD_EACH_COMPLETE.add(this,this._onEachSocialIconLoadComplete);this._socialContainer.data=pt.config.socials;TweenMax.to(this._footerTxt,this.tweenTime,{alpha:1,ease:Quad.easeOut})};b.getBg=function(){return this._bg};b._onEachSocialIconLoadComplete=function(){this.redraw()};b._onMusicStateChange=function(c){if(c==pinetreecom.ToggleButton.STATE_ON){pt.isMute=!this._isActive;this.unmute();pinetreecom.StorageManager.set(this.MUSIC_STATUS,"1")}else{this.mute();pt.isMute=true;pinetreecom.StorageManager.set(this.MUSIC_STATUS,"0")}};b.mute=function(){if(!this._isActive){return}if(!pt.isMute){this._musicPlayer.mute=true;this._musicBtn.setState(pinetreecom.ToggleButton.STATE_OFF)}};b.unmute=function(){if(!this._isActive){return}if(!this._musicPlayer.isInitialized){this._musicPlayer.startWith(this._musicData);this._musicPlayer.volume=pt.config.music.setting.volume}if(!pt.isMute){this._musicPlayer.mute=false;this._musicBtn.setState(pinetreecom.ToggleButton.STATE_ON)}};b.resize=function(c,d){var e=0;if(pinetree.isSmallMode){if(this._musicBtn.visible){e=this._musicBtn.width}this._footerTxt.x=c-this._footerTxt.width-30;this._footerTxt.y=d-this._footerTxt.height-15;this._socialContainer.x=c-this._socialContainer.width-30-e;this._socialContainer.y=d-this._socialContainer.height-this._footerTxt.height-15-this._socialOffsetY;this._musicBtn.x=c-this._musicBtn.width-20;this._musicBtn.y=this._socialContainer.y-(this._musicBtn.height>>1)+8;if(this._bg){this._bg.visible=false}}else{this._musicBtn.x=c-this._musicBtn.width;this._musicBtn.y=(pt.currentBottomHeight-this._musicBtn.height)>>1;if(this._musicBtn.visible){e=this._musicBtn.width}this._footerTxt.x=c-this._footerTxt.width-e-25;this._footerTxt.y=(pt.currentBottomHeight-this._footerTxt.height)>>1;this._socialContainer.y=(pt.currentBottomHeight-this._socialContainer.height)>>1;if(pt.config.footerPosition=="bottom"&&pt.config.menuPosition=="top"){this._socialContainer.x=25}else{this._socialContainer.x=this._footerTxt.x-10-this._socialContainer.width}if(this._bg){if(pt.config.footerPosition=="bottom"&&pt.config.menuPosition=="top"){this._bg.visible=true;this._bg.width=c;this._bg.height=pt.currentBottomHeight}else{this._bg.visible=false}}}};b.dispose=function(){this._socialContainer&&this._socialContainer.dispose();this._socialContainer=null;this._musicBtn&&this._musicBtn.dispose();this._musicBtn=null;pinetreepages.ViewBase.prototype.dispose.call(this)};b.toString=function(){return"[Object FooterView]"};pinetreepages.FooterView=a}());(function(){var a=function(c){pinetreepages.ViewBase.call(this,c);this._preImg=null;this._currentImg=null;this._container=null;this.tweenTime=1;this.transition=Linear.easeNone;this._cover=null;this._coverAlpha=0;this._coverColor=pt.bgColor;this._src="";this._tileURL=pt.config.background.tileURL;this._tileAlpha=pt.config.background.tileAlpha;this._tileImg=null};var b=__extends(a,pinetreepages.ViewBase);b.addedToStage=function(){if(!this.isInitialized){this._container=new pinetree.Sprite();this.addChild(this._container);this._cover=new pinetree.Quad();this._cover.alpha=this._coverAlpha;this._cover.color=this._coverColor;this.addChild(this._cover);this._tileImg=new pinetreecom.TileRectImage(0,0,this._tileURL);this._tileImg.alpha=this._tileAlpha;if(this._tileAlpha>0){this.addChild(this._tileImg)}var c=[pt.onOutColor,pt.onOverColor];this.particleAnimator=new pinetreecom.ParticleAnimator([pinetreecom.ParticleCircle],c);this.addChild(this.particleAnimator);this.redraw()}pinetreepages.ViewBase.prototype.addedToStage.call(this)};b.showTile=function(c){if(this._tileAlpha<=0||!this._tileImg){return}TweenMax.to(this._tileImg,this.tweenTime*0.5,{alpha:c?this._tileAlpha:0,onComplete:this._onTweenTile,onCompleteParams:[this._tileImg,c]})};b._onTweenTile=function(d,c){d.visible=c};b.changeBackground=function(c){if(!this.isInitialized||this._src==c||!c){return}this._src=c;this._preImg=this._currentImg;this._currentImg=new pinetreecom.FullRectImage(1,1,pt.config.background.align||"lt");this._currentImg.ON_LOAD_COMPLETE.add(this,this.onLoadImageComplete);this._currentImg.load(c)};b.onLoadImageComplete=function(c){if(!this.isInitialized){return}this._currentImg.alpha=0;this._container.addChild(this._currentImg);this._currentImg.visible=true;this.redraw();TweenMax.to(this._currentImg,this.tweenTime*1.5,{alpha:1,delay:this.tweenTime,ease:this.transition,onComplete:Delegate.create(this,this.onTweenComplete)})};b.onTweenComplete=function(){if(!this.isInitialized){return}if(this._preImg){this._preImg.removeFromParent();this._preImg.dispose();this._preImg=null}};b.changeCoverAlpha=function(c){if(!this._cover||this._coverAlpha==c){return}if(this._coverAlpha<=0){this._cover.width=pt.stageWidth;this._cover.height=pt.stageHeight}this._coverAlpha=c;TweenMax.to(this._cover,this.tweenTime*1.5,{alpha:this._coverAlpha,ease:Linear.easeNone})};b.resize=function(c,d){this._currentImg&&this._currentImg.redraw(c,d);this._preImg&&this._preImg.redraw(c,d);if(this._tileImg&&this._tileAlpha>0){this._tileImg.setSize(c,d)}if(this._cover&&this._cover.alpha>0){this._cover.width=c;this._cover.height=d}};b.dispose=function(){this.particleAnimator.dispose();pinetreepages.ViewBase.prototype.dispose.call(this)};b.toString=function(){return"[Object BackgroundView]"};pinetreepages.BackgroundView=a}());(function(){var a=function(c){pinetreepages.ViewBase.call(this,c);this._MAX_THUMB_COUNT=9;this._logoURL="data/images/logo/logo.png";this._discoverLabel="DISCOVER";this._discoverLink="gallery";this._backgroundImages=[];this._thumbSize=120;this._thumbGap=10;this._thumbArray=[];this._isInited=false;this._bgDuration=5;this._logo=null;this._bgContainer=null;this._bgCover=null;this._discoverBtn=null;this._prevImg=null;this._currentImg=null;this._thumbContainer=null;this._currentIndex=0;this._dataCount=0;this._pnBtns=null};var b=__extends(a,pinetreepages.ViewBase);b.addedToStage=function(){if(!this.isInitialized){this._dataLoader=new pinetreecom.FileLoader(pt.assetLoading,this.data.size);this._dataLoader.ON_IO_ERROR.add(this,this.onIOError);this._dataLoader.ON_LOAD_COMPLETE.add(this,this.onLoadDataComplete);this._dataLoader.load(new pinetree.URLRequest(this.data.src))}pinetreepages.ViewBase.prototype.addedToStage.call(this)};b.onLoadDataComplete=function(c){var d=JSON.parse(c.data);if(d){this._logoURL=d.logo||this._logoURL;this._discoverLabel=d.discoverLabel||this._discoverLabel;this._discoverLink=d.discoverLink||this._discoverLink;this._backgroundImages=d.backgroundImages||this._backgroundImages;this._thumbGap=d.thumbnails.setting.gap||this._thumbGap;this._thumbArray=d.thumbnails.data||this._thumbArray;if(this._thumbArray.length>this._MAX_THUMB_COUNT){this._thumbArray.splice(this._MAX_THUMB_COUNT)}this._dataCount=this._backgroundImages.length}this.initUI()};b.initUI=function(){this._bgContainer=new pinetree.Sprite();this.addChild(this._bgContainer);this._bgCover=new pinetree.Quad();this._bgCover.color=pt.bgColor;this._bgCover.alpha=pt.bgAlpha;this.addChild(this._bgCover);var d=pt.getCommonTexture(pinetreepages.EnumTextures.PREV_ICON);var e=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,0,0,1,0.3,0,0);e.setTextures(d,null);d=pt.getCommonTexture(pinetreepages.EnumTextures.NEXT_ICON);var c=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,0,0,1,0.3,0,0);c.setTextures(d,null);this._pnBtns=new pinetreecom.TexturePNButtons(e,c,false);this._pnBtns.onOverColor=pt.onOverColor;this._pnBtns.onOutColor=pt.onOutColor;this._pnBtns.hide(0);this.addChild(this._pnBtns);this._pnBtns.useMouseWheel=false;this._pnBtns.ON_CHANGE.add(this,this._onClickPNButton);this._pnBtns.show();this._pnBtns.enabled=false;this._pnBtns.showPNButtons(this._dataCount>0,this._dataCount>0);this._logo=new pinetreecom.Thumbnail(0,0,0,0,false,null,true,null,true);this.addChild(this._logo);this._logo.visible=false;this._logo.ON_LOAD_COMPLETE.add(this,this._onLoadLogoComplete);this._logo.load(this._logoURL);this._discoverBtn=this._btnLeft=new pinetreecom.TextButton(150,35,0,0,0,11,12,false,null,true,1,pt.bgColor,pt.textColor,pt.onOverColor,pt.bgcolor,1,1,1,0,pt.onOverColor,pt.onOutColor,0,1,3,3,3,3);this.addChild(this._discoverBtn);this._discoverBtn.addEventListener(pinetree.MouseEvent.CLICK,this._onDiscover,this);this._discoverBtn.text=this._discoverLabel;this._thumbContainer=new pinetreepages.HomeThumbContainer(this._thumbSize,this._thumbGap,this._thumbArray);this._thumbContainer.rotation=-45;this.addChild(this._thumbContainer);this._loadBackgroundImage();this.transitionIn()};b._onLoadLogoComplete=function(c){if(c){this._logo.visible=true;this.redraw()}};b._loadBackgroundImage=function(){var c=this._backgroundImages[this._currentIndex];if(this._currentImg){this._prevImg&&this._prevImg.removeFromParent(true);this._prevImg=this._currentImg;this._bgContainer.addChild(this._prevImg)}this._currentImg=new pinetreecom.FullRectImage(1,1,"ct");this._currentImg.ON_LOAD_COMPLETE.add(this,this._onLoadBackgroundImgInit);this._currentImg.load(c)};b._onLoadBackgroundImgInit=function(c){this._bgContainer.addChild(c);c.x=pt.stageWidth;c.redraw(pt.stageWidth,pt.stageHeight);c.show(0,0);TweenMax.to(c,this.tweenTime*1.2,{x:0,ease:Quart.easeOut});if(this._prevImg){TweenMax.to(this._prevImg,this.tweenTime*1.2,{x:-pt.stageWidth,ease:Quart.easeOut})}this._pnBtns.enabled=true;pinetreecom.DelayCaller.delayCall(this,this._delayLoadNext,this._bgDuration)};b._delayLoadNext=function(){this._currentIndex++;if(this._currentIndex>=this._dataCount){this._currentIndex=0}this._pnBtns.enabled=false;this._pnBtns.showPNButtons(this._dataCount>0,this._dataCount>0);this._loadBackgroundImage()};b._onDiscover=function(c){pinetreesite.siteController.gotoPage(this._discoverLink)};b._onClickPNButton=function(c){if(c.type==pinetreecom.SimplePNButtonsManager.PREV_TYPE){this._thumbContainer.prev()}else{this._thumbContainer.next()}};b.resize=function(c,d){if(!this._isInited){return}if(pinetree.isSmallMode){}else{this._logo.x=(c-this._logo.imageWidth)>>1;this._logo.y=50;this._pnBtns.prevBtn.x=50;this._pnBtns.nextBtn.x=c-50-this._pnBtns.nextBtn.width;this._pnBtns.x=0;this._pnBtns.y=(d-this._pnBtns.height)>>1;this._discoverBtn.x=(c-this._discoverBtn.width)>>1;this._discoverBtn.y=(d-this._discoverBtn.height-50)}if(this._currentImg){this._currentImg.redraw(c,d)}this._bgCover.setSize(c,d);this._thumbContainer.x=c>>1;this._thumbContainer.y=d>>1};b.transitionIn=function(){this.redraw();var c=pt.stageWidth;var d=pt.stageHeight;if(pinetree.isSmallMode){}else{}var e=0;this._discoverBtn.x=(c-this._discoverBtn.width)>>1;this._discoverBtn.y=d;this._discoverBtn.visible=true;e=(d-this._discoverBtn.height-50);TweenMax.to(this._discoverBtn,this.tweenTime,{y:e,ease:Quart.easeOut});this._isInited=true;this.transitionInComplete()};b.transitionInComplete=function(){pinetreepages.ViewBase.prototype.transitionInComplete.call(this)};b.transitionOut=function(){this._isInited=false;pinetreecom.DelayCaller.removeByOwner(this);if(pinetree.isSmallMode){}else{}this.transitionOutComplete()};b.dispose=function(){if(this._prevImg){TweenMax.killTweensOf(this._prevImg);this._prevImg.dispose();this._prevImg=null}if(this._currentImg){TweenMax.killTweensOf(this._currentImg);this._currentImg.dispose();this._currentImg=null}this._thumbContainer&&this._thumbContainer.dispose();this._thumbContainer=null;this._discoverBtn&&this._discoverBtn.dispose();this._discoverBtn=null;this._logo&&this._logo.dispose();this._logo=null;this._pnBtns&&this._pnBtns.dispose();this._pnBtns=null;this._dataLoader&&this._dataLoader.dispose();this._dataLoader=null;pinetreepages.ViewBase.prototype.dispose.call(this)};b.toString=function(){return"[Object HomeView]"};pinetreepages.HomeView=a}());(function(){var b=function(c){pinetreepages.ViewBase.call(this,c);this._title="";this._description="";this._imageurls=null;this._gapX=5;this._padding=35;this._imageWidth=0;this._imageHeight=0;this._textWidth=0;this._textHeight=0;this._itemHeight=0;this.sliderWidth=pinetree.isDevice?0:150;this.sliderHeight=pinetree.isDevice?0:10;this.sliderStartX=30;this.sliderOverColor=pt.onOverColor;this.sliderOutColor=pt.onOverColor;this.sliderOverAlpha=1;this.sliderOutAlpha=1;this.sliderBGColor=pt.onOutColor;this.sliderBGAlpha=0.1;this._bgColor=pt.bgColor;this._textColor=pt.textColor;this._dataLoader=null;this._imageLoader=null;this._txtContainer=null;this._container=null;this._hscroller=null;this._triggerRect=null};var a=__extends(b,pinetreepages.ViewBase);a.addedToStage=function(){if(!this.isInitialized){this._dataLoader=new pinetreecom.FileLoader(pt.assetLoading,this.data.size);this._dataLoader.ON_IO_ERROR.add(this,this.onIOError);this._dataLoader.ON_LOAD_COMPLETE.add(this,this.onLoadDataComplete);this._dataLoader.load(new pinetree.URLRequest(this.data.src))}pinetreepages.ViewBase.prototype.addedToStage.call(this)};a.onLoadDataComplete=function(c){var d=JSON.parse(c.data);if(d){this._title=d.title||this._title;this._description=d.description||this._description;this._imageurl=d.imageurl;this._textWidth=d.textWidth;this._textHeight=d.textHeight;this._imageWidth=d.imageWidth;this._imageHeight=d.imageHeight;this._itemHeight=Math.max(this._textHeight,this._imageHeight)}this.initUI()};a.initUI=function(){this._container=new pinetree.Sprite();this._container.alpha=0;this._hscroller=new pinetreecom.HScroller(this.sliderWidth,this.sliderHeight,1,1,this.sliderOverColor,this.sliderOutColor,this.sliderOverAlpha,this.sliderOutAlpha,this.sliderBGColor,this.sliderBGAlpha,null,false,true,false);this.addChild(this._hscroller);this._hscroller.ON_CHANGE.add(this,this._onScrollProgress);this._hscroller.addTarget(this._container,0,0,0);this._imageLoader=new pinetreecom.ShadowImageLoader(this._imageWidth,this._imageHeight);this._container.addChild(this._imageLoader);this._txtContainer=new pinetreecom.TextContainer(this._textWidth,this._textHeight,this._bgColor,0,true,true,null);this._container.addChild(this._txtContainer);this._txtContainer.gapBetweenTitleAndInfo=25;this._txtContainer.sliderOverColor=pt.onOverColor;this._txtContainer.sliderOutColor=pt.onOverColor;this._txtContainer.sliderBGAlpha=0;this._txtContainer.paddingLeft=this._padding;this._txtContainer.paddingRight=this._padding;this._txtContainer.paddingTop=0;this._txtContainer.paddingBottom=0;this._txtContainer.init();this._txtContainer.title=this._title;this._txtContainer.information=this._description;this._txtContainer.scrollGapX=0;this._txtContainer.scrollerHeight=this._txtContainer.infoScrollHeight;this._txtContainer.x=this._imageWidth;this._txtContainer.y=0;this._triggerRect=new pinetreecom.TriggerRect(1,1,65280,0);this.addChildAt(this._triggerRect,0);this._hscroller.reset();this._hscroller.enabled=false;this._hscroller.scrollMC.alpha=0;if(!pinetree.isDevice){this._hscroller.mouseWheelArea=this._triggerRect;this._hscroller.enabled=true;this._hscroller.show()}this._imageLoader.load(this._imageurl);this.transitionIn()};a._onScrollProgress=function(c){};a._onImageLoadComplete=function(){};a._onIOError=function(c){this._onImageLoadComplete(null)};a.resize=function(d,g){if(pinetree.isDevice){}else{var e=this._imageWidth+this._textWidth+this.sliderStartX*2;var c=((d-e)>>1)+this.sliderStartX;if(c<this.sliderStartX){c=this.sliderStartX}this._hscroller.setSize(e,g,d,((d-this.sliderWidth)>>1)-c,this._itemHeight+30);this._hscroller.x=c;this._hscroller.y=(g-this._itemHeight)>>1;this._hscroller.scrollerWidth=this.sliderWidth;if(this._triggerRect){this._triggerRect.width=d;this._triggerRect.height=g}}};a.transitionIn=function(){this.redraw();if(pinetree.isDevice){this._container.alpha=1}else{this._hscroller.y=-this._itemHeight;this._container.alpha=1;var c=(pt.stageHeight-this._itemHeight)>>1;TweenMax.to(this._hscroller,this.tweenTime*1.2,{y:c,ease:Quart.easeOut,onComplete:Delegate.create(this,this.transitionInComplete)})}};a.transitionInComplete=function(){pinetreepages.ViewBase.prototype.transitionInComplete.call(this);this.redraw();this._hscroller.tweenScrollerAlpha(1,this.tweenTime/2)};a.transitionOut=function(){if(pinetree.isDevice){}else{TweenMax.to(this._hscroller,this.tweenTime,{y:pt.stageHeight+50,ease:Quart.easeIn,onComplete:Delegate.create(this,this.transitionOutComplete)})}};a.dispose=function(){if(this._hscroller){this._hscroller.removeFromParent(true);this._hscroller=null}if(this._triggerRect){this._triggerRect.removeFromParent(true);this._triggerRect=null}this._dataLoader&&this._dataLoader.dispose();this._dataLoader=null;this._imageLoader&&this._imageLoader.dispose();this._imageLoader=null;this._txtContainer&&this._txtContainer.dispose();this._txtContainer=null;pinetreepages.ViewBase.prototype.dispose.call(this)};a.toString=function(){return"[Object AboutView]"};pinetreepages.AboutView=b}());(function(){var a=function(c){pinetreepages.ViewBase.call(this,c);this._title="";this._description="";this._imageurl="";this._padding=30;this._imageWidth=0;this._imageHeight=0;this._textWidth=100;this.sliderWidth=pinetree.isDevice?0:25;this.sliderHeight=pinetree.isDevice?0:5;this._maxContentWidth=640;this.sliderOverColor=pt.onOverColor;this.sliderOutColor=pt.onOverColor;this.sliderOverAlpha=1;this.sliderOutAlpha=1;this.sliderBGColor=pt.bgColor;this.sliderBGAlpha=0.5;this._bgColor=pt.bgColor;this._textColor=pt.textColor;this._dataLoader=null;this._container=null;this._imageLoader=null;this._txtContainer=null};var b=__extends(a,pinetreepages.ViewBase);b.addedToStage=function(){if(!this.isInitialized){this._dataLoader=new pinetreecom.FileLoader(pt.assetLoading,this.data.size);this._dataLoader.ON_IO_ERROR.add(this,this.onIOError);this._dataLoader.ON_LOAD_COMPLETE.add(this,this.onLoadDataComplete);this._dataLoader.load(new pinetree.URLRequest(this.data.src));this.registerAutoDispose(this._dataLoader)}pinetreepages.ViewBase.prototype.addedToStage.call(this)};b.onLoadDataComplete=function(c){var d=JSON.parse(c.data);if(d){this._title=d.title||this._title;this._description=d.description||this._description;this._imageurl=d.imageurl||"";this._imageWidth=d.imageWidth;this._imageHeight=d.imageHeight}this.initUI()};b.initUI=function(){this._container=new pinetree.Sprite();this.addChild(this._container);this._imageLoader=new pinetreecom.ShadowImageLoader(this._imageWidth,this._imageHeight);this._container.addChild(this._imageLoader);this._imageLoader.x=this._padding;this._imageLoader.y=this._padding+pt.TOP_HEIGHT;this.registerAutoDispose(this._imageLoader);this._txtContainer=new pinetreecom.DeviceTextContainer(pt.stageWidth,this._bgColor,0,true,true);this._container.addChild(this._txtContainer);this._txtContainer.paddingLeft=this._padding;this._txtContainer.paddingRight=this._padding;this._txtContainer.paddingTop=0;this._txtContainer.paddingBottom=0;this._txtContainer.init();this.registerAutoDispose(this._txtContainer);this._txtContainer.title=this._title;this._txtContainer.information=this._description;this._txtContainer.x=0;this._txtContainer.y=this._imageHeight+this._imageLoader.y+this._padding;this._imageLoader.load(this._imageurl);this.transitionIn()};b._onScrollProgress=function(c){};b._onImageLoadComplete=function(){};b._onIOError=function(c){this._onImageLoadComplete(null)};b.resize=function(c,e){var d=c;if(d>this._maxContentWidth){d=this._maxContentWidth}this._txtContainer.contentWidth=d;this._txtContainer.scrollGapX=0;this.height=this._txtContainer.y+this._txtContainer.contentHeight+this._padding;if(this._height<e-pt.TOP_HEIGHT-this._padding*2){this._container.y=(e-pt.TOP_HEIGHT-this._padding*2-this._height)>>1}else{this._container.y=0}this._container.x=(c-d)>>1};b.transitionIn=function(){this.redraw();if(!this.tweenAlphaByCSS(1,this.tweenTime,0,"ease-out",Delegate.create(this,this.transitionInComplete))){TweenMax.to(this,this.tweenTime,{alpha:1,ease:Quart.easeOut,onComplete:Delegate.create(this,this.transitionInComplete)})}};b.transitionInComplete=function(){pinetreepages.ViewBase.prototype.transitionInComplete.call(this);this.redraw()};b.transitionOut=function(){if(!this.tweenAlphaByCSS(0,this.tweenTime,0,"ease-out",Delegate.create(this,this.transitionOutComplete))){TweenMax.to(this,this.tweenTime,{alpha:0,ease:Quart.easeOut,onComplete:Delegate.create(this,this.transitionOutComplete)})}};b.dispose=function(){pinetreepages.ViewBase.prototype.dispose.call(this)};b.toString=function(){return"[Object AboutDeviceView]"};pinetreepages.AboutDeviceView=a}());(function(){var b=function(c){pinetreepages.ViewBase.call(this,c)};var a=__extends(b,pinetreepages.ViewBase);a.addedToStage=function(){pinetreepages.ViewBase.prototype.addedToStage.call(this)};a.transitionIn=function(){};a.transitionOut=function(){};a.dispose=function(){pinetreepages.ViewBase.prototype.dispose.call(this)};a.toString=function(){return"[Object ClientView]"};pinetreepages.ClientView=b}());(function(){var b=function(c){pinetreepages.ViewBase.call(this,c);this._title="";this._formTitle="";this._description="";this._imageurl=null;this._mapLink="";this._setting=null;this._padding=35;this._paddingX=20;this._imageWidth=0;this._imageHeight=0;this._formWidth=0;this._textWidth=0;this._textHeight=0;this._itemHeight=0;this.sliderWidth=pinetree.isDevice?0:150;this.sliderHeight=pinetree.isDevice?0:10;this.sliderStartX=30;this.sliderOverColor=pt.onOverColor;this.sliderOutColor=pt.onOverColor;this.sliderOverAlpha=1;this.sliderOutAlpha=1;this.sliderBGColor=pt.onOutColor;this.sliderBGAlpha=0.1;this._bgColor=pt.bgColor;this._textColor=pt.textColor;this._dataLoader=null;this._readMoreLabel="Google Map";this._icon=null;this._readMoreTxt=null;this._hitArea=null;this._imageLoader=null;this._txtContainer=null;this._container=null;this._titleTxt=null;this._hscroller=null;this._triggerRect=null;this.mouseChildren=this.mouseEnabled=false};var a=__extends(b,pinetreepages.ViewBase);a.addedToStage=function(){if(!this.isInitialized){this._dataLoader=new pinetreecom.FileLoader(pt.assetLoading,this.data.size);this._dataLoader.ON_IO_ERROR.add(this,this.onIOError);this._dataLoader.ON_LOAD_COMPLETE.add(this,this.onLoadDataComplete);this._dataLoader.load(new pinetree.URLRequest(this.data.src))}pinetreepages.ViewBase.prototype.addedToStage.call(this)};a.onLoadDataComplete=function(c){var d=JSON.parse(c.data);if(d){var e=d.data;this._title=e.title||this._title;this._formTitle=e.formTitle||this._formTitle;this._description=e.description||this._description;this._imageurl=e.imageurl;this._mapLink=e.mapLink||this._mapLink;this._readMoreLabel=e.readMoreLabel||this._readMoreLabel;this._textWidth=e.textWidth;this._textHeight=e.textHeight;this._formWidth=e.formWidth||this._textWidth;this._imageWidth=e.imageWidth;this._imageHeight=e.imageHeight;this._itemHeight=Math.max(this._textHeight,this._imageHeight);this._setting=d.setting}this.initUI()};a.initUI=function(){this._container=new pinetree.Sprite();this._container.alpha=0;this._hscroller=new pinetreecom.HScroller(this.sliderWidth,this.sliderHeight,1,1,this.sliderOverColor,this.sliderOutColor,this.sliderOverAlpha,this.sliderOutAlpha,this.sliderBGColor,this.sliderBGAlpha,null,false,true,false);this.addChild(this._hscroller);this._hscroller.ON_CHANGE.add(this,this._onScrollProgress);this._hscroller.addTarget(this._container,0,0,0);this._imageLoader=new pinetreecom.ShadowImageLoader(this._imageWidth,this._imageHeight);this._container.addChild(this._imageLoader);if(this._mapLink!=""){this._readMoreTxt=new pinetree.TextField();this._readMoreTxt.className+=" contact_read_more_label";this._readMoreTxt.useMouseHand=true;this._readMoreTxt.selectable=false;this._container.addChild(this._readMoreTxt);this._readMoreTxt.alpha=0;this._readMoreTxt.width=this._imageWidth;this._readMoreTxt.htmlText=this._readMoreLabel;this.registerAutoDispose(this._readMoreTxt);var d=pt.getCommonTexture(pinetreepages.EnumTextures.ZOOM_IN_ICON);this._icon=new pinetree.TextureImage(d);this._icon.alpha=0;this._icon.buttonMode=true;this._container.addChild(this._icon);pinetreecom.ColorUtil.setColor(this._icon,pt.bgColor);this._icon.x=(this._imageWidth-this._icon.width)>>1;this.registerAutoDispose(this._icon);this._hitArea=new pinetree.Sprite();this._hitArea.width=this._imageWidth;this._hitArea.height=this._imageHeight;this._container.addChild(this._hitArea);this._hitArea.buttonMode=true;this._hitArea.alpha=0;this._hitArea.addEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOverHitarea,this);this._hitArea.addEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOutHitarea,this);this._hitArea.addEventListener(pinetree.MouseEvent.CLICK,this.onClickHitarea,this)}this._txtContainer=new pinetreecom.TextContainer(this._textWidth,this._textHeight,this._bgColor,0,true,true,null);this._container.addChild(this._txtContainer);this._txtContainer.gapBetweenTitleAndInfo=25;this._txtContainer.sliderOverColor=pt.onOverColor;this._txtContainer.sliderOutColor=pt.onOverColor;this._txtContainer.sliderBGAlpha=0;this._txtContainer.paddingLeft=this._padding;this._txtContainer.paddingRight=this._paddingX;this._txtContainer.paddingTop=0;this._txtContainer.paddingBottom=0;this._txtContainer.init();this._txtContainer.title=this._title;this._txtContainer.information=this._description;this._txtContainer.scrollGapX=0;this._txtContainer.scrollerHeight=this._textHeight-this._txtContainer.titleHeight-this._txtContainer.gapBetweenTitleAndInfo;this._txtContainer.x=this._imageWidth;this._titleTxt=new pinetree.TextField();this._titleTxt.className+=" contact_form_title";this._container.addChild(this._titleTxt);this._titleTxt.selectable=false;this._titleTxt.x=this._txtContainer.x+this._textWidth+this._paddingX;this._titleTxt.htmlText=this._formTitle;this._contactForm=new pinetreecom.ContactForm("data/php/contact.php",this._formWidth,this._textColor);this._contactForm.mouseChildren=false;this._container.addChild(this._contactForm);this._contactForm.initWith(this._setting);this._contactForm.x=this._txtContainer.x+this._textWidth+this._paddingX;this._contactForm.y=this._txtContainer.gapBetweenTitleAndInfo+this._txtContainer.titleHeight;var c=(this._formWidth-218)>>1;var e=(235-100)>>1;this._contactForm.updateMsgBoxPosition(this._contactForm.x+c,this._contactForm.y+e);this._triggerRect=new pinetreecom.TriggerRect(1,1,65280,0);this.addChildAt(this._triggerRect,0);this._hscroller.reset();this._hscroller.enabled=false;this._hscroller.scrollMC.alpha=0;if(!pinetree.isDevice){this._hscroller.mouseWheelArea=this._triggerRect;this._hscroller.enabled=true;this._hscroller.show()}this._imageLoader.load(this._imageurl);this.transitionIn()};a._onOverHitarea=function(d){TweenMax.to(this._imageLoader.imageLoader.fg,this.tweenTime/3,{alpha:pt.bgAlpha,ease:Quad.easeOut});var g=this._imageHeight>>1;var c=5;var e=10;if(this._icon){this._icon.y=g-this._icon.height-e-20+c;TweenMax.to(this._icon,this.tweenTime/3,{alpha:1,y:g-this._icon.height-e+c,ease:Cubic.easeInOut})}if(this._readMoreTxt){this._readMoreTxt.y=g+e+20;TweenMax.to(this._readMoreTxt,this.tweenTime/3,{alpha:1,y:g+e,ease:Cubic.easeOut})}};a.onOutHitarea=function(d){TweenMax.to(this._imageLoader.imageLoader.fg,this.tweenTime/3,{alpha:0,ease:Quad.easeOut});var g=this._imageHeight>>1;var c=5;var e=10;TweenMax.to(this._icon,this.tweenTime/3,{alpha:0,y:g-this._icon.height-e-20+c,ease:Cubic.easeInOut});TweenMax.to(this._readMoreTxt,this.tweenTime/3,{alpha:0,y:g+e+20,ease:Cubic.easeOut})};a.onClickHitarea=function(c){navigateToURL(this._mapLink,"_blank");this.onOutHitarea(null)};a._onScrollProgress=function(c){};a._onImageLoadComplete=function(c){if(c){this._imageLoader.setRealFitSize(this._imageWidth,this._itemHeight)}};a._onIOError=function(c){this._onImageLoadComplete(null)};a.resize=function(d,g){if(pinetree.isDevice){}else{var e=this._imageWidth+this._textWidth+this._formWidth+this._paddingX+this.sliderStartX*2;var c=((d-e)>>1)+this.sliderStartX;if(c<this.sliderStartX){c=this.sliderStartX}this._hscroller.x=c;this._hscroller.y=(g+pt.TOP_HEIGHT-pt.FOOTER_HEIGHT-this._itemHeight)>>1;this._hscroller.setSize(e,g,d,((d-this.sliderWidth)>>1)-c,this._itemHeight+30);this._hscroller.scrollerWidth=this.sliderWidth;if(this._triggerRect){this._triggerRect.width=d;this._triggerRect.height=g}}};a.transitionIn=function(){this.redraw();this.mouseChildren=this.mouseEnabled=true;if(pinetree.isDevice){this._txtContainer.alpha=0;TweenMax.to(this._contactForm,this.tweenTime,{alpha:1,delay:0.1,ease:Cubic.easeInOut});TweenMax.to(this._txtContainer,this.tweenTime,{alpha:1,delay:0.2,ease:Quart.easeOut,onComplete:Delegate.create(this,this.transitionInComplete)});this._container.alpha=1}else{this._hscroller.y=-this._itemHeight;this._container.alpha=1;var c=(pt.stageHeight+pt.TOP_HEIGHT-pt.FOOTER_HEIGHT-this._itemHeight)>>1;TweenMax.to(this._hscroller,this.tweenTime*1.2,{y:c,ease:Quart.easeOut,onComplete:Delegate.create(this,this.transitionInComplete)})}};a.transitionInComplete=function(){pinetreepages.ViewBase.prototype.transitionInComplete.call(this);this.redraw();this._hscroller.tweenScrollerAlpha(1,this.tweenTime/2)};a.transitionOut=function(){this.mouseChildren=this.mouseEnabled=false;this._contactForm.mouseChildren=false;if(pinetree.isDevice){}else{TweenMax.to(this._hscroller,this.tweenTime,{y:pt.stageHeight+50,ease:Quart.easeIn,onComplete:Delegate.create(this,this.transitionOutComplete)})}};a.dispose=function(){if(this._hscroller){this._hscroller.removeFromParent(true);this._hscroller=null}if(this._triggerRect){this._triggerRect.removeFromParent(true);this._triggerRect=null}this._dataLoader&&this._dataLoader.dispose();this._dataLoader=null;if(this._imageLoader){this._imageLoader.dispose();this._imageLoader=null}if(this._hitArea){this._hitArea.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOverHitarea,this);this._hitArea.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this.onOutHitarea,this);this._hitArea.removeEventListener(pinetree.MouseEvent.CLICK,this.onClickHitarea,this);this._hitArea.dispose();this._hitArea=null}if(this._icon){TweenMax.killTweensOf(this._icon)}if(this._readMoreTxt){TweenMax.killTweensOf(this._readMoreTxt)}this._txtContainer&&this._txtContainer.dispose();this._txtContainer=null;this._contactForm&&this._contactForm.dispose();this._contactForm=null;pinetreepages.ViewBase.prototype.dispose.call(this)};a.toString=function(){return"[Object ContactView]"};pinetreepages.ContactView=b}());(function(){var b=function(c){pinetreepages.ViewBase.call(this,c);this._title="";this._description="";this._imageurl="";this._mapLink="";this._imageWidth=0;this._imageHeight=0;this._setting=null;this._padding=30;this._textWidth=0;this._bgColor=pt.bgColor;this._textColor=pt.textColor;this._dataLoader=null;this._container=null;this._imageLoader=null;this._txtContainer=null;this.mouseChildren=this.mouseEnabled=false};var a=__extends(b,pinetreepages.ViewBase);a.addedToStage=function(){if(!this.isInitialized){this._dataLoader=new pinetreecom.FileLoader(pt.assetLoading,this.data.size);this._dataLoader.ON_IO_ERROR.add(this,this.onIOError);this._dataLoader.ON_LOAD_COMPLETE.add(this,this.onLoadDataComplete);this._dataLoader.load(new pinetree.URLRequest(this.data.src));this.registerAutoDispose(this._dataLoader)}pinetreepages.ViewBase.prototype.addedToStage.call(this)};a.onLoadDataComplete=function(c){var d=JSON.parse(c.data);if(d){var e=d.data;this._title=e.title||this._title;this._description=e.description||this._description;this._imageurl=e.imageurl||"";this._mapLink=e.mapLink||this._mapLink;this._imageWidth=e.imageWidth;this._imageHeight=e.imageHeight;this._textWidth=e.deviceTextWidth||e.textWidth;this._setting=d.setting}this.initUI()};a.initUI=function(){this._container=new pinetree.Sprite();this.addChild(this._container);this._imageLoader=new pinetreecom.ShadowImageLoader(this._imageWidth,this._imageHeight);this._container.addChild(this._imageLoader);this._imageLoader.x=this._padding;this._imageLoader.y=this._padding+pt.TOP_HEIGHT;this.registerAutoDispose(this._imageLoader);if(this._mapLink!=""){this._imageLoader.addEventListener(pinetree.MouseEvent.CLICK,this._onClickImg,this)}this._txtContainer=new pinetreecom.DeviceTextContainer(this._textWidth,this._bgColor,0,true,true);this._container.addChild(this._txtContainer);this._txtContainer.paddingLeft=this._padding;this._txtContainer.paddingRight=this._padding;this._txtContainer.paddingTop=0;this._txtContainer.paddingBottom=0;this._txtContainer.init();this.registerAutoDispose(this._txtContainer);this._txtContainer.title=this._title;this._txtContainer.information=this._description;this._txtContainer.x=0;this._txtContainer.y=this._imageHeight+this._imageLoader.y+this._padding;var d=this._textWidth-this._padding-this._padding-10;this._contactForm=new pinetreecom.ContactForm("data/php/contact.php",d,this._textColor);this._contactForm.mouseChildren=false;this._container.addChild(this._contactForm);this._contactForm.initWith(this._setting);this._contactForm.x=this._padding;this._contactForm.y=this._txtContainer.y+this._txtContainer.contentHeight+this._padding;var c=(d-218)>>1;var e=(270-100)>>1;this._contactForm.updateMsgBoxPosition(this._contactForm.x+c,this._contactForm.y+e);this.registerAutoDispose(this._contactForm);this._imageLoader.load(this._imageurl);this.transitionIn()};a._onClickImg=function(c){navigateToURL(this._mapLink,"_blank")};a._onScrollProgress=function(c){};a._onImageLoadComplete=function(c){if(c){this._imageLoader.setRealFitSize(this._imageWidth,this._itemHeight)}};a._onIOError=function(c){this._onImageLoadComplete(null)};a.resize=function(c,d){this.height=this._contactForm.y+this._contactForm.height+this._padding;if(this._height<d-pt.TOP_HEIGHT-this._padding*2){this._container.y=(d-pt.TOP_HEIGHT-this._padding*2-this._height)>>1}else{this._container.y=0}this._container.x=(c-this._textWidth)>>1};a.transitionIn=function(){this.redraw();this.mouseChildren=this.mouseEnabled=true;if(!this.tweenAlphaByCSS(1,this.tweenTime,0,"ease-out",Delegate.create(this,this.transitionInComplete))){TweenMax.to(this,this.tweenTime,{alpha:1,ease:Quart.easeOut,onComplete:Delegate.create(this,this.transitionInComplete)})}};a.transitionInComplete=function(){pinetreepages.ViewBase.prototype.transitionInComplete.call(this);this.redraw()};a.transitionOut=function(){this.mouseChildren=this.mouseEnabled=false;this._contactForm.mouseChildren=false;if(!this.tweenAlphaByCSS(0,this.tweenTime,0,"ease-out",Delegate.create(this,this.transitionOutComplete))){TweenMax.to(this,this.tweenTime,{alpha:0,ease:Quart.easeOut,onComplete:Delegate.create(this,this.transitionOutComplete)})}};a.dispose=function(){if(this._imageLoader){this._imageLoader.removeEventListener(pinetree.MouseEvent.CLICK,this._onClickImg,this)}pinetreepages.ViewBase.prototype.dispose.call(this)};a.toString=function(){return"[Object ContactDeviceView]"};pinetreepages.ContactDeviceView=b}());(function(){var b=function(c){pinetreepages.ViewBase.call(this,c)};var a=__extends(b,pinetreepages.ViewBase);a.addedToStage=function(){pinetreepages.ViewBase.prototype.addedToStage.call(this)};a.transitionIn=function(){};a.transitionOut=function(){};a.dispose=function(){pinetreepages.ViewBase.prototype.dispose.call(this)};a.toString=function(){return"[Object ExternalView]"};pinetreepages.ExternalView=b}());(function(){var b=function(c){pinetreepages.ViewBase.call(this,c);this._galleryFacade=new pinetreepages.GalleryFacade();this._galleryFacade.ON_DISPOSE_COMPLETE.add(this,this._mvcDisposed);this._container=new pinetree.Sprite();this.addChild(this._container)};var a=__extends(b,pinetreepages.ViewBase);a.addedToStage=function(){pinetreepages.ViewBase.prototype.addedToStage.call(this)};a.analyzeParams=function(c,d){pinetreepages.ViewBase.prototype.analyzeParams.call(this,c,d);if(this._galleryFacade){this._galleryFacade.updateLinkParams(this.linkId,this.linkParams)}};a.active=function(){this._galleryFacade.active()};a.inactive=function(){this._galleryFacade.inactive()};a.transitionIn=function(){this._galleryFacade.startUp({container:this._container,source:this.data.src,name:this.data.name,size:this.data.size});this._galleryFacade.updateLinkParams(this.linkId,this.linkParams);this.transitionInComplete()};a.transitionOut=function(){this._galleryFacade&&this._galleryFacade.predispose()};a._mvcDisposed=function(){this.transitionOutComplete()};a.dispose=function(){pinetreepages.ViewBase.prototype.dispose.call(this)};a.toString=function(){return"[Object GalleryView]"};pinetreepages.GalleryView=b}());(function(){var a=function(){pinetreemvc.Facade.call(this);this.$={NFT_START_UP:"notification_start_up",NFT_DATA_LOAD_CATEGORY_COMPLETE:"notification_data_load_category_complete",NFT_DATA_LOAD_COMPLETE:"notification_data_load_complete",NFT_CATEGORY_CHANGE:"notification_category_change",NFT_BACK_TO_CATEGORY:"notification_back_to_category",NFT_IMAGE_CHANGE:"notification_image_change",NFT_IMAGE_CHANGE_BY_TIMER:"notification_image_change_by_timer",NFT_IMAGE_LOAD_COMPLETE:"notification_image_load_complete",NFT_SLIDESHOW_START:"notification_slideshow_start",NFT_SLIDESHOW_PAUSE:"notification_slideshow_pause",NFT_SLIDESHOW_RESUME:"notification_slideshow_resume",NFT_SLIDESHOW_STOP:"notification_slideshow_stop",NFT_LINK_PARAMETERS_CHANGE:"notification_link_parameters_change",NFT_ACTIVE:"notification_active",NFT_INACTIVE:"notification_inactive",name:"",categorySetting:null,setting:null,root:null,timerUI:null,imagesUI:null,thumbnailsUI:null,categoriesUI:null}};var b=__extends(a,pinetreemvc.Facade);b.startUp=function(c){this.registerCommand(this.$.NFT_START_UP,pinetreepages.GalleryStartUpCommand);this.registerCommand(this.$.NFT_CATEGORY_CHANGE,pinetreepages.GalleryChangeCategoryCommand);this.sendNotification(this.$.NFT_START_UP,c)};b.active=function(){this.sendNotification(this.$.NFT_ACTIVE,null)};b.inactive=function(){this.sendNotification(this.$.NFT_INACTIVE,null)};b.updateLinkParams=function(c,d){this.sendNotification(this.$.NFT_LINK_PARAMETERS_CHANGE,{linkId:c,linkParams:d})};pinetreepages.GalleryFacade=a}());(function(){var a=function(){this.panelWidth=420;this.thumbRadius=400;this.itemHeight=300;this.bgColor=16777215;this.bgAlpha=1;this.gap=10;this.panelBgAlpha=0.95;this.needTweenTextColor=true};a.from=function(c){var b=new pinetreepages.GalleryCategorySetting();b.panelWidth=c.panelWidth;b.thumbRadius=c.thumbRadius;b.itemHeight=c.itemHeight;b.bgColor=c.bgColor==undefined?b.bgColor:pt.fromColorString(c.bgColor);b.bgAlpha=__defaultSet(c.bgAlpha,b.bgAlpha);b.gap=c.gap;b.panelBgAlpha=__defaultSet(c.panelBgAlpha,b.panelBgAlpha);b.needTweenTextColor=__defaultSet(c.needTweenTextColor,b.needTweenTextColor);return b};pinetreepages.GalleryCategorySetting=a}());(function(){var a=function(){this.thumbWidth=400;this.thumbHeight=400;this.gap=0;this.tweenType=1;this.showTip=true;this.useShadow=false;this.tipOverAlpha=1;this.tipOutAlpha=1;this.tipType=1;this.tipOffsetX=0;this.needTweenTipBg=true;this.tipBgAlpha=pt.bgAlpha;this.tipBgColor=pt.bgColor;this.tipTitleColor=pt.onOverColor;this.tipTitleFontSize=14;this.tipDescriptionColor=pt.textColor;this.buttonBgOverColor=pt.onOverColor;this.buttonBgOutColor=pt.onOutColor;this.buttonTextOverColor=pt.onOverColor;this.buttonTextOutColor=pt.onOutColor;this.buttonCornerSize=0;this.imageBgColor=13421772;this.duration=5;this.textWidth=0;this.isVerticalFit=true;this.isBlur=false;this.isBlackWhite=false;this.isShowBlackWhiteFirst=true;this.needInfoButton=true;this.needPinterestButton=true;this.needHomeButton=true;this.needDownloadButton=true;this.needZoomButton=true;this.autoPlay=true;this.thumbZoomValue=1.03;this.readMoreLabel="READ MORE";this.isZoomIn=false};a.from=function(c){var b=new pinetreepages.GallerySetting();b.thumbWidth=c.thumbWidth;b.thumbHeight=c.thumbHeight;b.textWidth=c.textWidth;b.gap=c.gap||0;b.tweenType=__defaultSet(c.tweenType,b.tweenType);b.tipOverAlpha=__defaultSet(c.tipOverAlpha,b.tipOverAlpha);b.tipOutAlpha=__defaultSet(c.tipOutAlpha,b.tipOutAlpha);b.tipType=__defaultSet(c.tipType,b.tipType);b.needTweenTipBg=__defaultSet(c.needTweenTipBg,b.needTweenTipBg);b.tipBgAlpha=__defaultSet(c.tipBgAlpha,b.tipBgAlpha);b.tipBgColor=c.tipBgColor==undefined?b.tipBgColor:pt.fromColorString(c.tipBgColor);b.showTip=__defaultSet(c.showTip,b.showTip);b.useShadow=__defaultSet(c.useShadow,b.useShadow);b.tipOffsetX=__defaultSet(c.tipOffsetX,b.tipOffsetX);b.tipTitleColor=c.tipTitleColor==undefined?b.tipTitleColor:pt.fromColorString(c.tipTitleColor);b.tipDescriptionColor=c.tipDescriptionColor==undefined?b.tipDescriptionColor:pt.fromColorString(c.tipDescriptionColor);b.imageBgColor=c.imageBgColor==undefined?b.imageBgColor:pt.fromColorString(c.imageBgColor);b.tipTitleFontSize=c.tipTitleFontSize||b.tipTitleFontSize;b.duration=__defaultSet(c.duration,b.duration);b.isVerticalFit=__defaultSet(c.isVerticalFit,b.isVerticalFit);b.needInfoButton=__defaultSet(c.needInfoButton,b.needInfoButton);b.needPinterestButton=__defaultSet(c.needPinterestButton,b.needPinterestButton);b.needHomeButton=__defaultSet(c.needHomeButton,b.needHomeButton);b.needDownloadButton=__defaultSet(c.needDownloadButton,b.needDownloadButton);b.needZoomButton=__defaultSet(c.needZoomButton,b.needZoomButton);b.isZoomIn=__defaultSet(c.isZoomIn,b.isZoomIn);b.autoPlay=__defaultSet(c.autoPlay,b.autoPlay);b.isBlur=__defaultSet(c.isBlur,b.isBlur);b.thumbZoomValue=__defaultSet(c.thumbZoomValue,b.thumbZoomValue);b.readMoreLabel=__defaultSet(c.readMoreLabel,b.readMoreLabel);b.buttonCornerSize=__defaultSet(c.buttonCornerSize,b.buttonCornerSize);b.buttonBgOverColor=c.buttonBgOverColor==undefined?b.buttonBgOverColor:pt.fromColorString(c.buttonBgOverColor);b.buttonBgOutColor=c.buttonBgOutColor==undefined?b.buttonBgOutColor:pt.fromColorString(c.buttonBgOutColor);b.buttonTextOverColor=c.buttonTextOverColor==undefined?b.buttonTextOverColor:pt.fromColorString(c.buttonTextOverColor);b.buttonTextOutColor=c.buttonTextOutColor==undefined?b.buttonTextOutColor:pt.fromColorString(c.buttonTextOutColor);var d=c.isBlackWhite;if(d){b.isBlackWhite=__defaultSet(d.active,b.isBlackWhite);b.isShowBlackWhiteFirst=__defaultSet(d.showBlackWhiteFirst,b.isShowBlackWhiteFirst)}return b};pinetreepages.GallerySetting=a})();(function(){var a=function(){this.index=0;this.source="";this.title="";this.description="";this.imageurl="";this.thumburl="";this.thumbRadius=0;this.itemHeight=0;this.bgColor=16777215;this.bgAlpha=1;this.needTweenTextColor=true};a.from=function(c){var b=new pinetreepages.GalleryCategoryVo();b.source=c.source;b.title=c.title;b.description=c.description;b.imageurl=c.imageurl;b.thumburl=c.thumburl;b.bgColor=c.bgColor==undefined?undefined:pt.fromColorString(c.bgColor);b.bgAlpha=c.bgAlpha;return b};pinetreepages.GalleryCategoryVo=a})();(function(){var a=function(){this.index=0;this.total=0;this.title="";this.preview="";this.description="";this.imageurls=[];this.thumburl="";this.thumbWidth=0;this.thumbHeight=0;this.videoWidth=640;this.videoHeight=360;this.videourl="";this.videoType="video";this.tweenType=1;this.menuName="";this.name="";this.isBlur=false;this.isBlackWhite=false;this.isShowBlackWhiteFirst=true;this.showTip=true;this.useShadow=false;this.tipType=1;this.tipOffsetX=0;this.tipBgAlpha=1;this.tipBgColor=pt.bgColor;this.tipTitleColor=-1;this.tipTitleFontSize=14;this.tipDescriptionColor=-1;this.tipOverAlpha=-1;this.tipOutAlpha=-1;this.needTweenTipBg=true;this.tipMaxWidth=0;this.zoomValue=1;this.tipIsLeft=true;this.tipIsTop=true;this.buttonText="READ MORE";this.buttonBgOverColor=-1;this.buttonBgOutColor=-1;this.buttonTextOverColor=-1;this.buttonTextOutColor=-1;this.buttonCornerSize=0;this.isOver=false;this.readMoreLabel="";this.isImage=true};a.from=function(g){var c=new pinetreepages.GalleryImageVo();c.title=g.title;c.name=g.name||c.name;c.preview=g.preview||c.preview;c.description=g.description;var e=g.imageurl||"";if(e){e=e.replace(/,\s*/,",")}c.imageurls=e.split(",");c.thumburl=g.thumburl;c.thumbWidth=g.thumbWidth||0;c.thumbHeight=g.thumbHeight||0;c.tipOverAlpha=__defaultSet(g.tipOverAlpha,c.tipOverAlpha);c.tipOutAlpha=__defaultSet(g.tipOutAlpha,c.tipOutAlpha);c.tipTitleColor=g.tipTitleColor==undefined?c.tipTitleColor:pt.fromColorString(g.tipTitleColor);c.tipDescriptionColor=g.tipDescriptionColor==undefined?c.tipDescriptionColor:pt.fromColorString(g.tipDescriptionColor);c.tipMaxWidth=__defaultSet(g.tipMaxWidth,c.tipMaxWidth);c.isOver=__defaultSet(g.isOver,c.isOver);c.buttonBgOverColor=g.buttonBgOverColor==undefined?c.buttonBgOverColor:pt.fromColorString(g.buttonBgOverColor);c.buttonBgOutColor=g.buttonBgOutColor==undefined?c.buttonBgOutColor:pt.fromColorString(g.buttonBgOutColor);c.buttonTextOverColor=g.buttonTextOverColor==undefined?c.buttonTextOverColor:pt.fromColorString(g.buttonTextOverColor);c.buttonTextOutColor=g.buttonTextOutColor==undefined?c.buttonTextOutColor:pt.fromColorString(g.buttonTextOutColor);if(pinetree.isDevice){c.videoWidth=__defaultSet(g.videoWidth,c.videoWidth);c.videoHeight=__defaultSet(g.videoHeight,c.videoHeight);var d=pt.stageWidth;var i=pt.stageHeight-pt.TOP_HEIGHT-pt.DEVICE_FOOTER_HEIGHT;var b=Math.max(c.videoWidth/d,c.videoHeight/i);c.videoWidth=Math.floor(c.videoWidth/b);c.videoHeight=Math.floor(c.videoHeight/b)}else{c.videoWidth=__defaultSet(g.videoWidth,c.videoWidth);c.videoHeight=__defaultSet(g.videoHeight,c.videoHeight)}c.videourl=g.videourl||"";c.videoType=__defaultSet(g.videoType,"video");var h=g.tipAlign||"";c.tipIsLeft=!(h.indexOf("right")>-1);c.tipIsTop=!(h.indexOf("bottom")>-1);c.isImage=c.videourl=="";return c};pinetreepages.GalleryImageVo=a})();(function(){var a=function(e,d,g,c){pinetreemvc.Proxy.call(this,e,d,g,c)};a.NAME="GalleryCategoryProxy";var b=__extends(a,pinetreemvc.Proxy);b.parse=function(e){var k=[];var j=JSON.parse(e);var h=pinetreepages.GalleryCategorySetting.from(j.setting);this.facade.$.categorySetting=h;var c=j.data.length,d;for(var g=0;g<c;g++){d=pinetreepages.GalleryCategoryVo.from(j.data[g]);d.index=g;d.thumbRadius=h.thumbRadius;d.itemHeight=h.itemHeight;d.bgColor=__defaultSet(d.bgColor,h.bgColor);d.bgAlpha=__defaultSet(d.bgAlpha,h.bgAlpha);d.needTweenTextColor=h.needTweenTextColor;k.push(d)}this.sendNotification(this.facade.$.NFT_DATA_LOAD_CATEGORY_COMPLETE,k)};pinetreepages.GalleryCategoryProxy=a})();(function(){var a=function(e,d,g,c){pinetreemvc.Proxy.call(this,e,d,g,c)};a.NAME="GalleryImageProxy";var b=__extends(a,pinetreemvc.Proxy);b.parse=function(g){var l=[];var k=JSON.parse(g);var j=pinetreepages.GallerySetting.from(k.setting);this.facade.$.setting=j;var d=this.facade.$.name;var c=k.data.length,e;for(var h=0;h<c;h++){e=pinetreepages.GalleryImageVo.from(k.data[h]);e.index=h;e.total=c;e.tweenType=j.tweenType;e.isBlur=j.isBlur;e.isBlackWhite=j.isBlackWhite;e.isShowBlackWhiteFirst=j.isShowBlackWhiteFirst;e.showTip=j.showTip;e.useShadow=j.useShadow;if(e.tipOverAlpha<0){e.tipOverAlpha=j.tipOverAlpha}if(e.tipOutAlpha<0){e.tipOutAlpha=j.tipOutAlpha}e.tipType=j.tipType;e.tipOffsetX=j.tipOffsetX;e.tipBgAlpha=j.tipBgAlpha;e.tipBgColor=j.tipBgColor;e.needTweenTipBg=j.needTweenTipBg;e.tipTitleColor=e.tipTitleColor<0?j.tipTitleColor:e.tipTitleColor;e.tipTitleFontSize=j.tipTitleFontSize;e.tipDescriptionColor=e.tipDescriptionColor<0?j.tipDescriptionColor:e.tipDescriptionColor;e.thumbWidth=e.thumbWidth<=0?j.thumbWidth:e.thumbWidth;e.thumbHeight=e.thumbHeight<=0?j.thumbHeight:e.thumbHeight;e.buttonCornerSize=j.buttonCornerSize;e.buttonBgOverColor=e.buttonBgOverColor<0?j.buttonBgOverColor:e.buttonBgOverColor;e.buttonBgOutColor=e.buttonBgOutColor<0?j.buttonBgOutColor:e.buttonBgOutColor;e.buttonTextOverColor=e.buttonTextOverColor<0?j.buttonTextOverColor:e.buttonTextOverColor;e.buttonTextOutColor=e.buttonTextOutColor<0?j.buttonTextOutColor:e.buttonTextOutColor;e.zoomValue=j.thumbZoomValue;e.readMoreLabel=j.readMoreLabel;e.menuName=d;l.push(e)}this.sendNotification(this.facade.$.NFT_DATA_LOAD_COMPLETE,l)};pinetreepages.GalleryImageProxy=a})();(function(){var b=function(e,d,c){pinetreemvc.Mediator.call(this,e,d,c);c.ON_CHANGE.add(this,this.onChange);c.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);c.ON_SLIDESHOW_START.add(this,this.onSlideshowStart);c.ON_SLIDESHOW_STOP.add(this,this.onSlideshowStop);c.ON_SLIDESHOW_PAUSE.add(this,this.onSlideshowPause);c.ON_SLIDESHOW_RESUME.add(this,this.onSlideshowResume);this.interests=[e.$.NFT_DATA_LOAD_COMPLETE,e.$.NFT_IMAGE_CHANGE,e.$.NFT_IMAGE_CHANGE_BY_TIMER,e.$.NFT_IMAGE_LOAD_COMPLETE,e.$.NFT_SLIDESHOW_START,e.$.NFT_SLIDESHOW_PAUSE,e.$.NFT_SLIDESHOW_RESUME,e.$.NFT_SLIDESHOW_STOP,e.$.NFT_LINK_PARAMETERS_CHANGE]};b.NAME="GalleryImagesMediator";var a=__extends(b,pinetreemvc.Mediator);a.handleNotification=function(e){var c=e.name;var d=e.data;switch(c){case this.facade.$.NFT_DATA_LOAD_COMPLETE:this.viewComponent.initData(d);break;case this.facade.$.NFT_IMAGE_CHANGE:this.viewComponent.load(d);break;case this.facade.$.NFT_IMAGE_CHANGE_BY_TIMER:this.viewComponent.loadByTimer(d);break;case this.facade.$.NFT_IMAGE_LOAD_COMPLETE:break;case this.facade.$.NFT_SLIDESHOW_START:this.viewComponent.slideshowStart();break;case this.facade.$.NFT_SLIDESHOW_PAUSE:this.viewComponent.slideshowPause();break;case this.facade.$.NFT_SLIDESHOW_RESUME:this.viewComponent.slideshowResume();break;case this.facade.$.NFT_SLIDESHOW_STOP:this.viewComponent.slideshowStop();break;case this.facade.$.NFT_LINK_PARAMETERS_CHANGE:this.viewComponent.changeLinkParams(d.linkId,d.linkParams);break;default:break}};a.onChange=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_CHANGE,c)};a.onSlideshowStart=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_START)};a.onSlideshowStop=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_STOP)};a.onSlideshowPause=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_PAUSE)};a.onSlideshowResume=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_RESUME)};a.onLoadComplete=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_LOAD_COMPLETE,c)};pinetreepages.GalleryImagesMediator=b})();(function(){var b=function(e,d,c){pinetreemvc.Mediator.call(this,e,d,c);c.ON_CHANGE.add(this,this.onChange);c.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);c.ON_BACK_TO_CATEGORY.add(this,this.onBackToCategory);this.interests=[e.$.NFT_DATA_LOAD_COMPLETE,e.$.NFT_IMAGE_CHANGE,e.$.NFT_IMAGE_LOAD_COMPLETE,e.$.NFT_LINK_PARAMETERS_CHANGE,e.$.NFT_ACTIVE,e.$.NFT_INACTIVE]};b.NAME="GalleryThumbnailsMediator";var a=__extends(b,pinetreemvc.Mediator);a.handleNotification=function(e){var c=e.name;var d=e.data;switch(c){case this.facade.$.NFT_DATA_LOAD_COMPLETE:this.viewComponent.initData(d);break;case this.facade.$.NFT_IMAGE_CHANGE:break;case this.facade.$.NFT_IMAGE_LOAD_COMPLETE:break;case this.facade.$.NFT_LINK_PARAMETERS_CHANGE:this.viewComponent.changeLinkParams(d.linkId,d.linkParams);break;case this.facade.$.NFT_ACTIVE:this.viewComponent.active();break;case this.facade.$.NFT_INACTIVE:this.viewComponent.inactive();break;default:break}};a.onChange=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_CHANGE,c)};a.onLoadComplete=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_LOAD_COMPLETE,c)};a.onBackToCategory=function(){this.sendNotification(this.facade.$.NFT_BACK_TO_CATEGORY)};pinetreepages.GalleryThumbnailsMediator=b})();(function(){var a=function(e,d,c){pinetreemvc.Mediator.call(this,e,d,c);c.ON_CHANGE.add(this,this.onChange);c.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);this.interests=[e.$.NFT_DATA_LOAD_CATEGORY_COMPLETE,e.$.NFT_BACK_TO_CATEGORY,e.$.NFT_LINK_PARAMETERS_CHANGE]};a.NAME="GalleryCategoriesMediator";var b=__extends(a,pinetreemvc.Mediator);b.handleNotification=function(e){var c=e.name;var d=e.data;switch(c){case this.facade.$.NFT_DATA_LOAD_CATEGORY_COMPLETE:this.viewComponent.initData(d);break;case this.facade.$.NFT_BACK_TO_CATEGORY:this.viewComponent.backFromThumbnailsPage();break;case this.facade.$.NFT_LINK_PARAMETERS_CHANGE:this.viewComponent.changeLinkParams(d.linkId,d.linkParams);break;default:break}};b.onChange=function(d){var c=this.viewComponent.data[d];this.sendNotification(this.facade.$.NFT_CATEGORY_CHANGE,c)};b.onLoadComplete=function(c){};pinetreepages.GalleryCategoriesMediator=a})();(function(){var b=function(e,d,c){pinetreemvc.Mediator.call(this,e,d,c);c.ON_CHANGE.add(this,this.onChange);c.ON_SLIDESHOW_START.add(this,this.onSlideshowStart);c.ON_SLIDESHOW_STOP.add(this,this.onSlideshowStop);c.ON_SLIDESHOW_PAUSE.add(this,this.onSlideshowPause);c.ON_SLIDESHOW_RESUME.add(this,this.onSlideshowResume);this.interests=[e.$.NFT_DATA_LOAD_COMPLETE,e.$.NFT_IMAGE_CHANGE,e.$.NFT_IMAGE_CHANGE_BY_TIMER,e.$.NFT_SLIDESHOW_START,e.$.NFT_SLIDESHOW_PAUSE,e.$.NFT_SLIDESHOW_RESUME,e.$.NFT_SLIDESHOW_STOP]};b.NAME="GalleryTimerMediator";var a=__extends(b,pinetreemvc.Mediator);a.handleNotification=function(e){var c=e.name;var d=e.data;switch(c){case this.facade.$.NFT_DATA_LOAD_COMPLETE:this.viewComponent.initData(d);break;case this.facade.$.NFT_IMAGE_CHANGE:this.viewComponent.change(d);break;case this.facade.$.NFT_IMAGE_CHANGE_BY_TIMER:this.viewComponent.change(d);break;case this.facade.$.NFT_IMAGE_LOAD_COMPLETE:break;case this.facade.$.NFT_SLIDESHOW_START:this.viewComponent.slideshowStart();break;case this.facade.$.NFT_SLIDESHOW_PAUSE:this.viewComponent.slideshowPause();break;case this.facade.$.NFT_SLIDESHOW_RESUME:this.viewComponent.slideshowResume();break;case this.facade.$.NFT_SLIDESHOW_STOP:this.viewComponent.slideshowStop();break;default:break}};a.onChange=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_CHANGE_BY_TIMER,c)};a.onSlideshowStart=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_START)};a.onSlideshowStop=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_STOP)};a.onSlideshowPause=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_PAUSE)};a.onSlideshowResume=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_RESUME)};pinetreepages.GalleryTimerMediator=b})();(function(){var b=function(){pinetreemvc.Command.call(this)};var a=__extends(b,pinetreemvc.Command);a.execute=function(h){var l=h.data;var e=l.container;var c=l.source;var d=l.name;var i=l.size;this.facade.$.root=e;this.facade.$.name=d;var k=new pinetreepages.GalleryTimer();var m=new pinetreepages.GalleryImages();var j=new pinetreepages.GalleryThumbnails();var g=new pinetreepages.GalleryCategories();e.addChild(k);e.addChild(g);e.addChild(j);e.addChild(m);this.facade.$.timerUI=k;this.facade.$.imagesUI=m;this.facade.$.thumbnailsUI=j;this.facade.$.categoriesUI=g;this.facade.registerMediator(null,pinetreepages.GalleryTimerMediator,k);this.facade.registerMediator(null,pinetreepages.GalleryCategoriesMediator,g);this.facade.registerMediator(null,pinetreepages.GalleryThumbnailsMediator,j);this.facade.registerMediator(null,pinetreepages.GalleryImagesMediator,m);this.facade.removeProxy(pinetreepages.GalleryImageProxy.NAME);this.facade.registerProxy(null,pinetreepages.GalleryImageProxy,c,i)};pinetreepages.GalleryStartUpCommand=b})();(function(){var a=function(){pinetreemvc.Command.call(this)};var b=__extends(a,pinetreemvc.Command);b.execute=function(g){var e=g.data;var d=e.source;var c=e.size;this.facade.removeProxy(pinetreepages.GalleryImageProxy.NAME);this.facade.registerProxy(null,pinetreepages.GalleryImageProxy,d,c)};pinetreepages.GalleryChangeCategoryCommand=a})();(function(){var b=function(e,c,d){pinetree.Sprite.call(this);this._data=e;this.tweenTime=1;this.transition=Quad.easeOut;this._bgColor=e.tipBgColor;this._bgAlpha=__defaultSet(e.tipBgAlpha,pt.bgAlpha);this._width=c;this._height=d;this._btnText="";this._gapY=15;this._btnWidth=130;this._btnHeight=32;this._offsetY=15;this._onOverAlpha=e.tipOverAlpha;this._onOutAlpha=e.tipOutAlpha;this._offsetWidth=Math.floor(c/3);this._title=this._data.title;this._name=this._data.name;this._titleTxt=null;this._btn=null;this._nameTxt=null;this._btnBgOverColor=0;this._btnBgOutColor=0;this._btnTextOverColor=0;this._btnTextOutColor=0;this._btnIsOver=false;this._needTweenTipBg=true;this.selectable=false;this.buttonMode=true;this.useMouseHand=true;this.alpha=this._onOutAlpha;this._tweenBgAlphaPercent=1};var a=__extends(b,pinetree.Sprite);a.addedToStage=function(){if(!this.isInitialized){this._btnText=this._data.readMoreLabel;this._btnBgOverColor=this._data.buttonBgOverColor;this._btnBgOutColor=this._data.buttonBgOutColor;this._btnTextOverColor=this._data.buttonTextOverColor;this._btnTextOutColor=this._data.buttonTextOutColor;this._btnIsOver=this._data.isOver;this._needTweenTipBg=this._data.needTweenTipBg;this._titleTxt=new pinetree.TextField();this._titleTxt.useMouseHand=true;this._titleTxt.selectable=false;this.addChild(this._titleTxt);this._titleTxt.x=this._offsetWidth>>1;this._titleTxt.className+=" gallery_thumbnail_title_type1";this._titleTxt.fontSize=this._data.tipTitleFontSize;this._titleTxt.textColor=this._data.tipTitleColor;this._titleTxt.width=this._width-this._offsetWidth;this._titleTxt.height=10;this._titleTxt.htmlText=this._title;this._titleTxt.y=Math.floor(this._height/2-this._titleTxt.height-this._gapY)+this._offsetY;this._nameTxt=new pinetree.TextField();this._nameTxt.useMouseHand=true;this._nameTxt.selectable=false;this.addChild(this._nameTxt);this._nameTxt.x=this._offsetWidth>>1;this._nameTxt.className+=" gallery_thumbnail_name";this._nameTxt.textColor=this._data.tipTitleColor;this._nameTxt.width=this._width-this._offsetWidth;this._nameTxt.height=10;this._nameTxt.htmlText=this._name;this._nameTxt.y=Math.floor(this._height/2-this._nameTxt.height-this._gapY-this._titleTxt.height-this._gapY+10)+this._offsetY;var c=this._data.buttonCornerSize;if(this._btnIsOver){this._btn=new pinetreecom.TextButton(this._btnWidth,this._btnHeight,0,0,0,8,12,false,null,true,1,this._btnTextOverColor,this._btnTextOutColor,this._btnBgOverColor,this._btnBgOutColor,1,1,0,pt.bgAlpha,this._btnBgOverColor,this._btnBgOutColor,pt.bgAlpha,0,c,c,c,c)}else{this._btn=new pinetreecom.TextButton(this._btnWidth,this._btnHeight,0,0,0,8,12,false,null,true,1,this._btnTextOverColor,this._btnTextOutColor,this._btnBgOverColor,this._btnBgOutColor,1,1,pt.bgAlpha,0,this._btnBgOverColor,this._btnBgOutColor,0,pt.bgAlpha,c,c,c,c)}if(this._btnText){this.addChild(this._btn)}this._btn.x=(this._width-this._btnWidth)>>1;this._btn.y=Math.floor(this._height/2+this._gapY)+this._offsetY;this.backgroundAlpha=this._bgAlpha;this.backgroundColor=this._bgColor}pinetree.Sprite.prototype.addedToStage.call(this);this.setSize(this._width,this._height);this._btn.text=this._btnText};a.over=function(){if(this._needTweenTipBg){TweenMax.to(this,this.tweenTime/3,{_tweenBgAlphaPercent:0,ease:Quad.easeOut,onUpdate:this._onTweenBgAlphaUpdate,onUpdateParams:[this]})}TweenMax.to(this,this.tweenTime/3,{alpha:this._onOverAlpha,ease:Quad.easeOut})};a.out=function(){if(this._needTweenTipBg){TweenMax.to(this,this.tweenTime/3,{_tweenBgAlphaPercent:1,ease:Quad.easeOut,onUpdate:this._onTweenBgAlphaUpdate,onUpdateParams:[this]})}TweenMax.to(this,this.tweenTime/3,{alpha:this._onOutAlpha,ease:Quad.easeOut})};a._onTweenBgAlphaUpdate=function(c){c.backgroundAlpha=c._tweenBgAlphaPercent*c._bgAlpha};a.setSize=function(c,d){this._width=c;this._height=d;this._offsetWidth=Math.floor(c/3);if(this.stage){this.width=this._width;this.height=this._height;this._titleTxt.width=this._width-this._offsetWidth;this._titleTxt.height=10;this._titleTxt.htmlText=this._title;this._titleTxt.y=Math.floor(this._height/2-this._titleTxt.height-this._gapY)+this._offsetY;this._nameTxt.width=this._width-this._offsetWidth;this._nameTxt.height=10;this._nameTxt.htmlText=this._name;this._nameTxt.y=Math.floor(this._height/2-this._nameTxt.height-this._gapY-this._titleTxt.height-this._gapY+10)+this._offsetY;this._btn.x=(this._width-this._btnWidth)>>1;this._btn.y=Math.floor(this._height/2+this._gapY)+this._offsetY}};a.dispose=function(){TweenMax.killTweensOf(this);this._btn&&this._btn.dispose();this._btn=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreepages.GalleryThumbnailTipsOne=b}());(function(){var b=function(g,c,e,d){pinetree.Sprite.call(this);this.tweenTime=1;this.transition=Quad.easeOut;this._bgColor=g.tipBgColor;this._bgAlpha=__defaultSet(g.tipBgAlpha,pt.bgAlpha);this._bg=null;this._useShadow=d;this._thumbWidth=c;this._thumbHeight=e;this._tipWidth=0;this._tipHeight=0;this._tipMaxWidth=g.tipMaxWidth;this.className="shadow_20px";this._onOverAlpha=g.tipOverAlpha;this._onOutAlpha=g.tipOutAlpha;this._yPercent=0.2;this._padding=15;this._shadowBlur=10;this._title=g.title;this._titleTxt=new pinetree.TextField();this._titleTxt.y=this._padding;this._titleTxt.useMouseHand=true;this._titleTxt.selectable=false;this.addChild(this._titleTxt);this._titleTxt.x=this._padding;this._titleTxt.className+=" gallery_thumbnail_title_type2";this._titleTxt.fontSize=g.tipTitleFontSize;this._titleTxt.textColor=g.tipTitleColor;this.selectable=false;this.buttonMode=true;this.useMouseHand=true;if(this._useShadow){this._bg=new pinetree.CanvasQuad(0,0,0,0);this._bg.setShadow(1184274,1,this._shadowBlur,0,0);this._bg.color=this._bgColor;this._bg.alpha=this._bgAlpha;this.addChildAt(this._bg,0)}else{this.backgroundColor=this._bgColor;this.backgroundAlpha=this._bgAlpha}this.tweenPercent=0;this._clipRect=new pinetree.Rectangle(0,0,0,0);this.clip=this._clipRect;this.alpha=this._onOutAlpha};var a=__extends(b,pinetree.Sprite);a.addedToStage=function(){pinetree.Sprite.prototype.addedToStage.call(this)};a.over=function(){this.visible=true;this._tipWidth=this._thumbWidth*0.7;if(this._tipMaxWidth>0&&this._tipWidth>this._tipMaxWidth){this._tipWidth=this._tipMaxWidth}if(this.parent&&this.visible){this._titleTxt.width=this._tipWidth-this._padding-this._padding;this._titleTxt.height=1;this._titleTxt.htmlText=this._title;this._tipHeight=this._titleTxt.height+this._padding+this._padding;if(this._useShadow){this._tipHeight+=this._shadowBlur}var e=this._useShadow?this._tipWidth-this._shadowBlur:this._tipWidth;var c=this._useShadow?this._tipHeight-this._shadowBlur:this._tipHeight;if(this._bg){this._bg.width=e;this._bg.height=c}this.width=e;this.height=c;var d=Math.floor(this._thumbHeight*this._yPercent);if(d+c>this._thumbHeight){d=this._thumbHeight-c}this.y=d}this.tweenPercent=0;TweenMax.to(this,this.tweenTime/3,{tweenPercent:1,ease:Quad.easeOut,onUpdate:this._onTweenUpdate,onUpdateParams:[this],onComplete:this._onTweenComplete,onCompleteParams:[this]});TweenMax.to(this,this.tweenTime/3,{alpha:this._onOverAlpha,ease:Quad.easeOut})};a.out=function(){TweenMax.to(this,this.tweenTime/3,{tweenPercent:0,ease:Quad.easeOut,onUpdate:this._onTweenUpdate,onUpdateParams:[this],onComplete:this._onTweenComplete,onCompleteParams:[this]});TweenMax.to(this,this.tweenTime/3,{alpha:this._onOutAlpha,ease:Quad.easeOut})};a._onTweenUpdate=function(c){var d=c._tipWidth*c.tweenPercent;c._clipRect.width=d;c._clipRect.height=c._tipHeight;c.clip=c._clipRect};a._onTweenComplete=function(c){};a.setSize=function(c,d){this._thumbWidth=c;this._thumbHeight=d};a.dispose=function(){this._bg&&this._bg.dispose();this._bg=null;TweenMax.killTweensOf(this);TweenMax.killTweensOf(this._titleTxt);pinetree.Sprite.prototype.dispose.call(this)};pinetreepages.GalleryThumbnailTipsTwo=b}());(function(){var b=function(e,c,d){pinetree.Sprite.call(this);this.data=e;this.tweenTime=1;this.transition=Quad.easeOut;this._bg=null;this._icon=null;this._previewTxt=null;this._bgColor=e.tipBgColor;this._bgAlpha=e.tipBgAlpha;this._width=c;this._height=d;this._padding=30;this._offsetWidth=Math.floor(c/5);if(this._offsetWidth<this._padding*3){this._offsetWidth=this._padding*3}this._readMoreLabel=e.readMoreLabel;this._onOverAlpha=e.tipOverAlpha;this._onOutAlpha=e.tipOutAlpha;this.selectable=false;this.buttonMode=true;this.useMouseHand=true;this.width=this._width;this.height=this._height;this.alpha=this._onOutAlpha};var a=__extends(b,pinetree.Sprite);a.addedToStage=function(){if(!this.isInitialized){this._bg=new pinetree.Quad();this._bg.alpha=this._bgAlpha;this._bg.color=this._bgColor;this.addChildAt(this._bg,0);this._previewTxt=new pinetree.TextField();this._previewTxt.className+=" read_more_text";this._previewTxt.useMouseHand=true;this._previewTxt.selectable=false;this.addChild(this._previewTxt);this._previewTxt.alpha=0;this._previewTxt.fontSize=14;this._previewTxt.textColor=pt.bgColor;this._previewTxt.htmlText=this._readMoreLabel;var c=pt.getCommonTexture(pinetreepages.EnumTextures.ZOOM_IN_ICON);this._icon=new pinetree.TextureImage(c);this._icon.alpha=0;this._icon.buttonMode=true;this.addChild(this._icon);pinetreecom.ColorUtil.setColor(this._icon,pt.bgColor);this._icon.x=(this._width-this._icon.width)>>1}if(this._previewTxt){this._previewTxt.x=(this._width-this._previewTxt.width)>>1}pinetree.Sprite.prototype.addedToStage.call(this);this.setSize(this._width,this._height)};a.over=function(){TweenMax.to(this,this.tweenTime/3,{alpha:this._onOverAlpha,ease:Quad.easeOut});TweenMax.to(this._bg,this.tweenTime/3,{x:this._padding,y:this._padding,width:this._width-this._padding*2,height:this._height-this._padding*2,ease:Quad.easeOut});var e=this._height>>1;var c=5;var d=10;if(this._icon){this._icon.x=(this._width-this._icon.width)>>1;this._icon.y=e-this._icon.height-d-20+c;TweenMax.to(this._icon,this.tweenTime/3,{alpha:1,y:e-this._icon.height-d+c,ease:Cubic.easeInOut})}if(this._previewTxt){this._previewTxt.x=(this._width-this._previewTxt.width)>>1;this._previewTxt.y=e+d+20;TweenMax.to(this._previewTxt,this.tweenTime/3,{alpha:1,y:e+d,ease:Cubic.easeOut})}};a.out=function(){TweenMax.to(this,this.tweenTime/3,{alpha:this._onOutAlpha,ease:Quad.easeOut});TweenMax.to(this._bg,this.tweenTime/3,{x:0,y:0,width:this._width,height:this._height,ease:Quad.easeOut});var e=this._height>>1;var c=5;var d=10;TweenMax.to(this._icon,this.tweenTime/3,{alpha:0,y:e-this._icon.height-d-20+c,ease:Cubic.easeInOut});TweenMax.to(this._previewTxt,this.tweenTime/3,{alpha:0,y:e+d+20,ease:Cubic.easeOut})};a.setSize=function(c,d){this._width=c;this._height=d;this._offsetWidth=Math.floor(c/5);if(this._offsetWidth<this._padding*3){this._offsetWidth=this._padding*3}this._bg.width=c;this._bg.height=d;this.width=this._width;this.height=this._height};a.dispose=function(){if(this._icon){TweenMax.killTweensOf(this._icon);this._icon.removeFromParent(true);this._icon=null}if(this._previewTxt){TweenMax.killTweensOf(this._previewTxt);this._previewTxt=null}if(this._bg){this._bg.dispose();this._bg=null}TweenMax.killTweensOf(this);pinetree.Sprite.prototype.dispose.call(this)};pinetreepages.GalleryThumbnailTipsThree=b}());(function(){var b=function(){pinetreecom.ListItemBase.call(this);this._isShowing=false;this._icon=null;this._bgAlpha=0.9;this._itemWidth=0;this._itemHeight=0;this._currentItemWidth=0;this._isBlur=false;this._isBlackWhite=false;this._isShowBlackWhiteFirst=true;this._showTip=true;this._useShadow=false;this._zoomValue=1;this._tweenType=1;this.selectable=false;this.useMouseHand=true;this.mouseChildren=false;this.mouseEnabled=false;__defineGetterSetter(this,["isShowing"])};var a=__extends(b,pinetreecom.ListItemBase);a.setUpWith=function(c,d,e){pinetreecom.ListItemBase.prototype.setUpWith.call(this,e.thumbWidth,e.thumbHeight,e);this._isBlur=e.isBlur;this._isBlackWhite=e.isBlackWhite;this._isShowBlackWhiteFirst=e.isShowBlackWhiteFirst;this._showTip=e.showTip;this._useShadow=e.useShadow;this._zoomValue=e.zoomValue;this._tweenType=e.tweenType;if(this._showTip&&e.tipOverAlpha==0&&e.tipOutAlpha==0){this._showTip=false}if(this._isBlur){this._thumbnail=new pinetreecom.BlurThumbnail(this._itemWidth,this._itemHeight,pt.bgColor,pt.bgColor,true,null,true,null,false)}else{if(this._isBlackWhite){this._thumbnail=new pinetreecom.BlackWhiteThumbnail(this._itemWidth,this._itemHeight,pt.bgColor,pt.bgColor,true,null,true,null,false,this._isShowBlackWhiteFirst)}else{this._thumbnail=new pinetreecom.Thumbnail(this._itemWidth,this._itemHeight,pt.bgColor,pt.bgColor,true,null)}}this._thumbnail.backgroundAlpha=this._bgAlpha;this._thumbnail.ON_LOAD_COMPLETE.add(this,this._onImgLoadComplete);this._thumbnail.ON_TWEEN_COMPLETE.add(this,this._onImgTweenComplete);this.addChild(this._thumbnail);this._thumbnail.buttonMode=true;if(!e.isImage){this._icon=new pinetree.TextureImage();this.addChild(this._icon);this._icon.alpha=1;this._icon.texture=pt.getCommonTexture(pinetreepages.EnumTextures.VIDEO_ICON);this._icon.x=(this._itemWidth-this._icon.width)>>1;this._icon.y=(this._itemHeight-this._icon.height)>>1;pinetreecom.ColorUtil.setColor(this._icon,pt.videoIconColor)}this._currentItemWidth=this._itemWidth;if(!pinetree.isDevice){this.addEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.addEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this)}else{this.addEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onOver,this);this.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onOut,this)}this.buttonMode=true;this.width=this._itemWidth;this.height=this._itemHeight;if(this._tweenType==1){this.alpha=0}};a.addedToStage=function(){if(!this.isInitialized){if(this._showTip){switch(this.data.tipType){case 1:this._tips=new pinetreepages.GalleryThumbnailTipsOne(this.data,this._itemWidth,this._itemHeight);break;case 2:this._tips=new pinetreepages.GalleryThumbnailTipsTwo(this.data,this._itemWidth,this._itemHeight,this._useShadow);this._tips.x=this.data.tipOffsetX;break;case 3:this._tips=new pinetreepages.GalleryThumbnailTipsThree(this.data,this._itemWidth,this._itemHeight);break;case 4:this._tips=new pinetreepages.GalleryThumbnailTipsOne(this.data,this._itemWidth,this._itemHeight);break}if(this._tips){this.addChild(this._tips)}}}pinetreecom.ListItemBase.prototype.addedToStage.call(this)};a.removedFromStage=function(){if(!this._isShowing){return}if(this._thumbnail){this._thumbnail.onOut(this.tweenTime/2,Quart.easeOut)}};a.getThumbnail=function(){return this._thumbnail};a.load=function(){if(this._thumbnail){this._thumbnail.load(this._data.thumburl)}};a._onImgLoadComplete=function(c){this._thumbnail.setRealFitSize(this._thumbnail.imageWidth,this._thumbnail.imageHeight);this.mouseEnabled=true};a._onImgTweenComplete=function(c){this._thumbnail.backgroundAlpha=0};a._onOver=function(c){if(this._isShowing||pt.isShowingChild){return}if(c&&c.elementTarget!=this.htmlElement){return}if(pt.stage.mouseY>pt.stageHeight-pt.currentBottomHeight+3){return}if(this._isBlur){this._thumbnail.blur(0.3)}else{if(this._isBlackWhite){if(this._isShowBlackWhiteFirst){this._thumbnail.toColorful(0.3)}else{this._thumbnail.toBlackWhite(0.3)}}}if(!pinetree.isIE&&!this._isBlur){this._thumbnail.onOver(this.tweenTime*3,Quart.easeOut,this._zoomValue)}if(this._showTip){if(this._tips){this._tips.over()}}if(this._icon){TweenMax.to(this._icon,this.tweenTime/3,{alpha:0,ease:Quad.easeOut})}this._isShowing=true;this._isOverState=true};a._onOut=function(c){if(!this._isShowing){return}if(c&&c.elementTarget!=this.htmlElement){return}if(this._isBlur){this._thumbnail.unBlur(0.3)}else{if(this._isBlackWhite){if(this._isShowBlackWhiteFirst){this._thumbnail.toBlackWhite(0.3)}else{this._thumbnail.toColorful(0.3)}}}if(!pinetree.isIE&&!this._isBlur){this._thumbnail.onOut(this.tweenTime*0.5,Quart.easeOut)}if(this._showTip){if(this._tips){this._tips.out()}}if(this._icon){TweenMax.to(this._icon,this.tweenTime/3,{alpha:1,ease:Quad.easeOut})}this._isShowing=false;this._isOverState=false};a.updateOverState=function(c){if(c){this._onOver(null)}else{this._onOut(null)}this._isOverState=c};a._onTipsOutComplete=function(c,d){c.visible=false;c.y=d};a.getIsShowing=function(){return this._isShowing};a.resize=function(c,d){};a.getWidth=function(){return this._itemWidth};a.getOriginWidth=function(){if(this._thumbnail){return this._thumbnail.originWidth}return 0};a.getOriginHeight=function(){if(this._thumbnail){return this._thumbnail.originHeight}return 0};a.getCurrentWidth=function(){if(this._thumbnail){return this._thumbnail.imageWidth}return 0};a.getCurrentHeight=function(){if(this._thumbnail){return this._thumbnail.imageHeight}return 0};a.setEnable=function(){};a.setState=function(e,d){if(e){var c=!!this.parent;this.addToParent();if(!c){this.resetSize(this._itemWidth,this._itemHeight,true)}}else{this.removeFromParent()}};a.resetSize=function(d,e,c){if((this._itemWidth==d&&this._itemHeight==e)&&!c){return}this._itemWidth=d;this._itemHeight=e;this._thumbnail.setRealFitSize(d,e);this.width=d;this.height=e;this._currentItemWidth=d;if(this._tips){this._tips.setSize(d,e)}if(this._icon){this._icon.x=(d-this._icon.width)>>1;this._icon.y=(e-this._icon.height)>>1}};a.getGlobalBounds=function(){var c=this.localToGlobal(new pinetree.Point());return new pinetree.Rectangle(c.x,c.y,this._itemWidth,this._itemHeight)};a.getNewPos=function(i,h,d,l,k,n,m,j,g){var e=this.getShootAngle(i,h,n+j/2,m+g/2);var c,o;if(l+j/2<i){c=-1*d*Math.cos(e)+n-j;if(k+g/2<h){o=-1*d*Math.sin(e)+m-g}else{o=-1*d*Math.sin(e)+m+g}}else{c=d*Math.cos(e)+n+j;if(k+g/2<h){o=d*Math.sin(e)+m-g}else{o=d*Math.sin(e)+m+g}}return{x:c,y:o}};a.getShootAngle=function(d,g,c,e){return Math.atan((e-g)/(c-d))};a.animationIn=function(d,e,j,o){if(d==undefined){d=this.tweenTime}if(e==undefined){e=0}var n=false;var i=this._itemHeight||this.height;var k=this.parent?this.getStageY():this.originY;if(k>=-i&&k<pt.stageHeight){n=true}if((d==0&&e==0)||!n){this.alpha=1;o&&o();return}TweenMax.killTweensOf(this);if(this._tweenType==1){if(!pt.isHorizontalScroll){e=d*(0.8*Math.random())}this.alpha=0;if(!this.tweenAlphaByCSS(1,d,e,"linear",o)){TweenMax.to(this,d,{alpha:1,delay:e,ease:j||this.transition,onComplete:o})}this.addToParent()}else{this.addToParent();e=0;var m=pt.stageWidth;var g=pt.stageHeight;var c=Math.sqrt(m*m+g*g)/2;var l=this.getNewPos(m/2,g/2,c,this.stageX,this.stageY,this.originX,this.originY,this._itemWidth,this._itemHeight);this.x=l.x;this.y=l.y;TweenMax.to(this,1.5,{x:this.originX,y:this.originY,delay:e,ease:Cubic.easeOut,onComplete:o})}};a.animationOut=function(d,e,j,o){if(d==undefined){d=this.tweenTime}if(e==undefined){e=0}var n=false;var i=this._itemHeight||this.height;var k=this.parent?this.getStageY():this.originY;if(k>=-i&&k<pt.stageHeight){n=true}if((d==0&&e==0)||!n){this._onOutComplete(o);return}TweenMax.killTweensOf(this);this.mouseEnabled=false;if(this._tweenType==1){if(!pt.isHorizontalScroll){e=d*(0.8*Math.random())}if(!this.tweenAlphaByCSS(0,d,e,"linear",Delegate.create(this,this._onOutComplete,o))){TweenMax.to(this,d,{alpha:0,delay:e,ease:j||this.transition,onComplete:Delegate.create(this,this._onOutComplete,o)})}}else{e=0;var m=pt.stageWidth;var g=pt.stageHeight;var c=Math.sqrt(m*m+g*g)/2;var l=this.getNewPos(m/2,g/2,c,this.stageX,this.stageY,this.originX,this.originY,this._itemWidth,this._itemHeight);TweenMax.to(this,1.5,{x:l.x,y:l.y,delay:e,ease:Cubic.easeOut,onComplete:Delegate.create(this,this._onOutComplete),onCompleteParams:[o]})}};a._onOutComplete=function(c){this.removeFromParent();c&&c()};a.dispose=function(){TweenMax.killTweensOf(this);if(this._thumbnail){pinetreecom.DelayCaller.removeByOwner(this._thumbnail);this._thumbnail.removeFromParent(true);this._thumbnail=null}this._originParent=null;this._data=null;this._icon&&this._icon.dispose();this._icon=null;if(this._tips){this._tips.removeFromParent(true);this._tips=null}if(!pinetree.isDevice){this.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this)}else{this.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._onOut,this)}pinetreecom.ListItemBase.prototype.dispose.call(this)};pinetreepages.GalleryThumbnailRender=b}());(function(){var a=function(h,l,i,m,o,p,k,q,j,n,e,c,d,g){pinetree.Sprite.call(this);this._data=h;this._currentIndex=0;this._dataCount=this._data.length;this._bgHeight=i;this._bgColor=o;this._bgAlpha=p;this._textWidth=l;this._needInfoBtn=j;this._needPinBtn=n;this._needHomeBtn=!!c;this._needDownloadBtn=!!d;this._needZoomBtn=!!g;this._container=null;this._pinBtnEnabled=true;this._allEnabled=true;this._zoomInBtnEnabled=true;this._zoomOutBtnEnabled=true;this._pnBtns=null;this._playBtn=null;this._stopBtn=null;this._infoBtn=null;this._pinBtn=null;this._closeBtn=null;this._numTxt=null;this._titleTxt=null;this._txtContainer=null;this._zoomInBtn=null;this._zoomOutBtn=null;this._homeBtn=null;this._downloadBtn=null;this._useKeyControl=true;this._isVisible=false;this._isShowing=false;this._num="";this._title="";this._info="";this._timerUI=e;this._paddingX=20;this._paddingY=8;this._textHeight=this._bgHeight-this._paddingY-this._paddingY;this._bottomHeight=m;this._autoPlay=k;this._isZoomIn=q;this.ON_CHANGE=new pinetree.Signal();this.ON_PLAY=new pinetree.Signal();this.ON_STOP=new pinetree.Signal();this.ON_INFO=new pinetree.Signal();this.ON_PINTREST=new pinetree.Signal();this.ON_CLOSE=new pinetree.Signal();this.ON_ZOOM=new pinetree.Signal();this.ON_DOWNLOAD=new pinetree.Signal();this.tweenTime=1;this.transition=Quint.easeInOut;__defineGetterSetter(this,["information","bg","isShowing","bgHeight","zoomEnabled","pinEnabled","buttonEnabled"])};var b=__extends(a,pinetree.Sprite);b.addedToStage=function(){if(!this.isInitialized){this._init();if(this._useKeyControl){pinetreecom.KeyboardUtil.listen(this,[pinetree.Keyboards.ESCAPE],this._onKeyUp)}}pinetree.Sprite.prototype.addedToStage.call(this)};b._init=function(){this._container=new pinetree.Sprite();this._container.y=this._bottomHeight;this.addChild(this._container);this._container.width=pt.stageWidth;this._container.height=this._bgHeight+this._bottomHeight;this._container.backgroundAlpha=this._bgAlpha;this._container.backgroundColor=this._bgColor;var d=pt.getCommonTexture(pinetreepages.EnumTextures.PREV_ICON_H);var e=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,0,0,1,0.8,0,0);e.setTextures(d,null);d=pt.getCommonTexture(pinetreepages.EnumTextures.NEXT_ICON_H);var c=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,0,0,1,0.8,0,0);c.setTextures(d,null);this._pnBtns=new pinetreecom.TexturePNButtons(e,c,false);this._pnBtns.useKeyArrow=this._useKeyControl;this._pnBtns.onOverColor=pt.onOverColor;this._pnBtns.onOutColor=pt.onOutColor;this._container.addChild(this._pnBtns);this._pnBtns.useMouseWheel=true;this._pnBtns.ON_CHANGE.add(this,this._onClickPNButton);this._pnBtns.showPNButtons(this._currentIndex>0,this._currentIndex<this._dataCount-1);this._pnBtns.y=(this._bottomHeight-d.sourceHeight)>>1;d=pt.getCommonTexture(pinetreepages.EnumTextures.BTN_PLAY_ICON);this._playBtn=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,0,0,1,0.8,0,0);this._playBtn.setTextures(d,null);this._playBtn.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onPlay,this);this._playBtn.y=(this._bottomHeight-d.sourceHeight)>>1;d=pt.getCommonTexture(pinetreepages.EnumTextures.BTN_PAUSE_ICON);this._stopBtn=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,0,0,1,0.8,0,0);this._stopBtn.setTextures(d,null);this._stopBtn.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onStop,this);this._stopBtn.y=(this._bottomHeight-d.sourceHeight)>>1;this._timerUI.y=(this._bottomHeight-this._timerUI.height-2)>>1;if(this._needZoomBtn){d=pt.getCommonTexture(pinetreepages.EnumTextures.BTN_ZOOM_IN_ICON);this._zoomInBtn=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,0,0,1,0.8,0,0);this._zoomInBtn.setTextures(d,null);this._zoomInBtn.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onZoom,this);this._zoomInBtn.y=(this._bottomHeight-d.sourceHeight)>>1;d=pt.getCommonTexture(pinetreepages.EnumTextures.BTN_ZOOM_OUT_ICON);this._zoomOutBtn=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,0,0,1,0.8,0,0);this._zoomOutBtn.setTextures(d,null);this._zoomOutBtn.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onZoom,this);this._zoomOutBtn.y=(this._bottomHeight-d.sourceHeight)>>1;if(this._isZoomIn){this._zoomInBtn.hide(0);this._zoomOutBtn.show(0)}else{this._zoomInBtn.show(0);this._zoomOutBtn.hide(0)}}if(this._autoPlay){this._playBtn.hide(0);this._stopBtn.show(0)}else{this._playBtn.show(0);this._stopBtn.hide(0)}if(this._needInfoBtn){d=pt.getCommonTexture(pinetreepages.EnumTextures.INFO_ICON);this._infoBtn=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,0,0,1,0.8,0,0);this._infoBtn.setTextures(d,null);this._infoBtn.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onInfo,this);this._infoBtn.show();this._infoBtn.y=(this._bottomHeight-d.sourceHeight)>>1}if(this._needPinBtn){d=pt.getCommonTexture(pinetreepages.EnumTextures.PINTEREST_ICON);this._pinBtn=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,0,0,1,0.8,0,0);this._pinBtn.setTextures(d,null);this._pinBtn.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onPin,this);this._pinBtn.show();this._pinBtn.y=(this._bottomHeight-d.sourceHeight)>>1}if(this._needHomeBtn){d=pt.getCommonTexture(pinetreepages.EnumTextures.BTN_HOME_ICON);this._homeBtn=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,0,0,1,0.8,0,0);this._homeBtn.setTextures(d,null);this._homeBtn.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onHome,this);this._homeBtn.y=(this._bottomHeight-d.sourceHeight)>>1;this._homeBtn.show()}if(this._needDownloadBtn){d=pt.getCommonTexture(pinetreepages.EnumTextures.BTN_DOWNLOAD_ICON);this._downloadBtn=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,0,0,1,0.8,0,0);this._downloadBtn.setTextures(d,null);this._downloadBtn.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onDownload,this);this._downloadBtn.y=(this._bottomHeight-d.sourceHeight)>>1;this._downloadBtn.show()}d=pt.getCommonTexture(pinetreepages.EnumTextures.CLOSE_ICON);this._closeBtn=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,0,0,1,0.8,0,0);this._closeBtn.setTextures(d,null);this._closeBtn.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onClose,this);this._closeBtn.show();this._closeBtn.y=(this._bottomHeight-d.sourceHeight)>>1;this._numTxt=new pinetree.TextField();this._numTxt.fontSize=12;this._numTxt.x=this._paddingX;this._numTxt.textColor=pt.onOverColor;this._container.addChild(this._numTxt);if(!pinetree.isDevice){this._titleTxt=new pinetree.TextField();this._titleTxt.className+=" gallery_info_title";this._titleTxt.x=this._paddingX+this._numTxt.width;this._container.addChild(this._titleTxt);this._txtContainer=new pinetreecom.TextContainer(pt.stageWidth,this._textHeight,pt.bgColor,0,true,true,false);this._container.addChild(this._txtContainer);this._txtContainer.sliderOverColor=pt.onOverColor;this._txtContainer.sliderOutColor=pt.onOverColor;this._txtContainer.sliderBGAlpha=0;this._txtContainer.paddingLeft=0;this._txtContainer.paddingRight=this._paddingX;this._txtContainer.paddingTop=this._paddingY;this._txtContainer.paddingBottom=0;this._txtContainer.init();this._txtContainer.x=this._paddingX;this._txtContainer.y=this._bottomHeight}this._container.addChild(this._timerUI);this._container.addChild(this._playBtn);this._container.addChild(this._stopBtn);if(this._needZoomBtn){this._container.addChild(this._zoomInBtn);this._container.addChild(this._zoomOutBtn)}if(this._needHomeBtn){this._container.addChild(this._homeBtn)}if(this._needDownloadBtn){this._container.addChild(this._downloadBtn)}if(this._needInfoBtn){this._container.addChild(this._infoBtn)}if(this._needPinBtn){this._container.addChild(this._pinBtn)}this._container.addChild(this._closeBtn)};b._onHome=function(c){var d=pinetreepages.configUtil.siteMenuData[0];if(d){pinetreecom.LinkManager.to(d.id)}};b._onDownload=function(c){this.ON_DOWNLOAD.dispatch()};b._onZoom=function(c){if(!pinetree.isDevice){var d=c.customTarget;if(d==this._zoomInBtn){this._isZoomIn=true;this._zoomInBtn.hide(0);this._zoomOutBtn.show(0);this.ON_ZOOM.dispatch("in")}else{this._isZoomIn=false;this._zoomInBtn.show(0);this._zoomOutBtn.hide(0);this.ON_ZOOM.dispatch("out")}}else{this.ON_ZOOM.dispatch("in")}};b._onClickPNButton=function(c){if(!this._isVisible){return}if(c.type==pinetreecom.SimplePNButtonsManager.PREV_TYPE){if(this._currentIndex>0){this._currentIndex--}}else{if(this._currentIndex<this._dataCount-1){this._currentIndex++}}this.ON_CHANGE.dispatch(c);this._pnBtns.showPNButtons(this._currentIndex>0,this._currentIndex<this._dataCount-1)};b.updatePNButtons=function(c){this._currentIndex=c;this._pnBtns.showPNButtons(this._currentIndex>0,this._currentIndex<this._dataCount-1)};b.updateTexts=function(d,g,e){this._num=d;this._title=g;this._info=e;if(this._numTxt.alpha==1){TweenMax.to(this._numTxt,this.tweenTime*0.5,{alpha:0,ease:Quad.easeOut,onComplete:this._onUpdateNum,onCompleteParams:[this,d]})}else{this._numTxt.htmlText=d;this._numTxt.y=(this._bottomHeight-this._numTxt.height)>>1}if(this._titleTxt){this._titleTxt.x=this._paddingX+this._numTxt.x+this._numTxt.width;this._titleTxt.width=this._pnBtns.x-this._titleTxt.x-10;this._titleTxt.height=1;if(this._titleTxt.alpha==1){TweenMax.to(this._titleTxt,this.tweenTime*0.5,{alpha:0,ease:Quad.easeOut,onComplete:this._onUpdateTitle,onCompleteParams:[this,g]})}else{this._titleTxt.htmlText=g;this._titleTxt.y=(this._bottomHeight-this._titleTxt.height)>>1}}if(pinetree.isDevice){}else{if(this._txtContainer.alpha==1){this._txtContainer.hide(this.tweenTime*0.5,0,null,Delegate.create(this,this._onUpdateTextContainer,e))}else{this._txtContainer.reset();this._txtContainer.information=e;this._txtContainer.scrollerHeight=this._textHeight;var c=pt.stageWidth;if(c>this._textWidth){c=this._textWidth}this._txtContainer.contentWidth=c-this._paddingX-this._paddingX;this._txtContainer.scrollGapX=0}}};b._onUpdateNum=function(c,d){c._numTxt.htmlText=d;c._numTxt.y=(c._bottomHeight-c._numTxt.height)>>1;TweenMax.to(c._numTxt,c.tweenTime,{alpha:1,ease:Quad.easeOut});if(c._titleTxt){c._titleTxt.x=c._paddingX+c._numTxt.x+c._numTxt.width;c._titleTxt.width=c._pnBtns.x-c._titleTxt.x-10}};b._onUpdateTitle=function(c,d){c._titleTxt.width=c._pnBtns.x-c._titleTxt.x-10;c._titleTxt.htmlText=d;c._titleTxt.y=(c._bottomHeight-c._titleTxt.height)>>1;TweenMax.to(c._titleTxt,c.tweenTime,{alpha:1,ease:Quad.easeOut})};b._onUpdateTextContainer=function(d){this._txtContainer.reset();this._txtContainer.show();this._txtContainer.information=d;this._txtContainer.scrollerHeight=this._textHeight;var c=pt.stageWidth;if(c>this._textWidth){c=this._textWidth}this._txtContainer.contentWidth=c-this._paddingX-this._paddingX;this._txtContainer.scrollGapX=0};b._onPlay=function(c){this.ON_PLAY.dispatch();this._playBtn.hide(0);this._stopBtn.show(0)};b._onStop=function(c){this.ON_STOP.dispatch();this._playBtn.show(0);this._stopBtn.hide(0)};b._onInfo=function(c){this.ON_INFO.dispatch()};b._onPin=function(c){this.ON_PINTREST.dispatch()};b._onClose=function(c){if(!this._isVisible){return}this.ON_CLOSE.dispatch()};b._onKeyUp=function(c){switch(c){case pinetree.Keyboards.ESCAPE:this._onClose(null);break}};b.setButtonEnabled=function(c){this._allEnabled=c;this._pnBtns.enabled=c;this._playBtn.mouseEnabled=c;this._stopBtn.mouseEnabled=c;if(this._needInfoBtn){this._infoBtn.mouseEnabled=c}if(this._needPinBtn){this._pinBtn.mouseEnabled=this._allEnabled&&this._pinBtnEnabled}if(this._needZoomBtn){this._zoomInBtn.mouseEnabled=this._allEnabled&&this._zoomInBtnEnabled;this._zoomOutBtn.mouseEnabled=this._allEnabled&&this._zoomOutBtnEnabled}};b.setPinEnabled=function(d){if(!this._needPinBtn){return}this._pinBtnEnabled=d;this._pinBtn.mouseEnabled=this._allEnabled&&this._pinBtnEnabled;var c=d?1:0.3;if(this._pinBtn.isShowing){TweenMax.killTweensOf(this._pinBtn,false,{alpha:true});this._pinBtn.alpha=c}};b.setZoomEnabled=function(d){if(!this._needZoomBtn){return}this._zoomInBtnEnabled=d;this._zoomOutBtnEnabled=d;this._zoomInBtn.mouseEnabled=this._allEnabled&&this._zoomInBtnEnabled;this._zoomOutBtn.mouseEnabled=this._allEnabled&&this._zoomOutBtnEnabled;var c=d?1:0.3;if(this._zoomInBtn.isShowing){TweenMax.killTweensOf(this._zoomInBtn,false,{alpha:true});this._zoomInBtn.alpha=c}if(this._zoomOutBtn.isShowing){TweenMax.killTweensOf(this._zoomOutBtn,false,{alpha:true});this._zoomOutBtn.alpha=c}};b.resize=function(c,j){this.width=c;this._container.width=c;var k=pinetree.isDevice?10:20;var e=pinetree.isDevice?50:22;if(c<600){k=10}this._closeBtn.x=c-e-k;if(this._needInfoBtn){this._infoBtn.x=this._closeBtn.x-e-k;this._playBtn.x=this._stopBtn.x=this._infoBtn.x-e-k}else{this._playBtn.x=this._stopBtn.x=this._closeBtn.x-e-k}if(this._needZoomBtn){this._zoomInBtn.x=this._zoomOutBtn.x=this._playBtn.x-e-k}var i=(this._needZoomBtn?this._zoomInBtn.x:this._playBtn.x)-e-k;if(this._pinBtn){this._pinBtn.x=i}var d=0;if(this._needPinBtn){d=i-e-k}else{d=i}if(this._homeBtn){this._homeBtn.x=d}var h=0;if(this._needHomeBtn){h=d-e-k}else{h=d}if(this._downloadBtn){this._downloadBtn.x=h}if(this._needDownloadBtn){this._pnBtns.x=h-e-k}else{this._pnBtns.x=h}this._pnBtns.prevBtn.x=-e-k;if(pinetree.isDevice){this._timerUI.x=this._playBtn.x+8}else{this._timerUI.x=this._playBtn.x}if(this._txtContainer){var g=c;if(g>this._textWidth){g=this._textWidth}this._txtContainer.contentWidth=g-this._paddingX-this._paddingX;this._txtContainer.scrollGapX=0}if(this._titleTxt){this._titleTxt.width=this._pnBtns.x-this._titleTxt.x-10;this._titleTxt.height=1;this._titleTxt.htmlText=this._title;this._titleTxt.y=(this._bottomHeight-this._titleTxt.height)>>1}};b.getPlayBtnStagePosition=function(){return pinetreecom.CommonUtil.getStageX(this,this._playerBtn.x)};b.open=function(){if(this._isShowing){return}this._isShowing=true};b.close=function(){if(!this._isShowing){return}this._isShowing=false};b.show=function(){this._isVisible=true;TweenMax.to(this._container,this.tweenTime,{y:0,ease:this.transition})};b.hide=function(){this._isVisible=false;TweenMax.to(this._container,this.tweenTime,{y:this._bottomHeight,ease:this.transition})};b.getIsShowing=function(){return this._isShowing};b.getBgHeight=function(){return this._bgHeight};b.dispose=function(){this._timerUI=null;pinetreecom.MemoryUtil.removeSignalListeners([this.ON_CHANGE,this.ON_PLAY,this.ON_STOP,this.ON_INFO,this.ON_PINTREST,this.ON_CLOSE,this.ON_ZOOM,this.ON_DOWNLOAD]);pinetreecom.MemoryUtil.disposeObjects([this._pnBtns,this._playBtn,this._stopBtn,this._infoBtn,this._pinBtn,this._closeBtn,this._zoomInBtn,this._zoomOutBtn,this._txtContainer,this._numTxt,this._titleTxt,this._homeBtn,this._downloadBtn]);pinetreecom.KeyboardUtil.cancelByOwner(this);this._pnBtns=null;this._playBtn=null;this._stopBtn=null;this._infoBtn=null;this._pinBtn=null;this._closeBtn=null;this._zoomInBtn=null;this._zoomOutBtn=null;this._txtContainer=null;this._numTxt=null;this._titleTxt=null;this._homeBtn=null;this._downloadBtn=null;TweenMax.killTweensOf(this._container);pinetree.Sprite.prototype.dispose.call(this)};pinetreepages.GalleryInfoContainer=a}());(function(){var b=function(e,d,c){pinetree.Sprite.call(this);this._thumbnail=null;this._isZoomIn=c;this._zoomVertical=false;this._imageEdge=e;this._bottomHeight=d;this._currentWidth=0;this._currentHeight=0;this._isLoading=false;this.tweenTime=1;this.transition=Cubic.easeOut;this.ON_LOAD_COMPLETE=new pinetree.Signal();__defineGetterSetter(this,["isZoomIn","mouseMovable","bitmapData"])};var a=__extends(b,pinetree.Sprite);a.addedToStage=function(){if(!this.isInitialized){this._thumbnail=new pinetreecom.Thumbnail(0,0,0,0,false,null,false);this._thumbnail.ON_LOAD_COMPLETE.add(this,this._onLoadComplete);this.addChild(this._thumbnail)}pinetree.Sprite.prototype.addedToStage.call(this)};a.setIsZoomIn=function(m){this._isZoomIn=m;var o=pt.stageWidth,g=pt.stageHeight,k=0,j=0;if(this._isZoomIn){var p=o/this._thumbnail.originWidth;var n=g/this._thumbnail.originHeight;var d=Math.max(p,n);this._zoomVertical=p>n;var i=0;if(this._zoomVertical){i=pinetree.stage.mouseY/pt.stageHeight;j=i*(g-Math.ceil(this._thumbnail.originHeight*d))}else{i=pinetree.stage.mouseX/pt.stageWidth;k=i*(o-Math.ceil(this._thumbnail.originWidth*d))}TweenMax.killTweensOf(this._thumbnail,false,{x:true,y:true});TweenMax.to(this._thumbnail,this.tweenTime,{x:k,y:j,ease:Quart.easeOut,imageWidth:Math.ceil(this._thumbnail.originWidth*d),imageHeight:Math.ceil(this._thumbnail.originHeight*d),onComplete:this._onZoomComplete,onCompleteParams:[this]})}else{var c;var l=o-this._imageEdge,e=g-pt.TOP_HEIGHT-this._bottomHeight-this._imageEdge;if(l>=this._thumbnail.originWidth&&e>=this._thumbnail.originHeight){this._currentWidth=this._thumbnail.originWidth;this._currentHeight=this._thumbnail.originHeight}else{c=l/this._thumbnail.originWidth<e/this._thumbnail.originHeight;if(c){this._currentWidth=l;this._currentHeight=Math.floor(l/this._thumbnail.originWidth*this._thumbnail.originHeight)}else{this._currentHeight=e;this._currentWidth=Math.floor(e/this._thumbnail.originHeight*this._thumbnail.originWidth)}}TweenMax.killTweensOf(this._thumbnail,false,{x:true,y:true});k=(o-this._currentWidth)>>1;j=(g+pt.TOP_HEIGHT-this._bottomHeight-this._currentHeight)>>1;TweenMax.to(this._thumbnail,this.tweenTime,{x:k,y:j,ease:Quart.easeOut,imageWidth:this._currentWidth,imageHeight:this._currentHeight});this.mouseMovable=false}};a._onZoomComplete=function(c){if(!c._isLoading){c.mouseMovable=c._isZoomIn}};a._onLoadComplete=function(c){this._isLoading=false;this.mouseMovable=this._isZoomIn;this.ON_LOAD_COMPLETE.dispatch()};a.setMouseMovable=function(c){if(c){pinetree.stage.addEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onMouseMove,this)}else{pinetree.stage.removeEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onMouseMove,this)}};a._onMouseMove=function(d){var e=0;if(this._zoomVertical){e=pinetree.stage.mouseY/pt.stageHeight;var g=e*(pt.stageHeight-this._thumbnail.imageHeight);TweenMax.to(this._thumbnail,this.tweenTime,{y:g,ease:this.transition})}else{e=pinetree.stage.mouseX/pt.stageWidth;var c=e*(pt.stageWidth-this._thumbnail.imageWidth);TweenMax.to(this._thumbnail,this.tweenTime,{x:c,ease:this.transition})}};a.reset=function(){if(this._thumbnail){this._isLoading=false;this.mouseMovable=false;this._thumbnail.reset()}};a.load=function(c){if(this._thumbnail){this._isLoading=true;this.mouseMovable=false;this._thumbnail.load(c)}};a.getBitmapData=function(){if(this._isLoading||!this._thumbnail){return null}return this._thumbnail.bitmapData};a.update=function(d,h){if(this._isZoomIn){var g=d/this._thumbnail.originWidth;var e=h/this._thumbnail.originHeight;var i=Math.max(g,e);this._zoomVertical=g>e;this._thumbnail.imageWidth=Math.ceil(this._thumbnail.originWidth*i);this._thumbnail.imageHeight=Math.ceil(this._thumbnail.originHeight*i);var c=this._thumbnail.x+this._thumbnail.imageWidth<d?d-this._thumbnail.imageWidth:this._thumbnail.x>0?0:this._thumbnail.x;var j=this._thumbnail.y+this._thumbnail.imageHeight<h?h-this._thumbnail.imageHeight:this._thumbnail.y>0?0:this._thumbnail.y;TweenMax.killTweensOf(this._thumbnail,false,{x:true,y:true});this._thumbnail.x=c;this._thumbnail.y=j}else{this._thumbnail.setMaxSize(d-this._imageEdge,h-pt.TOP_HEIGHT-this._bottomHeight-this._imageEdge);TweenMax.killTweensOf(this._thumbnail,false,{x:true,y:true});this._thumbnail.x=(d-this._thumbnail.imageWidth)>>1;this._thumbnail.y=(h+pt.TOP_HEIGHT-this._bottomHeight-this._thumbnail.imageHeight)>>1;this._currentWidth=this._thumbnail.imageWidth;this._currentHeight=this._thumbnail.imageHeight}};a.dispose=function(){pinetree.stage.removeEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onMouseMove,this);this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.removeAll();this.ON_LOAD_COMPLETE=null;if(this._thumbnail){this._thumbnail.dispose();this._thumbnail=null}pinetree.Sprite.prototype.dispose.call(this)};pinetreepages.GalleryImageLoader=b}());(function(){var a=function(h,g,d,e,c){pinetreecom.UIComponent.call(this);this._padding=h||0;this._fontSize=__defaultSet(g,16);this._textColor=__defaultSet(d,pt.textColor);this._titleTxt=null;this._infoTxt=null;this._title="";this._info="";this.backgroundColor=__defaultSet(e,pt.bgColor);this.backgroundAlpha=__defaultSet(c,pt.bgAlpha);this.ON_CLOSE=new pinetree.Signal();this.alpha=0;this.visible=false;this.addEventListener(pinetree.MouseEvent.CLICK,this._onClick,this)};var b=__extends(a,pinetreecom.UIComponent);b.addedToStage=function(){if(!this.isInitialized){this._titleTxt=new pinetree.TextField();this._titleTxt.className+=" gallery_device_info_title";this.addChild(this._titleTxt);this._infoTxt=new pinetree.TextField();this._infoTxt.className+=" gallery_device_info_content";this.addChild(this._infoTxt)}pinetreecom.UIComponent.prototype.addedToStage.call(this)};b._onClick=function(c){this.hide()};b.setTexts=function(d,c){this._title=d;this._info=c};b.show=function(c){pinetree.stage.addChild(this);pt.navPage.view.showMenuAndLogo(false);this.visible=true;TweenMax.to(this,c||0,{alpha:1,ease:Quad.easeOut});this.redraw()};b.hide=function(d,c){TweenMax.to(this,d||0,{alpha:0,ease:Quad.easeOut,onComplete:this._onHideComplete,onCompleteParams:[this,c]})};b._onHideComplete=function(c,d){c.visible=false;c.removeFromParent();pt.navPage.view.showMenuAndLogo(true);if(!d){c.ON_CLOSE.dispatch()}};b.resize=function(c,d){if(this.visible){this._titleTxt.width=c-this._padding*2;this._titleTxt.height=1;this._titleTxt.htmlText=this._title;this._infoTxt.width=c-this._padding*2;this._infoTxt.height=1;this._infoTxt.htmlText=this._info;var i=20;var e=this._titleTxt.height+i+this._infoTxt.height;var g=e<d-this._padding*2?((d-this._padding*2-e)>>1):this._padding;this._titleTxt.x=this._padding;this._infoTxt.x=this._padding;this._titleTxt.y=g;this._infoTxt.y=g+this._titleTxt.height+i;this.width=c;e=e<d-this._padding*2?d:e+this._padding*2;this.height=e}};b.dispose=function(){this.removeEventListener(pinetree.MouseEvent.CLICK,this._onClick,this);TweenMax.killTweensOf(this);this.ON_CLOSE&&this.ON_CLOSE.removeAll();this.ON_CLOSE=null;pinetreecom.UIComponent.prototype.dispose.call(this)};pinetreepages.DeviceGalleryTextContainer=a}());(function(){var a=function(){pinetreemvc.ViewComponentBase.call(this);this.data=null;this.linkId="";this.linkParams=null;this.ON_SLIDESHOW_START=new pinetree.Signal();this.ON_SLIDESHOW_STOP=new pinetree.Signal();this.ON_SLIDESHOW_PAUSE=new pinetree.Signal();this.ON_SLIDESHOW_RESUME=new pinetree.Signal();this.ON_CHANGE=new pinetree.Signal();this.ON_LOAD_COMPLETE=new pinetree.Signal()};var b=__extends(a,pinetreemvc.ViewComponentBase);b.initData=function(c){this.data=c||[]};b.slideshowStart=function(){};b.slideshowStop=function(){};b.slideshowPause=function(){};b.slideshowResume=function(){};b.change=function(c){};b.changeLinkParams=function(c,d){this.linkId=c;this.linkParams=d};b.dispose=function(){this.ON_SLIDESHOW_START&&this.ON_SLIDESHOW_START.removeAll();this.ON_SLIDESHOW_STOP&&this.ON_SLIDESHOW_STOP.removeAll();this.ON_SLIDESHOW_PAUSE&&this.ON_SLIDESHOW_PAUSE.removeAll();this.ON_SLIDESHOW_RESUME&&this.ON_SLIDESHOW_RESUME.removeAll();this.ON_CHANGE&&this.ON_CHANGE.removeAll();this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.removeAll();this.ON_SLIDESHOW_START=null;this.ON_SLIDESHOW_STOP=null;this.ON_SLIDESHOW_PAUSE=null;this.ON_SLIDESHOW_RESUME=null;this.ON_CHANGE=null;this.ON_LOAD_COMPLETE=null;this.data=null;this.linkId="";this.linkParams=null;pinetreemvc.ViewComponentBase.prototype.dispose.call(this)};pinetreepages.GalleryBase=a})();(function(){var a=function(){pinetreepages.GalleryBase.call(this);this._originParent=null;this._screenMask=null;this.IMAGE_CONST=30*2;this.BOTTOM_CONTENT_HEIGHT=pt.FOOTER_HEIGHT_CONST;this._imageEdge=pinetree.isDevice?0:this.IMAGE_CONST;this._bottomHeight=pinetree.isDevice?pt.DEVICE_FOOTER_HEIGHT:this.BOTTOM_CONTENT_HEIGHT;this._textWidth=0;this._isInited=false;this._isPlaying=true;this._isZoomIn=false;this._isClose=false;this._currentIndex=0;this._isToPrevDirection=false;this._needInfoBtn=true;this._needPinBtn=true;this._needHomeBtn=true;this._needDownloadBtn=true;this._dataCount=0;this._currentVo=null;this._currentNodeIndex=0;this._imageLoader=null;this._infoContainer=null;this._mediaPlayer=null;this._loading=null;this._deviceInfoTxt=null;this._tweenOffsetX=20;this._isShowingInfo=false;this._isPlayingWhileClosing=false;this.positionRef="fixed";if(pt.isAlphaMode){this.alpha=pt.ALPHA_MODE_VALUE}__defineGetterSetter(this,["isInited"])};var b=__extends(a,pinetreepages.GalleryBase);b.addedToStage=function(){if(!this.isInitialized){this._originParent=this.parent}pinetreepages.GalleryBase.prototype.addedToStage.call(this)};b.initData=function(c){pinetreepages.GalleryBase.prototype.initData.call(this,c);this._currentIndex=0;this._dataCount=this.data.length;this._autoPlay=this.facade.$.setting.autoPlay;this._isZoomIn=pinetree.isDevice?false:this.facade.$.setting.isZoomIn;this._isPlaying=this._autoPlay;this._needInfoBtn=this.facade.$.setting.needInfoButton;this._needPinBtn=this.facade.$.setting.needPinterestButton;this._needHomeBtn=this.facade.$.setting.needHomeButton;this._needDownloadBtn=this.facade.$.setting.needDownloadButton;this._needZoomBtn=this.facade.$.setting.needZoomButton;this._textWidth=this.facade.$.setting.textWidth;this._initUI();this.visible=false;if(pinetree.isDevice){pt.zoomProxy.ON_CLOSE.add(this,this._onResumeSlide)}};b._initUI=function(){this._imageLoader=new pinetreepages.GalleryImageLoader(this._imageEdge,this._bottomHeight,this._isZoomIn);this._imageLoader.ON_LOAD_COMPLETE.add(this,this._onLoadImgComplete);this.addChild(this._imageLoader);this._loading=new pinetreecom.CommonLoading("big");this.addChild(this._loading);this._screenMask=new pinetree.Quad();this.addChildAt(this._screenMask,0);this._screenMask.color=pt.bgColor;this._screenMask.alpha=pinetree.isDevice?1:0.95;this._infoContainer=new pinetreepages.GalleryInfoContainer(this.data,this._textWidth,200,this._bottomHeight,pt.bgColor,0.95,this._autoPlay,this._isZoomIn,this._needInfoBtn,this._needPinBtn,this.facade.$.timerUI,this._needHomeBtn,this._needDownloadBtn,this._needZoomBtn);this._infoContainer.ON_CHANGE.add(this,this._onChange);this._infoContainer.ON_CLOSE.add(this,this._onClose);this._infoContainer.ON_INFO.add(this,this._onInfo);this._infoContainer.ON_PLAY.add(this,this._onPlay);this._infoContainer.ON_STOP.add(this,this._onStop);this._infoContainer.ON_ZOOM.add(this,this._onZoom);this._infoContainer.ON_PINTREST.add(this,this._onPin);this._infoContainer.ON_DOWNLOAD.add(this,this._onDownload);this.addChild(this._infoContainer);if(pinetree.isDevice){this._deviceInfoTxt=new pinetreepages.DeviceGalleryTextContainer(20,16,pt.textColor,pt.bgColor,0.95);this._deviceInfoTxt.ON_CLOSE.add(this,this._onResumeSlide);this.registerAutoDispose(this._deviceInfoTxt)}};b._onDownload=function(){var c=this.data[this._currentIndex];if(c){navigateToURL(c.imageurls[0])}};b._onPin=function(){var c=this.data[this._currentIndex];if(c){var d="https://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(window.location.href)+"&media="+encodeURIComponent(pt.rootDirectory+"/"+c.imageurls[0])+"&description="+encodeURIComponent(c.title);navigateToURL(d,"_blank")}};b._onZoom=function(c){this._isZoomIn=c=="in";if(!pinetree.isDevice){this._imageLoader.isZoomIn=this._isZoomIn}else{if(this._isZoomIn){this.ON_SLIDESHOW_PAUSE.dispatch()}else{this.ON_SLIDESHOW_RESUME.dispatch()}if(this._imageLoader.bitmapData){pt.zoomProxy.bitmapData=this._imageLoader.bitmapData;pt.zoomProxy.zoomIn()}}};b._onResumeSlide=function(){if(!this._isInited){return}this.ON_SLIDESHOW_RESUME.dispatch()};b._onChange=function(c){if(c.type==pinetreecom.SimplePNButtonsManager.PREV_TYPE){this._isToPrevDirection=true;pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex])}else{this._isToPrevDirection=false;pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex+2])}};b.load=function(e){this._infoContainer.buttonEnabled=false;if(pinetree.isDevice){pt.zoomProxy.zoomOut()}var d=this.data[e];this._currentVo=d;this._currentIndex=e;this._infoContainer.updatePNButtons(e);if(!this._isInited){this.transitionIn(Delegate.create(this,this.load,e));var g=pinetree.isDevice?22:16;var c="<span style='font-size:"+g+"px'>"+(d.index+1)+"</span>/"+d.total;this._infoContainer.updateTexts(c,d.title,d.description);return}this.facade.$.timerUI&&this.facade.$.timerUI.change(this._currentIndex);if(d.isImage){this.loadImage(d)}else{this.loadVideo(d)}this._infoContainer.zoomEnabled=d.isImage;this._infoContainer.pinEnabled=d.isImage};b.changeLinkParams=function(i,j){pinetreepages.GalleryBase.prototype.changeLinkParams.call(this,i,j);if(!this._isInited){return}if(j&&pinetreecom.ArrayUtil.isArray(j)&&j.length>0){var g=parseInt(j[0]);if(isNaN(g)){this._onClose()}else{if(this._currentIndex!=g-1&&g>0&&g<=this._dataCount){this._currentIndex=g-1;var c=this._isToPrevDirection?-this._tweenOffsetX:this._tweenOffsetX;if(this._currentVo.isImage){if(!this._imageLoader.tweenAlphaByCSS(0,this.tweenTime*0.5,0,"linear",Delegate.create(this,this._onHideImageComplete))){TweenMax.to(this._imageLoader,this.tweenTime*0.5,{alpha:0,ease:Linear.easeNone,onComplete:Delegate.create(this,this._onHideImageComplete)})}TweenMax.to(this._imageLoader,this.tweenTime*0.5,{x:this._imageLoader.x-c,ease:Cubic.easeOut})}else{this._mediaPlayer.tweenOut(this.tweenTime*0.8,0,Linear.easeNone,Delegate.create(this,this._onHideVideoComplete));TweenMax.to(this._mediaPlayer,this.tweenTime*0.5,{x:((pt.stageWidth-this._currentVo.videoWidth)>>1)-c,ease:Cubic.easeOut})}this.facade.$.timerUI&&this.facade.$.timerUI.stop();var e=this.data[this._currentIndex];var h=pinetree.isDevice?22:16;var d="<span style='font-size:"+h+"px'>"+(e.index+1)+"</span>/"+e.total;this._infoContainer.updateTexts(d,e.title,e.description)}}}else{this._onClose()}};b.loadByTimer=function(c){this._isToPrevDirection=c<this._currentIndex;pinetreesite.siteController.changeDeeplinking(this.linkId,[c+1])};b._dragPrev=function(c){if(this._currentIndex<=0){pt.dragPrevNext.back()}else{this._isToPrevDirection=true;pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex])}};b._dragNext=function(c){if(this._currentIndex>=this._dataCount-1){pt.dragPrevNext.back()}else{this._isToPrevDirection=false;pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex+2])}};b.loadImage=function(c){this._imageLoader.reset();this._imageLoader.alpha=0;this._imageLoader.load(c.imageurls[this._currentNodeIndex]);pt.dragPrevNext.listen(this._imageLoader,this,this._dragPrev,this._dragNext,null,"x",false,0,0);this._loading&&this._loading.show()};b.loadVideo=function(c){if(this._mediaPlayer){this._mediaPlayer.dispose();this._mediaPlayer.removeFromParent();this._mediaPlayer=null}this._mediaPlayer=new pinetreecom.MediaPlayer();this.addChild(this._mediaPlayer);this._mediaPlayer.alpha=0;this._mediaPlayer.autoplay=true;this._mediaPlayer.loop=false;this._mediaPlayer.isShowControls=true;this._mediaPlayer.playEndHandler=Delegate.create(this,this._onMediaPlayEnd);this._mediaPlayer.load(c.videourl,c.videoType,c.videoWidth,c.videoHeight);this._resizeUI();this._beginNext()};b._onMediaPlayEnd=function(){if(this.facade.$.timerUI&&this._isPlaying&&!pinetree.isDevice){var c=this._currentIndex;c++;if(c>=this._dataCount){c=0}this.loadByTimer(c)}};b._onLoadImgComplete=function(){this._loading&&this._loading.hide();this._resizeUI();this._beginNext()};b._onShowComplete=function(){this._infoContainer.buttonEnabled=true};b._onTweenBgUpdate=function(c){};b._beginNext=function(){if(this._isClose){return}var c=this._isToPrevDirection?-this._tweenOffsetX:this._tweenOffsetX;if(this._currentVo.isImage){this._imageLoader.x=c;if(!this._imageLoader.tweenAlphaByCSS(1,this.tweenTime*0.5,0,"linear")){TweenMax.to(this._imageLoader,this.tweenTime*0.5,{alpha:1,ease:Linear.easeNone})}TweenMax.to(this._imageLoader,this.tweenTime*0.5,{x:0,ease:Cubic.easeOut});if((this.facade.$.timerUI&&this._isPlaying)||this._isPlayingWhileClosing){this.ON_SLIDESHOW_START.dispatch();this._isPlayingWhileClosing=false}}else{this._mediaPlayer.tweenIn(this.tweenTime*0.5,0,Linear.easeNone);this._mediaPlayer.x=((pt.stageWidth-this._currentVo.videoWidth)>>1)+c;TweenMax.to(this._mediaPlayer,this.tweenTime*0.5,{x:(pt.stageWidth-this._currentVo.videoWidth)>>1,ease:Cubic.easeOut});if(this.facade.$.timerUI&&this._isPlaying){this.ON_SLIDESHOW_PAUSE.dispatch();this._isPlayingWhileClosing=false}}if(this._isShowingInfo&&this._currentVo.isImage){if(this._infoContainer){this._infoContainer.open()}}pinetreecom.DelayCaller.delayCall(this,this._onShowComplete,this.tweenTime*0.5,null,true)};b._onHideImageComplete=function(){this.load(this._currentIndex)};b._onHideVideoComplete=function(){this._mediaPlayer.removeFromParent(true);this._mediaPlayer=null;this.load(this._currentIndex)};b._onInfo=function(){if(!this._isInited||!this._currentVo.isImage){return}if(!pinetree.isDevice){if(this._infoContainer){if(this._infoContainer.isShowing){this._isShowingInfo=false;this._infoContainer.close();TweenMax.to(this._infoContainer,this.tweenTime*1.2,{y:pt.stageHeight-this._bottomHeight,ease:Circ.easeInOut})}else{this._isShowingInfo=true;this._infoContainer.open();TweenMax.to(this._infoContainer,this.tweenTime*1.2,{y:pt.stageHeight-this._bottomHeight-this._infoContainer.bgHeight,ease:Circ.easeInOut})}}}else{this._deviceInfoTxt.setTexts(this._currentVo.title,this._currentVo.description);this._deviceInfoTxt.show();this.ON_SLIDESHOW_PAUSE.dispatch()}};b._onPlay=function(){this.ON_SLIDESHOW_START.dispatch();this._isPlaying=true};b._onStop=function(){this.ON_SLIDESHOW_STOP.dispatch();this._isPlaying=false};b._onClose=function(){this._isPlayingWhileClosing=this.facade.$.timerUI?this._isPlaying:false;this.ON_SLIDESHOW_STOP.dispatch();this.mouseChildren=this.mouseEnabled=false;this._isClose=true;this.transitionOut(Delegate.create(this,this._closeComplete));pinetreesite.siteController.changeDeeplinking(this.linkId);this._isInited=false};b._closeComplete=function(){this.visible=false;this.facade.$.thumbnailsUI.backFromImagesPage();if(this._imageLoader){this._imageLoader.alpha=0;this._imageLoader.reset()}if(this._mediaPlayer){this._mediaPlayer.removeFromParent(true);this._mediaPlayer=null}};b.getIsInited=function(){return this._isInited};b.resize=function(c,d){if(!this._isInited||!this._currentVo){return}this._resizeUI()};b._resizeUI=function(){var c=pt.stageWidth;var d=pt.stageHeight;if(this._screenMask){this._screenMask.width=c;if(pinetree.isDevice){this._screenMask.height=d-pt.TOP_HEIGHT;this._screenMask.y=pt.TOP_HEIGHT}else{this._screenMask.height=d;this._screenMask.y=0}}if(this._currentVo.isImage){if(this._imageLoader){TweenMax.killTweensOf(this._imageLoader,false,{x:true,y:true});this._imageLoader.x=0;this._imageLoader.y=0;this._imageLoader.update(c,d)}}else{if(this._mediaPlayer){TweenMax.killTweensOf(this._mediaPlayer,false,{x:true,y:true});this._mediaPlayer.x=(c-this._currentVo.videoWidth)>>1;if(pinetree.isDevice){this._mediaPlayer.y=(d+pt.TOP_HEIGHT-this._bottomHeight-this._currentVo.videoHeight)>>1}else{this._mediaPlayer.y=(d-this._bottomHeight-this._currentVo.videoHeight)>>1}}}if(this._infoContainer){if(this._isShowingInfo){this._infoContainer.y=d-this._bottomHeight-this._infoContainer.bgHeight}else{this._infoContainer.y=d-this._bottomHeight}this._infoContainer.resize(c,d)}if(this._loading){if(pinetree.isDevice){this._loading.x=c>>1;this._loading.y=d>>1}else{this._loading.x=c>>1;if(pinetree.isDevice){this._loading.y=(d-pt.FOOTER_HEIGHT+pt.TOP_HEIGHT)>>1}else{this._loading.y=(d-pt.FOOTER_HEIGHT)>>1}}}this.width=c};b.transitionIn=function(c){this._isInited=true;this.visible=true;this._isClose=false;this.redraw();pinetreesite.siteController.bringToRoot(this);this._screenMask.width=0.1;if(pinetree.isDevice){this._screenMask.height=pt.stageHeight-pt.TOP_HEIGHT}else{this._screenMask.height=pt.stageHeight}TweenMax.to(this._screenMask,this.tweenTime,{width:pt.stageWidth,delay:0.1,onComplete:Delegate.create(this,this._transitionInComplete,c),ease:Circ.easeInOut})};b._transitionInComplete=function(c){if(pinetree.isDevice){this.facade.$.thumbnailsUI.removeFromParent();this.redraw()}if(this._infoContainer){this._infoContainer.show()}this.mouseEnabled=this.mouseChildren=true;this.redraw();c&&c()};b.predisposeOut=function(c){this.transitionOut(Delegate.create(this,this._predisposeOutComplete,c))};b._predisposeOutComplete=function(c){c&&c();this.dispose()};b.transitionOut=function(d){this.ON_SLIDESHOW_STOP.dispatch();if(pinetree.isDevice){pt.zoomProxy.zoomOut()}if(this._deviceInfoTxt&&this._deviceInfoTxt.visible){this._deviceInfoTxt.hide(0,true)}this.mouseChildren=this.mouseEnabled=false;this._loading&&this._loading.hide();var c=this.tweenTime;if(this._infoContainer){if(this._infoContainer.isShowing){this._isShowingInfo=false;this._infoContainer.close();TweenMax.to(this._infoContainer,c,{y:pt.stageHeight-this._bottomHeight,ease:Circ.easeInOut})}this._infoContainer.hide()}if(this._currentVo.isImage){TweenMax.to(this._imageLoader,c,{x:-50,ease:Cubic.easeInOut});if(!this._imageLoader.tweenAlphaByCSS(0,c,0,"ease-out")){TweenMax.to(this._imageLoader,c,{alpha:0,ease:Quad.easeOut})}this._imageLoader.mouseMovable=false}else{if(this._mediaPlayer){this._mediaPlayer.tweenOut(c,0,Quad.easeOut);TweenMax.to(this._mediaPlayer,c,{x:this._mediaPlayer.x-50,ease:Cubic.easeInOut})}}this.facade.$.thumbnailsUI.backToOriginParent();TweenMax.to(this._screenMask,c,{width:0,delay:c*0.5,onComplete:d,ease:Circ.easeInOut})};b.predispose=function(){if(this._isInited){return}this.dispose()};b.dispose=function(){this._isInited=false;this.ON_SLIDESHOW_STOP.dispatch();this._currentVo=null;if(this._screenMask){TweenMax.killTweensOf(this._screenMask);this._screenMask.removeFromParent(true);this._screenMask=null}if(this._infoContainer){this._infoContainer.removeFromParent(true);this._infoContainer=null}if(this._imageLoader){TweenMax.killTweensOf(this._imageLoader.imageContainer);this._imageLoader.dispose();this._imageLoader=null}if(this._mediaPlayer){this._mediaPlayer.removeFromParent(true);this._mediaPlayer=null}if(this._loading){this._loading.removeFromParent(true);this._loading=null}if(pinetree.isDevice){pt.zoomProxy.clear();pt.zoomProxy.ON_CLOSE.remove(this,this._onResumeSlide)}pinetreecom.DelayCaller.removeByOwner(this);pt.dragPrevNext.remove();this.removeFromParent();this._originParent=null;this.facade.$.imagesUI=null;pinetreepages.GalleryBase.prototype.dispose.call(this)};pinetreepages.GalleryImages=a})();(function(){var a=function(){pinetreepages.GalleryBase.call(this);this._originParent=null;this._listContainer=null;this._scroller=null;this._triggerRect=null;this._gap=0;this._isTweening=false;this._dataCount=0;this._currentIndex=0;this._scrollerTriggerMinY=0;this._scrollerTriggerMaxY=16777215;this._scrollerTriggerX=16777215;this._stretchScroller=false;this._isHorizontalScroll=true;this._oldScrollX=0;this._oldScrollY=0;this._isVerticalFit=false;this.sliderWidth=pinetree.isDevice?0:15;this.sliderHeight=15;this.sliderOverColor=pt.onOverColor;this.sliderOutColor=pt.onOverColor;this.sliderOverAlpha=1;this.sliderOutAlpha=1;this.sliderBGColor=pt.bgColor;this.sliderBGAlpha=0.3;this._itemHeight=0;this.percent=0;this.ON_BACK_TO_CATEGORY=new pinetree.Signal();this._isInited=false;this.selectable=false;if(pinetree.isDevice){this._htmlElement.style.overflowX="hidden"}__defineGetterSetter(this,["enabled"])};var b=__extends(a,pinetreepages.GalleryBase);b.addedToStage=function(){if(!this.isInitialized){this._originParent=this.parent;if(!pinetree.isDevice){this.stage.addEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onMouseMove,this)}else{this.addEventListener(pinetree.Event.SCROLL,this._onScroll,this)}}pinetreepages.GalleryBase.prototype.addedToStage.call(this)};b._onScroll=function(c){if(this._listContainer){this._listContainer.resize(pt.stageWidth,pt.stageHeight)}};b.initData=function(c){pinetreepages.GalleryBase.prototype.initData.call(this,c);this._dataCount=c.length;this._gap=this.facade.$.setting.gap;this._itemHeight=this.facade.$.setting.thumbHeight;this._isVerticalFit=this.facade.$.setting.isVerticalFit;this._isHorizontalScrolls=[4];this._isHorizontalScroll=this._isHorizontalScrolls.indexOf(this.facade.$.setting.tipType)>-1;pt.isHorizontalScroll=this._isHorizontalScroll;this._initUI();pinetreecom.DelayCaller.delayCall(this,this.transitionIn,0.1)};b._initUI=function(){if(!this._isHorizontalScroll||pinetree.isDevice){if(this._isVerticalFit&&!this._isHorizontalScroll){this._listContainer=new pinetreecom.VMixVFitListContainer()}else{this._listContainer=new pinetreecom.VMixHFitListContainer()}this._listContainer.animateTime=this.tweenTime;this._listContainer.animateDelay=0.1*this.tweenTime}else{this._listContainer=new pinetreecom.HMixListContainer();this._listContainer.rowCount=1;this._listContainer.animateTime=this.tweenTime;this._listContainer.animateDelay=0.06*this.tweenTime}this._listContainer.ON_TWEEN_IN_COMPLETE.add(this,this.tweenInComplete);this._listContainer.ON_TWEEN_OUT_COMPLETE.add(this,this.tweenOutComplete);this._listContainer.ON_OVER.add(this,this.onOverItem);this._listContainer.ON_OUT.add(this,this.onOutItem);this._listContainer.ON_CLICK.add(this,this.onClickThumbnail);this._listContainer.ON_NEED_RESIZE.add(this,this.redraw);this._listContainer.useRealPosition=false;this._listContainer.onlyFullShown=false;if(pinetree.isDevice){this._listContainer.startY=pt.TOP_HEIGHT;this._listContainer.y=pt.TOP_HEIGHT;this.addChild(this._listContainer)}else{if(!this._isHorizontalScroll){this._scroller=new pinetreecom.VScroller(this.sliderWidth,100,1,1,this.sliderOverColor,this.sliderOutColor,this.sliderOverAlpha,this.sliderOutAlpha,this.sliderBGColor,this.sliderBGAlpha,null,false,true,false,true)}else{this._scroller=new pinetreecom.HScroller(this.sliderWidth,this.sliderHeight,1,1,this.sliderOverColor,this.sliderOutColor,this.sliderOverAlpha,this.sliderOutAlpha,this.sliderBGColor,0,null,false,true,false,true)}this.addChild(this._scroller);this._scroller.ON_SCROLL_START.add(this,this._onScrollStart);this._scroller.ON_SCROLL_END.add(this,this._onScrollEnd);this._scroller.ON_CHANGE.add(this,this._onScrollProgress);this._scroller.ON_SLIDER_MOUSE_DOWN.add(this,this._onSliderMouseDown);this._scroller.ON_SLIDER_MOUSE_UP.add(this,this._onSliderMouseUp);this._scroller.scrollMC.alpha=0;this._scroller.addTarget(this._listContainer,0,0,0);if(!this._isHorizontalScroll){this._scroller.scrollBar.smoothScrollEasing=5;this._scroller.y=pt.TOP_HEIGHT}else{this._scroller.scrollBar.smoothScrollEasing=10}}this._triggerRect=new pinetreecom.TriggerRect(1,1,65280,0);this.addChildAt(this._triggerRect,0);this._listContainer.reset();var c=this._isVerticalFit?this.facade.$.setting.thumbWidth:0;var d=this._isVerticalFit?0:this.facade.$.setting.thumbHeight;if(this._isHorizontalScroll){c=this.facade.$.setting.thumbWidth||0;d=this.facade.$.setting.thumbHeight}this._listContainer.setUpWith(pinetreepages.GalleryThumbnailRender,c,d,this._gap,this._gap,pinetreecom.AlignUtil.ALIGN_VERTICAL,4,this.data,pt.stageWidth,pt.stageHeight-pt.TOP_HEIGHT);if(!pinetree.isDevice){this._scroller.mouseWheelArea=this._triggerRect;if(this._isHorizontalScroll){this._scroller.enabled=true;this._scroller.show()}}this.enabled=false;this._isInited=true;this.redraw()};b._onMouseMove=function(c){if(!this._scroller){return}if(!this._isHorizontalScroll){if(c.mouseX>this._scrollerTriggerX){if(!this._stretchScroller){this.percent=0;this._stretchScroller=true;TweenMax.to(this,this.tweenTime*0.3,{percent:1,ease:Quad.easeOut,onUpdate:this._onTweenScrollerUpdate,onUpdateParams:[this,this._scroller]})}}else{if(this._stretchScroller){this.percent=1;this._stretchScroller=false;TweenMax.to(this,this.tweenTime*0.3,{percent:0,ease:Quad.easeOut,onUpdate:this._onTweenScrollerUpdate,onUpdateParams:[this,this._scroller]})}}}else{if(c.mouseY>this._scrollerTriggerMinY&&c.mouseY<this._scrollerTriggerMaxY){this._scroller.stretchIn()}else{this._scroller.stretchOut()}}};b._onTweenScrollerUpdate=function(c,d){d.scrollerX=pt.stageWidth-c.percent*(c.sliderWidth-5)-5};b.tweenInComplete=function(){if(this.linkParams){this.changeLinkParams(this.linkId,this.linkParams)}this._onAniComplete()};b.tweenOutComplete=function(){};b._onSliderMouseDown=function(){this._listContainer.mouseChildren=false};b._onSliderMouseUp=function(){this._listContainer.mouseChildren=true};b.backFromImagesPage=function(){this.enabled=true};b.onOverItem=function(e){var h;var d=this._listContainer.getAllItems();var c=d.length;for(var g=0;g<c;g++){if(e!=g){h=d[g];if(h&&h.isOverState){h.updateOverState(false)}}}};b.onOutItem=function(c){};b.onClickThumbnail=function(d){this._currentIndex=d;var c=this.data[this._currentIndex];var g=c.isImage?c.imageurls[0]:c.videourl;if(g&&g.indexOf("is_page")>-1){var e=g.substring("is_page:".length);pinetreecom.LinkManager.to(e);return}pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex+1]);if(pinetree.isDevice){this._oldScrollX=pinetree.getScrollX();this._oldScrollY=pinetree.getScrollY()}};b.changeLinkParams=function(d,e){pinetreepages.GalleryBase.prototype.changeLinkParams.call(this,d,e);if(e&&pinetreecom.ArrayUtil.isArray(e)&&e.length>0){var c=parseInt(e[0]);if(!isNaN(c)&&this.facade.$.imagesUI&&!this.facade.$.imagesUI.isInited){if(c>0&&c<=this._dataCount){this.enabled=false;this.ON_CHANGE.dispatch(c-1)}}}};b._onScrollStart=function(){if(this._scroller&&!this._scroller.scrollMC.visible){return}if(!this._isHorizontalScroll){this._listContainer.mouseChildren=this._listContainer.mouseEnabled=false}};b._onScrollEnd=function(){this._listContainer.mouseChildren=this._listContainer.mouseEnabled=true;this.redraw()};b._onScrollProgress=function(c){this._listContainer.render()};b.setEnabled=function(c){this.mouseChildren=this.mouseEnabled=c;if(this._triggerRect){this._triggerRect.isEnabled=c}if(this._scroller){this._scroller.keyEnabled=c}};b._onBack=function(c){this.transitionOut(Delegate.create(this,this._backToCategory))};b._backToCategory=function(){this.ON_BACK_TO_CATEGORY.dispatch();this._listContainer.reset();this.visible=false};b.active=function(){if(this._triggerRect){this._triggerRect.isEnabled=this.mouseEnabled}};b.inactive=function(){if(this._triggerRect){this._triggerRect.isEnabled=false}};b.resize=function(c,e){if(!this._isInited){return}if(!this._isHorizontalScroll){this._scrollerTriggerX=c-100}this._listContainer.resize(c,e);if(this._scroller){if(!this._isHorizontalScroll){var h=0;if(pt.stage.mouseX>this._scrollerTriggerX){h=c-this.sliderWidth;this._stretchScroller=true}else{h=c-this.sliderWidth+10;this._stretchScroller=false}var d=pinetree.isSmallMode?0:pt.currentBottomHeight;this._scroller.setSize(c,this._listContainer.contentHeight,e-d-pt.TOP_HEIGHT,h,0);this._scroller.scrollerHeight=e-d-pt.TOP_HEIGHT;this._scroller.y=pt.TOP_HEIGHT}else{var g=this._listContainer.contentHeight;this._scroller.setSize(this._listContainer.contentWidth,this._listContainer.contentHeight,c,0,g);this._scroller.scrollerWidth=c;this._scroller.y=((e-this._listContainer.contentHeight)>>1);this._scrollerTriggerMinY=this._scroller.y-100;this._scrollerTriggerMaxY=this._scroller.y+this._listContainer.contentHeight+100}}if(pinetree.isSmallMode){this.height=this._listContainer.contentHeight+pt.TOP_HEIGHT}if(this._triggerRect){this._triggerRect.width=c;this._triggerRect.height=e}this.width=c};b.backToOriginParent=function(){if(this._originParent){this.addTo(this._originParent);if(pinetree.isDevice){window.scrollTo(this._oldScrollX,this._oldScrollY)}this.redraw()}};b.transitionIn=function(){this._isTweening=true;this.visible=true;pinetreecom.DelayCaller.delayAfterFrames(this._listContainer,this._listContainer.animationIn,10,[pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM,this.tweenTime*0.5,Linear.easeNone]);if(!pinetree.isDevice){if(!pinetree.isDevice){this._scroller.tweenScrollerAlpha(1,this.tweenTime)}}};b._onAniComplete=function(){this._isTweening=false;this.redraw();this.enabled=true};b.transitionOut=function(c){this._isInited=false;this.enabled=false;if(!pinetree.isDevice){if(!pinetree.isDevice){this._scroller.tweenScrollerAlpha(0,this.tweenTime)}}this._listContainer.animationOut(pinetreecom.ListBase.ANI_DIRECTION_BOTTOM2TOP,this.tweenTime*0.5,Linear.easeNone,c)};b.predispose=function(){this.enabled=false;if(this.facade.$.imagesUI&&this.facade.$.imagesUI.isInited){this.facade.$.imagesUI.predisposeOut(Delegate.create(this,this.transitionOut,Delegate.create(this,this.dispose)))}else{if(this._listContainer&&this._listContainer.isAnimationIn){this.transitionOut(Delegate.create(this,this.dispose))}else{this.dispose()}}};b.dispose=function(){this._originParent=null;pinetree.stage.removeEventListener(pinetree.MouseEvent.MOUSE_MOVE,this._onMouseMove,this);pinetreecom.DelayCaller.removeByOwner(this);if(this._scroller){this._scroller.removeFromParent(true);this._scroller=null}if(this._listContainer){this._listContainer.removeFromParent(true);this._listContainer=null}if(this._triggerRect){this._triggerRect.removeFromParent(true);this._triggerRect=null}this.ON_BACK_TO_CATEGORY&&this.ON_BACK_TO_CATEGORY.removeAll();this.ON_BACK_TO_CATEGORY=null;this.data&&this.data.splice(0,this.data.length);this.data=null;this.facade.$.thumbnailsUI=null;pinetreepages.GalleryBase.prototype.dispose.call(this)};pinetreepages.GalleryThumbnails=a})();(function(){var b=function(){pinetreepages.GalleryBase.call(this);this._isInited=false};var a=__extends(b,pinetreepages.GalleryBase);a.addedToStage=function(){if(!this.isInitialized){}pinetreepages.GalleryBase.prototype.addedToStage.call(this)};a.initData=function(c){pinetreepages.GalleryBase.prototype.initData.call(this,c);this._initUI()};a._initUI=function(){};a.transitionIn=function(c){this._isInited=true};a.transitionOut=function(c){if(!this._isInited){return}this._isInited=false};a.predispose=function(){this.dispose()};a.dispose=function(){this.facade.$.categoriesUI=null;pinetreepages.GalleryBase.prototype.dispose.call(this)};pinetreepages.GalleryCategories=b})();(function(){var b=function(){pinetreepages.GalleryBase.call(this);this._currentIndex=0;this._loading=null;this._duration=0;this._tween=null;this._playBtn=null;this._radius=0;this._autoPlay=true;this._isPause=false;this.percent=0;__defineGetterSetter(this,["isPlaying","isPause"])};var a=__extends(b,pinetreepages.GalleryBase);a.addedToStage=function(){if(!this.isInitialized){}pinetreepages.GalleryBase.prototype.addedToStage.call(this)};a.initData=function(c){pinetreepages.GalleryBase.prototype.initData.call(this,c);this._autoPlay=this.facade.$.setting.autoPlay;this._initUI()};a._initUI=function(){this._duration=this.facade.$.setting.duration;this._radius=pinetree.isDevice?17:11;this._loading=new pinetreecom.CircleLoading(this._radius,3,pt.onOutColor,pt.onOutColor,1,0.2);this._loading.alpha=0;this.addChild(this._loading);this._loading.x=this._radius;this._loading.y=this._radius};a._onPlayBtnStateChange=function(c){if(c==pinetreecom.ToggleButton.STATE_ON){this.stop()}else{this.start()}};a._onOver=function(c){this._playBtn.color=pt.onOverColor};a._onOut=function(c){this._playBtn.color=pt.onOutColor};a.change=function(c){this._currentIndex=c};a.start=function(){this._tween&&this._tween.kill();this.percent=0;if(this._loading){TweenMax.to(this._loading,this.tweenTime/2,{alpha:1,ease:Quad.easeOut})}this._tween=TweenMax.to(this,this._duration,{percent:1,ease:Linear.easeNone,onUpdate:this._onUpdate,onUpdateParams:[this],onComplete:this._onChange,onCompleteParams:[this]})};a.stop=function(){this._tween&&this._tween.kill();this._tween=null;if(this._loading){TweenMax.to(this._loading,this.tweenTime/2,{alpha:0,ease:Quad.easeOut});this._tween=TweenMax.to(this,0.3,{percent:0,ease:Quart.easeOut,onUpdate:this._onUpdate,onUpdateParams:[this],onComplete:this._onStopComplete,onCompleteParams:[this]})}};a._onChange=function(d){d._tween&&d._tween.kill();d._tween=null;d._tween=TweenMax.to(d,0.3,{percent:0,ease:Quart.easeOut,onUpdate:d._onUpdate,onUpdateParams:[d],onComplete:d._onStopComplete,onCompleteParams:[d]});var c=d.data.length;d._currentIndex>=c-1?d._currentIndex=0:d._currentIndex++;d.ON_CHANGE.dispatch(d._currentIndex)};a._onUpdate=function(c){c._loading.percent=c.percent};a._onStopComplete=function(c){c._tween&&c._tween.kill();c._tween=null};a.slideshowStart=function(){if(this.data.length>1){this.start()}this._isPause=false};a.slideshowStop=function(){if(this.data&&this.data.length>1){this.stop()}this._isPause=false};a.slideshowPause=function(){this._tween&&this._tween.pause();this._isPause=true};a.slideshowResume=function(){this._tween&&this._tween.resume();this._isPause=false};a.getIsPlaying=function(){return !this._isPause};a.getIsPause=function(){return this._isPause};a.resize=function(c,d){};a.transitionIn=function(){};a.transitionOut=function(){this.stop();if(this._loading){pinetreecom.DelayCaller.delayCall(this,this.dispose,this.tweenTime/2,null,true)}else{this.dispose()}};a.getWidth=function(){return this._radius*2};a.getHeight=function(){return this._radius*2};a.predispose=function(){this.transitionOut()};a.dispose=function(){pinetreecom.DelayCaller.removeByOwner(this);this._tween&&this._tween.kill();this._tween=null;if(this._loading){TweenMax.killTweensOf(this._loading);this._loading.dispose();this._loading=null}if(this._playBtn){this._playBtn.removeEventListener(pinetree.Event.ROLL_OVER,this._onOver,this);this._playBtn.removeEventListener(pinetree.Event.ROLL_OUT,this._onOut,this);this._playBtn.dispose();this._playBtn=null}this.removeFromParent();this.facade.$.timerUI=null;pinetreepages.GalleryBase.prototype.dispose.call(this)};pinetreepages.GalleryTimer=b})();(function(){var a=function(c){pinetreepages.ViewBase.call(this,c);this._newsFacade=null;this._container=null};var b=__extends(a,pinetreepages.ViewBase);b.addedToStage=function(){pinetreepages.ViewBase.prototype.addedToStage.call(this);this._newsFacade=new pinetreepages.NewsFacade();this._newsFacade.ON_DISPOSE_COMPLETE.add(this,this._mvcDisposed);this._container=new pinetree.Sprite();this.addChild(this._container)};b.analyzeParams=function(c,d){pinetreepages.ViewBase.prototype.analyzeParams.call(this,c,d);if(this._newsFacade){this._newsFacade.updateLinkParams(this.linkId,this.linkParams)}};b.transitionIn=function(){this._newsFacade.startUp({container:this._container,source:this.data.src,size:this.data.size});this._newsFacade.updateLinkParams(this.linkId,this.linkParams);this.transitionInComplete()};b.transitionOut=function(){this._newsFacade&&this._newsFacade.predispose()};b._mvcDisposed=function(){this.transitionOutComplete()};b.dispose=function(){pinetreepages.ViewBase.prototype.dispose.call(this)};b.toString=function(){return"[Object NewsView]"};pinetreepages.NewsView=a}());(function(){var a=function(){pinetreemvc.Facade.call(this);this.$={NFT_START_UP:"notification_start_up",NFT_DATA_LOAD_COMPLETE:"notification_data_load_complete",NFT_IMAGE_CHANGE:"notification_image_change",NFT_IMAGE_LOAD_COMPLETE:"notification_image_load_complete",NFT_LINK_PARAMETERS_CHANGE:"notification_link_parameters_change",setting:null,root:null,listUI:null,imagesUI:null}};var b=__extends(a,pinetreemvc.Facade);b.startUp=function(c){this.registerCommand(this.$.NFT_START_UP,pinetreepages.NewsStartUpCommand);this.sendNotification(this.$.NFT_START_UP,c)};b.updateLinkParams=function(c,d){this.sendNotification(this.$.NFT_LINK_PARAMETERS_CHANGE,{linkId:c,linkParams:d})};pinetreepages.NewsFacade=a}());(function(){var a=function(){this.thumbWidth=0;this.thumbHeight=0;this.itemWidth=0;this.itemHeight=0;this.imageWidth=0;this.imageHeight=0;this.textWidth=0;this.textHeight=0;this.readMoreLabel="READ MORE";this.gap=0;this.closeButtonOffsetY=0};a.from=function(c){var b=new pinetreepages.NewsSetting();b.thumbWidth=c.thumbWidth;b.thumbHeight=c.thumbHeight;b.itemWidth=c.itemWidth;b.itemHeight=c.itemHeight;b.imageWidth=c.imageWidth;b.imageHeight=c.imageHeight;b.textWidth=c.textWidth;b.textHeight=c.textHeight;b.readMoreLabel=c.readMoreLabel||b.readMoreLabel;b.gap=c.gap||0;b.closeButtonOffsetY=c.closeButtonOffsetY||0;return b};pinetreepages.NewsSetting=a})();(function(){var a=function(){this.index=0;this.total=0;this.date="";this.title="";this.preview="";this.description="";this.thumburl="";this.imageurl="";this.readMoreLabel="";this.thumbWidth=0;this.thumbHeight=0};a.from=function(c){var b=new pinetreepages.NewsImageVo();b.date=c.date||"";b.title=c.title||"";b.preview=c.preview||"";b.description=c.description||"";b.thumburl=c.thumburl;b.imageurl=c.imageurl;if(b.preview==""){b.preview=b.description}return b};pinetreepages.NewsImageVo=a})();(function(){var a=function(e,d,g,c){pinetreemvc.Proxy.call(this,e,d,g,c)};a.NAME="NewsImageProxy";var b=__extends(a,pinetreemvc.Proxy);b.parse=function(e){var k=[];var j=JSON.parse(e);var h=pinetreepages.NewsSetting.from(j.setting);this.facade.$.setting=h;var c=j.data.length,d;for(var g=0;g<c;g++){d=pinetreepages.NewsImageVo.from(j.data[g]);d.thumbWidth=h.itemWidth;d.thumbHeight=h.thumbHeight;d.readMoreLabel=h.readMoreLabel;d.index=g;d.total=c;k.push(d)}this.sendNotification(this.facade.$.NFT_DATA_LOAD_COMPLETE,k)};pinetreepages.NewsImageProxy=a})();(function(){var a=function(e,d,c){pinetreemvc.Mediator.call(this,e,d,c);c.ON_CHANGE.add(this,this.onChange);c.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);this.interests=[e.$.NFT_DATA_LOAD_COMPLETE,e.$.NFT_IMAGE_CHANGE,e.$.NFT_IMAGE_LOAD_COMPLETE,e.$.NFT_LINK_PARAMETERS_CHANGE]};a.NAME="NewsImagesMediator";var b=__extends(a,pinetreemvc.Mediator);b.handleNotification=function(e){var c=e.name;var d=e.data;switch(c){case this.facade.$.NFT_DATA_LOAD_COMPLETE:this.viewComponent.initData(d);break;case this.facade.$.NFT_IMAGE_CHANGE:this.viewComponent.load(d);break;case this.facade.$.NFT_IMAGE_LOAD_COMPLETE:break;case this.facade.$.NFT_LINK_PARAMETERS_CHANGE:this.viewComponent.changeLinkParams(d.linkId,d.linkParams);break;default:break}};b.onChange=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_CHANGE,c)};b.onLoadComplete=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_LOAD_COMPLETE,c)};pinetreepages.NewsImagesMediator=a})();(function(){var a=function(e,d,c){pinetreemvc.Mediator.call(this,e,d,c);c.ON_CHANGE.add(this,this.onChange);c.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);this.interests=[e.$.NFT_DATA_LOAD_COMPLETE,e.$.NFT_IMAGE_CHANGE,e.$.NFT_IMAGE_LOAD_COMPLETE,e.$.NFT_LINK_PARAMETERS_CHANGE]};a.NAME="NewsListMediator";var b=__extends(a,pinetreemvc.Mediator);b.handleNotification=function(e){var c=e.name;var d=e.data;switch(c){case this.facade.$.NFT_DATA_LOAD_COMPLETE:this.viewComponent.initData(d);break;case this.facade.$.NFT_IMAGE_CHANGE:break;case this.facade.$.NFT_IMAGE_LOAD_COMPLETE:break;case this.facade.$.NFT_LINK_PARAMETERS_CHANGE:this.viewComponent.changeLinkParams(d.linkId,d.linkParams);break;default:break}};b.onChange=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_CHANGE,c)};b.onLoadComplete=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_LOAD_COMPLETE,c)};pinetreepages.NewsListMediator=a})();(function(){var a=function(){pinetreemvc.Command.call(this)};var b=__extends(a,pinetreemvc.Command);b.execute=function(i){var h=i.data;var d=h.container;var g=h.source;var c=h.size;this.facade.$.root=d;var j=pinetree.isDevice?new pinetreepages.NewsListDevice:new pinetreepages.NewsList();var e=new pinetreepages.NewsImages();this.facade.$.listUI=j;this.facade.$.imagesUI=e;d.addChild(j);d.addChild(e);this.facade.registerMediator(null,pinetreepages.NewsListMediator,j);this.facade.registerMediator(null,pinetreepages.NewsImagesMediator,e);this.facade.registerProxy(null,pinetreepages.NewsImageProxy,g,c)};pinetreepages.NewsStartUpCommand=a})();(function(){var a=function(e,c,d){pinetree.Sprite.call(this);this._data=e;this._tipWidth=c;this._tipHeight=d;this._titleTxt=null;this._dateTxt=null;this._previewTxt=null;this._gapY=22;this._line=null};var b=__extends(a,pinetree.Sprite);b.addedToStage=function(){if(!this.isInitialized){this._titleTxt=new pinetree.TextField();this._titleTxt.useMouseHand=true;this._titleTxt.selectable=false;this.addChild(this._titleTxt);this._titleTxt.className+=" news_list_title";this._dateTxt=new pinetree.TextField();this._dateTxt.useMouseHand=true;this._dateTxt.selectable=false;this.addChild(this._dateTxt);this._dateTxt.className+=" news_list_date";this._line=new pinetree.Quad();this.addChild(this._line);this._line.color=pt.onOverColor;this._line.width=30;this._line.height=2;this._previewTxt=new pinetree.TextField();this._previewTxt.useMouseHand=true;this._previewTxt.selectable=false;this.addChild(this._previewTxt);this._previewTxt.className+=" news_list_preview";this._previewTxt.wordWrap=true}pinetree.Sprite.prototype.addedToStage.call(this);this.update()};b.update=function(){this._titleTxt.width=this._tipWidth;this._titleTxt.height=10;this._titleTxt.htmlText=this._data.title;this._titleTxt.y=this._gapY/2;this._titleTxt.setLimitation(1,true);this._dateTxt.width=this._tipWidth;this._dateTxt.height=10;this._dateTxt.htmlText=this._data.date;this._dateTxt.y=this._titleTxt.y+this._titleTxt.textHeight+this._gapY-5;this._line.x=(this._tipWidth-this._line.width)>>1;this._line.y=this._dateTxt.y+this._dateTxt.height+this._gapY/2;this._previewTxt.width=this._tipWidth;this._previewTxt.htmlText=this._data.preview;this._previewTxt.y=this._line.y+this._line.height+this._gapY;var c=this._tipHeight-this._previewTxt.y+20;if(pinetree.isDevice){c+=30}this._previewTxt.setLimitation(c,false)};b.dispose=function(){pinetree.Sprite.prototype.dispose.call(this)};pinetreepages.NewsListTips=a}());(function(){var b=function(c){pinetree.Sprite.call(this);this._data=c;this._titleTxt=null;this._dateTxt=null;this._previewTxt=null;this._gapY=22;this._line=null};var a=__extends(b,pinetree.Sprite);a.addedToStage=function(){if(!this.isInitialized){this._titleTxt=new pinetree.TextField();this._titleTxt.useMouseHand=true;this._titleTxt.selectable=false;this.addChild(this._titleTxt);this._titleTxt.className+=" news_list_title_device";this._dateTxt=new pinetree.TextField();this._dateTxt.useMouseHand=true;this._dateTxt.selectable=false;this.addChild(this._dateTxt);this._dateTxt.className+=" news_list_date_device";this._line=new pinetree.Quad();this._line.color=pt.onOverColor;this._line.width=1;this._line.height=1;this._previewTxt=new pinetree.TextField();this._previewTxt.useMouseHand=true;this._previewTxt.selectable=false;this.addChild(this._previewTxt);this._previewTxt.className+=" news_list_preview_device"}pinetree.Sprite.prototype.addedToStage.call(this)};a.update=function(c,e){this._titleTxt.width=c;this._titleTxt.height=10;this._titleTxt.htmlText=this._data.title;this._titleTxt.y=0;this._titleTxt.setLimitation(1,true);this._dateTxt.width=c;this._dateTxt.height=10;this._dateTxt.htmlText=this._data.date;this._dateTxt.y=this._titleTxt.y+this._titleTxt.textHeight+this._gapY-5;this._previewTxt.width=c;this._previewTxt.htmlText=this._data.preview;this._previewTxt.y=this._dateTxt.y+this._dateTxt.textHeight+this._gapY;var d=e-this._previewTxt.y;this._previewTxt.setLimitation(d,false)};a.dispose=function(){pinetree.Sprite.prototype.dispose.call(this)};pinetreepages.NewsListDeviceTips=b}());(function(){var a=function(){pinetreecom.ListItemBase.call(this);this._clipRect=new pinetree.Rectangle(0,0,0,0);this._thumbWidth=0;this._thumbHeight=0;this._thumbnail=null;this._tips=null;this._previewTxt=null;this._icon=null;this._isShowing=false;this._isActive=false;this.mouseChildren=false};var b=__extends(a,pinetreecom.ListItemBase);b.setUpWith=function(c,e,g){pinetreecom.ListItemBase.prototype.setUpWith.call(this,c,e,g);this._thumbWidth=g.thumbWidth;this._thumbHeight=g.thumbHeight;this._thumbnail=new pinetreecom.ShadowImageLoader(this._thumbWidth,this._thumbHeight);this._thumbnail.backgroundAlpha=0;this._thumbnail.className="shadow_20px";this._thumbnail.useMouseHand=true;this.addChild(this._thumbnail);if(!pinetree.isDevice){this.addEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.addEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this)}else{this.addEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onOver,this);this.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onOut,this)}this._previewTxt=new pinetree.TextField();this._previewTxt.useMouseHand=true;this._previewTxt.selectable=false;this.addChild(this._previewTxt);this._previewTxt.alpha=0;this._previewTxt.fontSize=14;this._previewTxt.textColor=pt.bgColor;this._previewTxt.htmlText=g.readMoreLabel;var d=pt.getCommonTexture(pinetreepages.EnumTextures.ZOOM_IN_ICON);this._icon=new pinetree.TextureImage(d);this._icon.alpha=0;this._icon.buttonMode=true;this.addChild(this._icon);pinetreecom.ColorUtil.setColor(this._icon,pt.bgColor);this._icon.x=(this._thumbWidth-this._icon.width)>>1;this.width=this._itemWidth;this.height=this._itemHeight;this.buttonMode=true;this.alpha=0};b.addedToStage=function(){if(!this.isInitialized){this._tips=new pinetreepages.NewsListTips(this._data,this._itemWidth,this._itemHeight-this._thumbHeight);this.addChild(this._tips);this._tips.y=this._thumbHeight}if(this._previewTxt){this._previewTxt.x=(this._thumbWidth-this._previewTxt.width)>>1}pinetreecom.ListItemBase.prototype.addedToStage.call(this)};b.getThumbnail=function(){return this._thumbnail};b.load=function(){if(this._thumbnail){this._thumbnail.load(this._data.thumburl)}else{this._onImgLoadComplete(null)}};b._onImgLoadComplete=function(c){};b._onOver=function(d){if(pinetree.isDevice){return}if(this._thumbnail&&this._thumbnail.imageLoader){this._thumbnail.imageLoader.buttonMode=true;this._thumbnail.imageLoader.onOver(this.tweenTime*3,Quart.easeOut,1.08);TweenMax.to(this._thumbnail.imageLoader.fg,this.tweenTime/2,{alpha:pt.bgAlpha,ease:Quad.easeOut})}var g=this._thumbHeight>>1;var c=5;var e=10;this._icon.y=g-this._icon.height-e-20+c;this._previewTxt.y=g+e+20;this._icon&&TweenMax.to(this._icon,this.tweenTime/3,{alpha:1,y:g-this._icon.height-e+c,ease:Cubic.easeInOut});this._previewTxt&&TweenMax.to(this._previewTxt,this.tweenTime/3,{alpha:1,y:g+e,ease:Cubic.easeOut})};b._onOut=function(d){if(this._thumbnail&&this._thumbnail.imageLoader){this._thumbnail.imageLoader.onOut(this.tweenTime/2);TweenMax.to(this._thumbnail.imageLoader.fg,this.tweenTime/2,{alpha:0,ease:Quad.easeOut})}var g=this._thumbHeight>>1;var c=5;var e=10;this._icon&&TweenMax.to(this._icon,this.tweenTime/3,{alpha:0,y:g-this._icon.height-e-20+c,ease:Cubic.easeInOut});this._previewTxt&&TweenMax.to(this._previewTxt,this.tweenTime/3,{alpha:0,y:g+e+20,ease:Cubic.easeOut})};b.getWidth=function(){return this._itemWidth};b.getCurrentWidth=function(){return this._itemWidth};b.getCurrentHeight=function(){return this._itemHeight};b.setEnable=function(){};b.setState=function(d,c){if(c){this.show();this._isActive=true}else{this.hide();this._isActive=false}};b.show=function(){if(this._isShowing){return}this._isShowing=true;if(!this.parent){this.addToParent()}TweenMax.killTweensOf(this,false,{alpha:true});TweenMax.to(this,this.tweenTime,{alpha:1,ease:Quart.easeOut,onComplete:this._onShowComplete,onCompleteParams:[this]})};b._onShowComplete=function(c){};b.hide=function(){if(!this._isShowing){return}this._isShowing=false;TweenMax.killTweensOf(this,false,{alpha:true});TweenMax.to(this,this.tweenTime,{alpha:0,ease:Quart.easeOut,onComplete:this._onHideComplete,onCompleteParams:[this]})};b._onHideComplete=function(c){c.removeFromParent()};b.getGlobalBounds=function(){var c=this.localToGlobal(new pinetree.Point());return new pinetree.Rectangle(c.x,c.y,this._itemWidth,this._itemHeight)};b.animationIn=function(d,c,e,g){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if(d==0&&c==0){this._onInComplete(this,g);return}TweenMax.killTweensOf(this);this.alpha=1;this.x=this.originX+pt.stageWidth;TweenMax.to(this,d,{x:this.originX,delay:c,ease:e||this.transition,onComplete:this._onInComplete,onCompleteParams:[this,g]});this.addToParent()};b._onInComplete=function(c,d){if(!c.mouseEnabled){if(c.x!=c.originX){c.x=c.originX}c.mouseEnabled=true}d&&d()};b.animationOut=function(d,c,e,g){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if(d==0&&c==0){this._onOutComplete(this,g);return}TweenMax.killTweensOf(this);this.mouseEnabled=false;TweenMax.to(this,d,{x:this.originX+pt.stageWidth,delay:c,ease:e||this.transition,onComplete:this._onOutComplete,onCompleteParams:[this,g]})};b._onOutComplete=function(c,d){if(!pinetree.isDevice){c.removeFromParent()}d&&d()};b.dispose=function(){if(this._thumbnail){this._thumbnail.dispose();this._thumbnail=null}if(this._icon){TweenMax.killTweensOf(this._icon);this._icon.removeFromParent(true);this._icon=null}if(this._previewTxt){TweenMax.killTweensOf(this._previewTxt);this._previewTxt=null}if(!pinetree.isDevice){this.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this)}else{this.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._onOut,this)}TweenMax.killTweensOf(this);pinetreecom.ListItemBase.prototype.dispose.call(this)};pinetreepages.NewsListRender=a}());(function(){var b=function(){pinetreecom.ListItemBase.call(this);this._clipRect=new pinetree.Rectangle(0,0,0,0);this._thumbWidth=0;this._thumbHeight=0;this._itemEdge=30;this._thumbnail=null;this._tips=null;this._previewTxt=null;this._icon=null;this._isShowing=false;this._isActive=false;this.mouseChildren=false};var a=__extends(b,pinetreecom.ListItemBase);a.setUpWith=function(c,e,g){pinetreecom.ListItemBase.prototype.setUpWith.call(this,c,e,g);this._thumbWidth=g.thumbWidth;this._thumbHeight=g.thumbHeight;this._thumbnail=new pinetreecom.ShadowImageLoader(this._thumbWidth,this._thumbHeight);this._thumbnail.backgroundAlpha=0;this._thumbnail.className="shadow_20px";this._thumbnail.useMouseHand=true;this.addChild(this._thumbnail);this.addEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onOver,this);this.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onOut,this);this._previewTxt=new pinetree.TextField();this._previewTxt.useMouseHand=true;this._previewTxt.selectable=false;this.addChild(this._previewTxt);this._previewTxt.alpha=0;this._previewTxt.fontSize=14;this._previewTxt.textColor=pt.bgColor;this._previewTxt.htmlText=g.readMoreLabel;var d=pt.getCommonTexture(pinetreepages.EnumTextures.ZOOM_IN_ICON);this._icon=new pinetree.TextureImage(d);this._icon.alpha=0;this._icon.buttonMode=true;this.addChild(this._icon);pinetreecom.ColorUtil.setColor(this._icon,pt.bgColor);this._icon.x=(this._thumbWidth-this._icon.width)>>1;this.width=this._itemWidth;this.height=this._itemHeight;this.buttonMode=true;this.alpha=0};a.addedToStage=function(){if(!this.isInitialized){this._tips=new pinetreepages.NewsListDeviceTips(this._data);this.addChild(this._tips);this._tips.x=this._itemWidth+this._itemEdge}if(this._previewTxt){this._previewTxt.x=(this._thumbWidth-this._previewTxt.width)>>1}if(this._tips){this._tips.update(pt.stageWidth-this._thumbWidth-this._itemEdge*3,this._thumbHeight)}pinetreecom.ListItemBase.prototype.addedToStage.call(this)};a.resize=function(c,d){if(this._tips){this._tips.update(c-this._thumbWidth-this._itemEdge*3,this._thumbHeight)}};a.getThumbnail=function(){return this._thumbnail};a.load=function(){if(this._thumbnail){this._thumbnail.load(this._data.thumburl)}else{this._onImgLoadComplete(null)}};a._onImgLoadComplete=function(c){};a._onOver=function(d){if(this._thumbnail&&this._thumbnail.imageLoader){this._thumbnail.imageLoader.buttonMode=true;this._thumbnail.imageLoader.onOver(this.tweenTime*3,Quart.easeOut,1.08);TweenMax.to(this._thumbnail.imageLoader.fg,this.tweenTime/2,{alpha:pt.bgAlpha,ease:Quad.easeOut})}var g=this._thumbHeight>>1;var c=5;var e=10;this._icon.y=g-this._icon.height-e-20+c;this._previewTxt.y=g+e+20;this._icon&&TweenMax.to(this._icon,this.tweenTime/3,{alpha:1,y:g-this._icon.height-e+c,ease:Cubic.easeInOut});this._previewTxt&&TweenMax.to(this._previewTxt,this.tweenTime/3,{alpha:1,y:g+e,ease:Cubic.easeOut})};a._onOut=function(d){if(this._thumbnail&&this._thumbnail.imageLoader){this._thumbnail.imageLoader.onOut(this.tweenTime/2);TweenMax.to(this._thumbnail.imageLoader.fg,this.tweenTime/2,{alpha:0,ease:Quad.easeOut})}var g=this._thumbHeight>>1;var c=5;var e=10;this._icon&&TweenMax.to(this._icon,this.tweenTime/3,{alpha:0,y:g-this._icon.height-e-20+c,ease:Cubic.easeInOut});this._previewTxt&&TweenMax.to(this._previewTxt,this.tweenTime/3,{alpha:0,y:g+e+20,ease:Cubic.easeOut})};a.getWidth=function(){return this._itemWidth};a.getCurrentWidth=function(){return this._itemWidth};a.getCurrentHeight=function(){return this._itemHeight};a.setEnable=function(){};a.setState=function(d,c){if(c){this.show();this._isActive=true}else{this.hide();this._isActive=false}};a.show=function(){if(this._isShowing){return}this._isShowing=true;if(!this.parent){this.addToParent()}TweenMax.killTweensOf(this,false,{alpha:true});TweenMax.to(this,this.tweenTime,{alpha:1,ease:Quart.easeOut,onComplete:this._onShowComplete,onCompleteParams:[this]})};a._onShowComplete=function(c){};a.hide=function(){if(!this._isShowing){return}this._isShowing=false;TweenMax.killTweensOf(this,false,{alpha:true});TweenMax.to(this,this.tweenTime,{alpha:0,ease:Quart.easeOut,onComplete:this._onHideComplete,onCompleteParams:[this]})};a._onHideComplete=function(c){c.removeFromParent()};a.getGlobalBounds=function(){var c=this.localToGlobal(new pinetree.Point());return new pinetree.Rectangle(c.x,c.y,this._itemWidth,this._itemHeight)};a.animationIn=function(g,d,i,k){if(g==undefined){g=this.tweenTime}if(d==undefined){d=0}this.addToParent();var j=false;var e=this._itemHeight||this.height;var c=this.parent?this.getStageY()-pinetree.getScrollY():this.originY;if(c>=-e&&c<pt.stageHeight){j=true}if((g==0&&d==0)||!j){this._onInComplete(this,k);return}TweenMax.killTweensOf(this);if(!this.tweenAlphaByCSS(1,g/2,d,"linear",this._onInComplete,[this,k])){TweenMax.to(this,g,{alpha:1,delay:d,ease:i||this.transition,onComplete:this._onInComplete,onCompleteParams:[this,k]})}};a._onInComplete=function(c,d){if(!c.mouseEnabled){if(c.x!=c.originX){c.x=c.originX}c.mouseEnabled=true}c.alpha=1;d&&d()};a.animationOut=function(g,d,i,k){if(g==undefined){g=this.tweenTime}if(d==undefined){d=0}var j=false;var e=this._itemHeight||this.height;var c=this.parent?this.getStageY()-pinetree.getScrollY():this.originY;if(c>=-e&&c<pt.stageHeight){j=true}if((g==0&&d==0)||!j){this._onOutComplete(this,k);return}TweenMax.killTweensOf(this);this.mouseEnabled=false;if(!this.tweenAlphaByCSS(0,g/2,d,"linear",this._onOutComplete,[this,k])){TweenMax.to(this,g,{alpha:0,delay:d,ease:i||this.transition,onComplete:this._onOutComplete,onCompleteParams:[this,k]})}};a._onOutComplete=function(c,d){d&&d()};a.dispose=function(){if(this._thumbnail){this._thumbnail.dispose();this._thumbnail=null}if(this._icon){TweenMax.killTweensOf(this._icon);this._icon.removeFromParent(true);this._icon=null}if(this._previewTxt){TweenMax.killTweensOf(this._previewTxt);this._previewTxt=null}if(!pinetree.isDevice){this.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this)}else{this.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._onOut,this)}TweenMax.killTweensOf(this);pinetreecom.ListItemBase.prototype.dispose.call(this)};pinetreepages.NewsListDeviceRender=b}());(function(){var a=function(d,c,i,h,g,e){pinetreecom.UIComponent.call(this);this._textWidth=i;this._textHeight=h;this._imageWidth=d;this._imageHeight=c;this._itemHeight=Math.max(this._textHeight,this._imageHeight);this._textPadding=g==undefined?30:g;this.setting=e;this._devicePadding=20;this._gapX=15;this._gapY=15;this._hasImage=true;this.tweenTime=1;this.transition=Quart.easeOut;this._maxContentWidth=640;this._imageLoader=null;this._txtContainer=null;this._titleTxt=null;this._dateTxt=null;this._line=null;this._closeBtn=null;this.visible=false;this.ON_CLOSE=new pinetree.Signal();this.ON_TWEEN_COMPLETE=new pinetree.Signal();this.registerAutoDispose(this.ON_CLOSE);this.registerAutoDispose(this.ON_TWEEN_COMPLETE);__defineGetterSetter(this,["contentWidth","contentHeight"])};var b=__extends(a,pinetreecom.UIComponent);b.addedToStage=function(){if(!this.isInitialized){this._imageLoader=new pinetreecom.ShadowImageLoader(this._imageWidth,this._imageHeight);this.addChild(this._imageLoader);this._titleTxt=new pinetree.TextField();this._titleTxt.selectable=false;this.addChild(this._titleTxt);this._titleTxt.className+=" news_images_title";this._dateTxt=new pinetree.TextField();this._dateTxt.selectable=false;this.addChild(this._dateTxt);this._dateTxt.className+=" news_date_tip";if(pinetree.isDevice){this._txtContainer=new pinetreecom.DeviceTextContainer(this._textWidth,this._bgColor,0,true,true);this.addChild(this._txtContainer);this._txtContainer.padding=this._devicePadding;this._imageLoader.x=this._devicePadding;this._imageLoader.y=this._devicePadding}else{this._line=new pinetree.Quad();this.addChild(this._line);this._line.color=pt.onOverColor;this._line.width=30;this._line.height=2;this._txtContainer=new pinetreecom.TextContainer(this._textWidth,this._textHeight,pt.bgColor,0,true,true,false);this._txtContainer.enabled=false;this._txtContainer.paddingTop=0;this._txtContainer.paddingBottom=0;this._txtContainer.paddingLeft=this._textPadding;this._txtContainer.paddingRight=this._textPadding+this._gapX}this.addChild(this._txtContainer);this._txtContainer.sliderBGAlpha=0;this._txtContainer.init();this._txtContainer.scrollGapX=this._gapX;this._txtContainer.scrollerHeight=this._txtContainer.infoScrollHeight;this.registerAutoDispose(this._txtContainer);var c=pt.getCommonTexture(pinetreepages.EnumTextures.BTN_CLOSE_ICON);this._closeBtn=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,pt.onOverColor,pt.onOutColor,1,0.5);this._closeBtn.setTextures(c);this._closeBtn.addEventListener(pinetree.MouseEvent.CLICK,this._onClose,this);this.addChild(this._closeBtn);this._closeBtn.y=-c.sourceHeight-30;this.registerAutoDispose(this._closeBtn)}pinetreecom.UIComponent.prototype.addedToStage.call(this)};b.setData=function(c){if(!c){return}this.reset();this.visible=true;this._hasImage=!!c.imageurl;if(this._hasImage){this._imageLoader.load(c.imageurl)}this._titleTxt.htmlText=c.title;this._dateTxt.htmlText=c.date;this._txtContainer.information=c.description;this.ON_TWEEN_COMPLETE.dispatch();this.update()};b.update=function(){if(pinetree.isDevice){var c=pt.stageWidth;if(c>this._maxContentWidth){c=this._maxContentWidth}this._txtContainer.contentWidth=c;this._txtContainer.scrollGapX=0;this._titleTxt.x=this._devicePadding;this._titleTxt.y=pt.TOP_HEIGHT+this._imageHeight;this._dateTxt.x=this._devicePadding;this._dateTxt.y=this._titleTxt.y+this._titleTxt.height;this._txtContainer.x=0;this._txtContainer.y=this._dateTxt.y+this._dateTxt.height;this._txtContainer.useScroll=false;this.width=c;this.height=this._txtContainer.y+this._txtContainer.contentHeight}else{this._titleTxt.x=this._imageWidth+this._textPadding;this._titleTxt.y=0;this._dateTxt.x=this._imageWidth+this._textPadding;this._dateTxt.y=this._titleTxt.y+this._titleTxt.height+this._gapY;this._line.x=this._imageWidth+this._textPadding;this._line.y=this._dateTxt.y+this._dateTxt.height+this._gapY;this._txtContainer.useScroll=true;this._txtContainer.x=this._imageWidth;this._txtContainer.y=this._line.y+this._line.height+this._gapY;var d=this._textHeight-this._txtContainer.y;this._txtContainer.contentHeight=d;this.width=this._imageWidth+this._textWidth;this.height=this._itemHeight}};b.toCenter=function(g,d){if(pinetree.isDevice){return}if(g){var e=(pt.stageWidth-(this._textWidth+this._imageWidth))>>1;this.x=pinetreecom.CommonUtil.getCurrentX(this,e)}if(d){var c=((pt.stageHeight-pt.TOP_HEIGHT-pt.FOOTER_HEIGHT-this._itemHeight)>>1)+pt.TOP_HEIGHT;this.y=pinetreecom.CommonUtil.getCurrentY(this,c)}};b.toOutTop=function(){if(pinetree.isDevice){return}var d=(pt.stageWidth-(this._textWidth+this._imageWidth))>>1;this.x=pinetreecom.CommonUtil.getCurrentX(this,d);var c=-this._itemHeight-10;this.y=pinetreecom.CommonUtil.getCurrentY(this,c)};b.toOutBottom=function(){if(pinetree.isDevice){return}var d=(pt.stageWidth-(this._textWidth+this._imageWidth))>>1;this.x=pinetreecom.CommonUtil.getCurrentX(this,d);var c=pt.stageHeight+30;this.y=pinetreecom.CommonUtil.getCurrentY(this,c)};b.tweenToCenter=function(c,e,i){if(pinetree.isDevice){i&&i();return}this._closeBtn.hide(0);c=__defaultSet(c,this.tweenTime);e=__defaultSet(e,this.transition);var h=(pt.stageWidth-(this._textWidth+this._imageWidth))>>1;var d=((pt.stageHeight-pt.TOP_HEIGHT-pt.FOOTER_HEIGHT-this._itemHeight)>>1)+pt.TOP_HEIGHT;this.x=pinetreecom.CommonUtil.getCurrentX(this,h);var g=pinetreecom.CommonUtil.getCurrentY(this,d);TweenMax.to(this,c,{y:g,ease:e,onComplete:this._onTweenToCenterComplete,onCompleteParams:[this,i]})};b._onTweenToCenterComplete=function(c,d){d&&d()};b.tweenOutAtTop=function(c,e,h){if(pinetree.isDevice){h&&h();return}this._closeBtn.hide(this.tweenTime/2);c=__defaultSet(c,this.tweenTime);e=__defaultSet(e,this.transition);var d=-this._itemHeight-50;var g=pinetreecom.CommonUtil.getCurrentY(this,d);TweenMax.to(this,c,{y:g,ease:e,onComplete:h})};b.tweenOutAtBottom=function(c,e,h){if(pinetree.isDevice){h&&h();return}if(!this.stage){return}this._closeBtn.hide(this.tweenTime/2);c=__defaultSet(c,this.tweenTime);e=__defaultSet(e,this.transition);var d=pt.stageHeight+50+this._closeBtn.height;var g=pinetreecom.CommonUtil.getCurrentY(this,d);TweenMax.to(this,c,{y:g,ease:e,onComplete:h})};b.getContentWidth=function(){return this._imageWidth+this._textWidth};b.getContentHeight=function(){if(pinetree.isDevice){return this._txtContainer.y+this._txtContainer.contentHeight}return this._itemHeight};b.reset=function(){this._imageLoader.reset();this._txtContainer.reset();this.visible=false};b.setVisible=function(c){pinetreecom.UIComponent.prototype.setVisible.call(this,c);if(this._txtContainer){this._txtContainer.enabled=c}};b._onClose=function(){this.ON_CLOSE&&this.ON_CLOSE.dispatch()};b.dispose=function(){TweenMax.killTweensOf(this);this.setting=null;if(this._imageLoader){pinetreecom.DelayCaller.removeByOwner(this._imageLoader);this._imageLoader.dispose();this._imageLoader=null}pinetreecom.UIComponent.prototype.dispose.call(this)};pinetreepages.NewsImageLoader=a}());(function(){var b=function(){pinetreemvc.ViewComponentBase.call(this);this.data=null;this.linkId="";this.linkParams=null;this.ON_CHANGE=new pinetree.Signal();this.ON_LOAD_COMPLETE=new pinetree.Signal()};var a=__extends(b,pinetreemvc.ViewComponentBase);a.initData=function(c){this.data=c||[]};a.change=function(c){};a.changeLinkParams=function(c,d){this.linkId=c;this.linkParams=d};a.dispose=function(){this.ON_CHANGE&&this.ON_CHANGE.removeAll();this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.removeAll();this.ON_CHANGE=null;this.ON_LOAD_COMPLETE=null;this.data=null;this.linkId="";this.linkParams=null;pinetreemvc.ViewComponentBase.prototype.dispose.call(this)};pinetreepages.NewsBase=b})();(function(){var b=function(){pinetreepages.NewsBase.call(this);this._originParent=null;this._textWidth=450;this._textHeight=350;this._imageWidth=0;this._imageHeight=0;this._itemHeight=0;this._prevBtnWidth=0;this._nextBtnWidth=0;this._closeBtnWidth=0;this._prevBtnHeight=0;this._nextBtnHeight=0;this._closeBtnHeight=0;this._isInited=false;this._isTweening=false;this._currentIndex=0;this._totalCount=0;this._imageLoader=null;this._isToPrev=false;this._loader1=null;this._loader2=null;this.sliderWidth=pinetree.isDevice?0:150;this.sliderHeight=pinetree.isDevice?0:10;this.START_CONST_SMALL=30;this.START_CONST_NORMAL=100;this.sliderStartX=pinetree.isSmallMode?this.START_CONST_SMALL:this.START_CONST_NORMAL;this.sliderOverColor=pt.onOverColor;this.sliderOutColor=pt.onOverColor;this.sliderOverAlpha=1;this.sliderOutAlpha=1;this.sliderBGColor=pt.onOutColor;this.sliderBGAlpha=0.1;this._useKeyControl=true;this._bgAlpha=pt.bgAlpha;this._pnBtns=null;this._closeBtn=null;this._triggerRect=null;this._hscroller=null;this._container=null;this._closeButtonOffsetY=0;if(pt.isAlphaMode){this.alpha=pt.ALPHA_MODE_VALUE}__defineGetterSetter(this,["isInited"])};var a=__extends(b,pinetreepages.NewsBase);a.addedToStage=function(){if(!this.isInitialized){this._originParent=this.parent;var d=pt.getCommonTexture(pinetreepages.EnumTextures.PREV_ICON);var g=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,pt.onOverColor,pt.onOutColor,1,0.5);g.setTextures(d);var h=pt.getCommonTexture(pinetreepages.EnumTextures.NEXT_ICON);var c=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,pt.onOverColor,pt.onOutColor,1,0.5);c.setTextures(h);this._pnBtns=new pinetreecom.TexturePNButtons(g,c,false);this._pnBtns.useKeyArrow=this._useKeyControl;this._pnBtns.onOverColor=pt.onOverColor;this._pnBtns.onOutColor=pt.onOutColor;this._pnBtns.hide(0);this._pnBtns.ON_CHANGE.add(this,this._onClickPNButton);var e=pt.getCommonTexture(pinetreepages.EnumTextures.BTN_CLOSE_ICON);this._closeBtn=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,pt.onOverColor,pt.onOutColor,1,0.5);this._closeBtn.className+=" news_img_close_btn";this._closeBtn.setTextures(e);this._closeBtn.addEventListener(pinetree.MouseEvent.CLICK,this._onClose,this);this.addChild(this._closeBtn);this._prevBtnWidth=d.sourceWidth;this._nextBtnWidth=h.sourceWidth;this._closeBtnWidth=e.sourceWidth;this._prevBtnHeight=d.sourceHeight;this._nextBtnHeight=h.sourceHeight;this._closeBtnHeight=e.sourceHeight;if(this._useKeyControl){pinetreecom.KeyboardUtil.listen(this,[pinetree.Keyboards.ESCAPE],this._onKeyUp)}}pinetreepages.NewsBase.prototype.addedToStage.call(this)};a.initData=function(c){pinetreepages.NewsBase.prototype.initData.call(this,c);this._currentIndex=0;this._totalCount=this.data.length;this._imageWidth=this.facade.$.setting.imageWidth;this._imageHeight=this.facade.$.setting.imageHeight;this._textWidth=this.facade.$.setting.textWidth;this._textHeight=this.facade.$.setting.textHeight;this._itemHeight=Math.max(this._textHeight,this._imageHeight);this._closeButtonOffsetY=this.facade.$.setting.closeButtonOffsetY;this._initUI();this.visible=false};a._initUI=function(){this._container=new pinetree.Sprite();this._hscroller=new pinetreecom.HScroller(this.sliderWidth,this.sliderHeight,1,1,this.sliderOverColor,this.sliderOutColor,this.sliderOverAlpha,this.sliderOutAlpha,this.sliderBGColor,this.sliderBGAlpha,null,false,false,false);this.addChild(this._hscroller);this._hscroller.ON_CHANGE.add(this,this._onScrollProgress);this._hscroller.addTarget(this._container,0,0,0);this._loader1=new pinetreepages.NewsImageLoader(this._imageWidth,this._imageHeight,this._textWidth,this._textHeight,40,this.facade.$.setting);this._loader1.alpha=0;this._container.addChild(this._loader1);this.registerAutoDispose(this._loader1);this._loader2=new pinetreepages.NewsImageLoader(this._imageWidth,this._imageHeight,this._textWidth,this._textHeight,40,this.facade.$.setting);this._loader2.alpha=0;this._container.addChild(this._loader2);this.registerAutoDispose(this._loader2);if(pinetree.isSmallMode){pinetree.staticStage.addChild(this._pnBtns)}else{this.addChild(this._pnBtns)}this._triggerRect=new pinetreecom.TriggerRect(1,1,65280,0);this.addChildAt(this._triggerRect,0);this._hscroller.reset();this._hscroller.enabled=false;this._hscroller.scrollMC.alpha=0;if(!pinetree.isDevice){this._hscroller.mouseWheelArea=this._triggerRect;this._hscroller.enabled=true;this._hscroller.show()}};a._onScrollProgress=function(c){};a._dragPrev=function(c){if(this._currentIndex<=0){pt.dragPrevNext.back()}else{this._isToPrevDirection=true;pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex])}};a._dragNext=function(c){if(this._currentIndex>=this._totalCount-1){pt.dragPrevNext.back()}else{this._isToPrevDirection=false;pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex+2])}};a._dragBack=function(c){c&&c.tweenToCenter()};a.load=function(d){this._currentIndex=d;if(!this._isInited){this._isToPrev=true;this.transitionIn(Delegate.create(this,this.load,d));return}this._imageLoader=this._getFreeLoader();var c=this.data[d];if(this._isToPrev){this._imageLoader.toOutTop()}else{this._imageLoader.toOutBottom()}this._imageLoader.alpha=1;this._imageLoader.visible=true;this._imageLoader.setData(c);this._imageLoader.update();if(pinetree.isSmallMode){this._imageLoader.tweenToCenter(this.tweenTime*1.2,Quart.easeOut,Delegate.create(this,this._onTweenInComplete));this._imageLoader.x=0}else{this._imageLoader.tweenToCenter(this.tweenTime*1.2,Quart.easeOut,Delegate.create(this,this._onTweenInComplete))}};a._onTweenInComplete=function(c){this.mouseChildren=this.mouseEnabled=true;this._pnBtns.useMouseWheel=!pinetree.isDevice;this._isTweening=false;if(pinetree.isDevice){window.scrollTo(0,0);this.facade.$.listUI.removeFromParent()}this.redraw()};a.onControlPNChange=function(c){if(!this._isInited){return}this._onClickPNButton(c)};a._onClickPNButton=function(c){if(!this._isInited){return}if(c.type==pinetreecom.SimplePNButtonsManager.PREV_TYPE){pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex])}else{pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex+2])}};a.changeLinkParams=function(d,e){pinetreepages.NewsBase.prototype.changeLinkParams.call(this,d,e);if(!this._isInited||this._isTweening){return}if(e&&pinetreecom.ArrayUtil.isArray(e)&&e.length>0){var c=parseInt(e[0]);if(isNaN(c)){this._onClose(null)}else{if(this._currentIndex!=c-1&&c>0&&c<=this._totalCount){this._isToPrev=this._currentIndex>c-1;this._currentIndex=c-1;this.mouseChildren=this.mouseEnabled=false;this._pnBtns.useMouseWheel=false;if(this._isToPrev){this._imageLoader.tweenOutAtBottom(this.tweenTime,Cubic.easeOut)}else{this._imageLoader.tweenOutAtTop(this.tweenTime,Cubic.easeOut)}pinetreecom.DelayCaller.removeByHandler(this,this.load);pinetreecom.DelayCaller.delayCall(this,this.load,this.tweenTime*0.15,[this._currentIndex]);this._pnBtns.showPNButtons(this._currentIndex>0,this._currentIndex<this._totalCount-1)}}}else{this._onClose(null)}};a._getFreeLoader=function(){if(this._imageLoader==this._loader1){return this._loader2}else{return this._loader1}};a.onControlClose=function(c){if(!this._isInited){return}this._onClose(null)};a._onKeyUp=function(c){switch(c){case pinetree.Keyboards.ESCAPE:this._onClose(null);break}};a._onClose=function(c){if(!this._isInited){return}this._isInited=false;this.mouseChildren=this.mouseEnabled=false;this._pnBtns.useMouseWheel=false;this.transitionOut();pinetreesite.siteController.changeDeeplinking(this.linkId);pinetreecom.DelayCaller.delayCall(this,this._closeComplete,this.tweenTime*0.7,null,true)};a._closeComplete=function(){this.visible=false;this.facade.$.listUI.backToOriginParent();pt.isOverTextContainer=false};a.getIsInited=function(){return this._isInited};a.resize=function(d,g){if(!this._isInited){return}this.sliderStartX=pinetree.isSmallMode?this.START_CONST_SMALL:this.START_CONST_NORMAL;var i=this._getFreeLoader();if(i){i.alpha=0}if(pinetree.isDevice){if(i){i.reset();i.x=i.y=0}if(this._imageLoader){this._imageLoader.x=0;this._imageLoader.y=pt.TOP_HEIGHT;this._imageLoader.update();this.height=this._imageLoader.contentHeight;if(this._height<g-pt.TOP_HEIGHT-this.START_CONST_SMALL*2){this._container.y=(g-pt.TOP_HEIGHT-this.START_CONST_SMALL*2-this._height)>>1}else{this._container.y=0}if(this._textWidth>640){this._container.x=(d-640)>>1}else{this._container.x=(d-this._textWidth)>>1}}}else{var e=this._imageWidth+this._textWidth+this.sliderStartX*2;var c=((d-e)>>1);if(c<this.sliderStartX){c=this.sliderStartX}this._hscroller.setSize(e,g,d,((d-this.sliderWidth)>>1)-c,this._itemHeight+30);this._hscroller.x=c;this._hscroller.y=(g+pt.TOP_HEIGHT-pt.FOOTER_HEIGHT-this._itemHeight)>>1;this._hscroller.scrollerWidth=this.sliderWidth;if(this._triggerRect){this._triggerRect.width=d;this._triggerRect.height=g}if(this._imageLoader){if(pinetree.isSmallMode){this._imageLoader.x=0;this._imageLoader.y=0}else{this._imageLoader.toCenter(true,true)}this._imageLoader.update()}}if(pinetree.isSmallMode){this._pnBtns.visible=false;this._closeBtn.visible=false;pt.controlBtns.infoVisible=false;pt.controlBtns.closeVisible=true;pt.controlBtns.show(0);pt.controlBtns.showPNButtons(this._currentIndex>0,this._currentIndex<this._totalCount-1);pt.refreshControlBtns()}else{pt.controlBtns.hide(0);this._pnBtns.visible=true;this._closeBtn.visible=true;if(!this._pnBtns.isShowing){this._pnBtns.show()}if(!this._closeBtn.isShowing){this._closeBtn.show()}if(this._pnBtns.parent!=this){this.addChild(this._pnBtns)}var h=30;this._pnBtns.prevBtn.x=h;this._pnBtns.nextBtn.x=d-h-this._nextBtnWidth;this._pnBtns.x=0;this._pnBtns.y=(g-pt.FOOTER_HEIGHT-this._prevBtnHeight)>>1;this._closeBtn.x=d-this._closeBtnWidth-30;this._closeBtn.y=(pt.config.footerPosition=="bottom"?30:pt.TOP_HEIGHT+30)+this._closeButtonOffsetY;this._pnBtns.showPNButtons(this._currentIndex>0,this._currentIndex<this._totalCount-1)}};a.transitionIn=function(c){this._isInited=true;this._isTweening=true;this.visible=true;if(pinetree.isDevice){}else{this._hscroller.tweenScrollerAlpha(1,this.tweenTime)}this.redraw();pinetreesite.siteController.bringToTop(this);if(!pinetree.isSmallMode){this._pnBtns.show();this._closeBtn.show()}pt.controlBtns.listen(this);c&&c()};a.predisposeOut=function(c){this.transitionOut(Delegate.create(this,this._predisposeOutComplete,c))};a._predisposeOutComplete=function(c){c&&c();this.dispose()};a.transitionOut=function(d){this._pnBtns.hide(this.tweenTime*0.5);this._closeBtn.hide(this.tweenTime*0.5);pt.controlBtns.cancel(this);pt.controlBtns.hide();this._pnBtns.useMouseWheel=false;if(pinetree.isDevice){TweenMax.to(this._imageLoader,this.tweenTime*0.5,{alpha:0,ease:Cubic.easeOut,onComplete:d});if(!pinetree.isDevice){this._hscroller.tweenScrollerAlpha(0,this.tweenTime*0.5)}}else{this._hscroller.tweenScrollerAlpha(0,this.tweenTime*0.5);this._imageLoader.tweenOutAtBottom(this.tweenTime,Cubic.easeInOut,d)}var c=this._getFreeLoader();c.alpha=0;this._imageLoader=null};a.predispose=function(){if(this._isInited){return}this.dispose()};a.dispose=function(){this._isInited=false;pt.controlBtns.cancel(this);pinetreecom.KeyboardUtil.cancelByOwner(this);pinetreecom.DelayCaller.removeByOwner(this);this._originParent&&this.addTo(this._originParent);if(this._hscroller){this._hscroller.removeFromParent(true);this._hscroller=null}this._pnBtns&&this._pnBtns.removeFromParent(true);this._pnBtns=null;if(this._imageLoader){TweenMax.killTweensOf(this._imageLoader);this._imageLoader=null}if(this._closeBtn){this._closeBtn.removeEventListener(pinetree.MouseEvent.CLICK,this._onClose,this);this._closeBtn.removeFromParent(true);this._closeBtn=null}pt.dragPrevNext.remove();this.facade.$.imagesUI=null;pinetreepages.NewsBase.prototype.dispose.call(this)};pinetreepages.NewsImages=b})();(function(){var b=function(){pinetreepages.NewsBase.call(this);this._currentIndex=0;this._dataCount=0;this._gap=20;this._isTweening=false;this.EDGE_CONST_SMALL=30*2;this.EDGE_CONST_NORMAL=100*2;this._itemEdge=pinetree.isSmallMode?this.EDGE_CONST_SMALL:this.EDGE_CONST_NORMAL;this._itemWidth=0;this._itemHeight=0;this._prevBtnWidth=0;this._nextBtnWidth=0;this._prevBtnHeight=0;this._nextBtnHeight=0;this._currentColumn=0;this._currentListContentWidth=0;this._pageIndex=0;this._pageTotal=0;this._originParent=null;this._listContainer=null;this._buttonList=null;this._pnBtns=null;this._isInited=false;this.visible=false;__defineGetterSetter(this,["enabled"])};var a=__extends(b,pinetreepages.NewsBase);a.addedToStage=function(){if(!this.isInitialized){this._originParent=this.parent}pinetreepages.NewsBase.prototype.addedToStage.call(this)};a.initData=function(c){pinetreepages.NewsBase.prototype.initData.call(this,c);this._currentIndex=0;this._dataCount=c.length;this._itemWidth=this.facade.$.setting.itemWidth;this._itemHeight=this.facade.$.setting.itemHeight;this._gap=this.facade.$.setting.gap;this._pageIndex=0;this._pageTotal=0;this._initUI();pinetreecom.DelayCaller.delayCall(this,this.transitionIn,0.1)};a._initUI=function(){this._listContainer=new pinetreecom.ListContainer();this.addChild(this._listContainer);this._listContainer.animateTime=this.tweenTime;this._listContainer.animateDelay=0.1*this.tweenTime;this._listContainer.ON_TWEEN_IN_COMPLETE.add(this,this.tweenInComplete);this._listContainer.ON_TWEEN_OUT_COMPLETE.add(this,this.tweenOutComplete);this._listContainer.ON_OVER.add(this,this.onOverItem);this._listContainer.ON_OUT.add(this,this.onOutItem);this._listContainer.ON_CLICK.add(this,this.onClickThumbnail);this._listContainer.ON_NEED_RESIZE.add(this,this.redraw);this._listContainer.onlyFullShown=true;this._listContainer.useRealPosition=false;this._listContainer.useRealStagePos=false;this._listContainer.showAllWhileDevice=false;this._listContainer.useIntPosition=true;this._listContainer.reset();this._listContainer.setUpWith(pinetreepages.NewsListRender,this._itemWidth,this._itemHeight,this._gap,0,pinetreecom.AlignUtil.ALIGN_HORIZONTAL,1,this.data,pt.stageWidth,pt.stageHeight);this._buttonList=new pinetreecom.ButtonList(pinetreecom.MiniCircle,this.data.length);this.addChild(this._buttonList);this._buttonList.ON_CLICK.add(this,this.onClickButton);this._buttonList.onOverColor=pt.onOverColor;this._buttonList.onOutColor=pt.onOutColor;this._buttonList.onOverAlpha=1;this._buttonList.onOutAlpha=0.2;this._buttonList.gap=pinetree.isDevice?10:10;this._buttonList.itemSize=pinetree.isDevice?5*2:5*2;this._buttonList.alignType=pinetreecom.ButtonList.ALIGN_HORIZONTAL;this._buttonList.init();this._buttonList.visible=this._pageTotal>1;this._buttonList.setSelectBtn(0);var d=pt.getCommonTexture(pinetreepages.EnumTextures.PREV_ICON);var e=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,pt.onOverColor,pt.onOutColor,1,0.5);e.setTextures(d);var g=pt.getCommonTexture(pinetreepages.EnumTextures.NEXT_ICON);var c=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,pt.onOverColor,pt.onOutColor,1,0.5);c.setTextures(g);this._pnBtns=new pinetreecom.TexturePNButtons(e,c,false);this._pnBtns.onOverColor=pt.onOverColor;this._pnBtns.onOutColor=pt.onOutColor;this._pnBtns.hide(0);this._pnBtns.ON_CHANGE.add(this,this._onClickPNButton);this._prevBtnWidth=d.sourceWidth;this._nextBtnWidth=g.sourceWidth;this._prevBtnHeight=d.sourceHeight;this._nextBtnHeight=g.sourceHeight;this.addChild(this._pnBtns);this.enabled=false};a.onClickButton=function(c){if(c.index==this._pageIndex){return}this._pageIndex=c.index;this._tweenListPosition();this._pnBtns.showPNButtons(this._pageIndex>0,this._pageIndex<this._pageTotal-1)};a._tweenListPosition=function(){var c=this._pageIndex*-1*(this._currentListContentWidth+this._gap);this._listContainer.updateCurrentPos(c);TweenMax.to(this._listContainer.itemContainer,this.tweenTime,{x:c,ease:Quart.easeOut});this._listContainer.mouseChildren=false;pinetreecom.DelayCaller.delayCall(this,this.setEnabled,this.tweenTime*0.8,[true],true);this.redraw()};a.setEnabled=function(c){this.mouseChildren=this.mouseEnabled=c;this._pnBtns.useMouseWheel=c&&!pinetree.isSmallMode;this._pnBtns.useKeyArrow=c&&!pinetree.isSmallMode;this._listContainer.mouseChildren=true};a.tweenInComplete=function(){};a.tweenOutComplete=function(){};a.onOverItem=function(c){};a.onOutItem=function(c){};a.onControlPNChange=function(c){if(!this._isInited){return}this._onClickPNButton(c)};a._onClickPNButton=function(c){if(c.type==pinetreecom.SimplePNButtonsManager.PREV_TYPE){this._pageIndex--}else{this._pageIndex++}if(this._pageIndex>=0&&this._pageIndex<this._pageTotal){this._tweenListPosition();this._buttonList.setSelectBtn(this._pageIndex)}};a.onClickThumbnail=function(c){this._currentIndex=c;this.enabled=false;this.animateOut(Delegate.create(this,this._onGoToImages))};a._onGoToImages=function(){this.removeFromParent();pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex+1])};a.changeLinkParams=function(d,e){pinetreepages.NewsBase.prototype.changeLinkParams.call(this,d,e);if(this._isInited){this.animateOut(Delegate.create(this,this.changeLinkParams,d,e));return}if(e&&pinetreecom.ArrayUtil.isArray(e)&&e.length>0){var c=parseInt(e[0]);if(!isNaN(c)&&this.facade.$.imagesUI&&!this.facade.$.imagesUI.isInited){if(c>0&&c<=this._dataCount){this.enabled=false;this.ON_CHANGE.dispatch(c-1);pt.controlBtns.cancel(this)}}}};a.backToOriginParent=function(){this._originParent.addChild(this);this.animateIn()};a.resize=function(l,h){if(!this._isInited){return}this._itemEdge=pinetree.isSmallMode?this.EDGE_CONST_SMALL:this.EDGE_CONST_NORMAL;var k=l-this._itemEdge;if(k<this._itemWidth){k=this._itemWidth+this._itemEdge}this._listContainer.resize(k,h);var g=Math.floor((l-this._itemEdge+this._gap)/(this._itemWidth+this._gap));if(g<1){g=1}if(this._currentColumn!=g){this._currentColumn=g;this._currentListContentWidth=(this._itemWidth+this._gap)*g-this._gap;var d=this._pageIndex*this._pageTotal;if(d>this._dataCount-1){d=this._dataCount-1}var e=Math.floor(d/g);this._pageTotal=Math.ceil(this._dataCount/g);this._buttonList.count=this._pageTotal;this._buttonList.visible=this._pageTotal>1;if(e!=this._pageIndex){this._pageIndex=e;this._buttonList.setSelectBtn(this._pageIndex);this._tweenListPosition()}}this._listContainer.x=(l-this._currentListContentWidth)>>1;this._listContainer.y=(h-pt.FOOTER_HEIGHT-this._itemHeight)>>1;if(this._buttonList.visible){this._buttonList.x=(l-this._buttonList.contentWidth+this._buttonList.buttonSize)>>1;var i=h-this._buttonList.contentHeight-pt.FOOTER_HEIGHT+Math.floor(this._buttonList.buttonSize/2)-20;var j=this._listContainer.y+this._itemHeight+100;if(j>i){j=i}this._buttonList.y=j}if(pinetree.isSmallMode){this._pnBtns.visible=false;pt.controlBtns.infoVisible=false;pt.controlBtns.closeVisible=false;pt.controlBtns.show(0);pt.controlBtns.showPNButtons(this._pageIndex>0,this._pageIndex<this._pageTotal-1);pt.refreshControlBtns()}else{pt.controlBtns.hide(0);this._pnBtns.visible=true;if(!this._pnBtns.isShowing){this._pnBtns.show()}if(this._pnBtns.parent!=this){this.addChild(this._pnBtns)}var c=30;this._pnBtns.prevBtn.x=c;this._pnBtns.nextBtn.x=l-c-this._nextBtnWidth;this._pnBtns.x=0;this._pnBtns.y=(h+pt.TOP_HEIGHT-pt.FOOTER_HEIGHT-this._prevBtnHeight)>>1;this._pnBtns.showPNButtons(this._pageIndex>0,this._pageIndex<this._pageTotal-1)}};a.animateIn=function(){this._isTweening=true;this._isInited=true;this.visible=true;this.redraw();if(!pinetree.isSmallMode){this._pnBtns.show()}this._listContainer.animateDelay=0.05*this.tweenTime;pinetreecom.DelayCaller.delayAfterFrames(this._listContainer,this._listContainer.animationIn,10,[pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM,this.tweenTime,Cubic.easeOut]);pinetreecom.DelayCaller.delayCall(this,this._onAnimateInComplete,this.tweenTime,null,true)};a._onAnimateInComplete=function(){this._isTweening=false;this.redraw();this.enabled=true;pt.controlBtns.listen(this);if(this._buttonList){this._buttonList.show()}};a.animateOut=function(c){this._isInited=false;this.enabled=false;pt.controlBtns.cancel(this);this._pnBtns.hide(this.tweenTime*0.5);if(this._buttonList){this._buttonList.hide()}this._listContainer.animateDelay=0.05*this.tweenTime;this._listContainer.animationOut(pinetreecom.ListBase.ANI_DIRECTION_BOTTOM2TOP,this.tweenTime*1.2,Cubic.easeInOut,c)};a.transitionIn=function(){this._isTweening=true;this._isInited=true;this.visible=true;this.redraw();if(this.linkParams){this.changeLinkParams(this.linkId,this.linkParams)}else{this._listContainer.y=-this._itemHeight;this._listContainer.animateDelay=0;this._listContainer.animationIn(pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM,0,Cubic.easeOut);this._listContainer.resize(pt.stageWidth-this._itemEdge,pt.stageHeight);var c=(pt.stageHeight-pt.FOOTER_HEIGHT-this._itemHeight)>>1;TweenMax.to(this._listContainer,this.tweenTime*1.2,{y:c,ease:Quart.easeOut,onComplete:Delegate.create(this,this._onAniComplete)})}};a._onAniComplete=function(){this._isTweening=false;this.redraw();this.enabled=true;pt.controlBtns.listen(this);if(!pinetree.isSmallMode){this._pnBtns.show()}if(this._buttonList){this._buttonList.show()}};a.transitionOut=function(c){this._isInited=false;this.enabled=false;pt.controlBtns.cancel(this);this._pnBtns.hide(this.tweenTime*0.5);pt.controlBtns.hide();if(this._buttonList){this._buttonList.hide()}TweenMax.to(this._listContainer,this.tweenTime,{y:pt.stageHeight+50,ease:Quart.easeIn,onComplete:c})};a.predispose=function(){this.enabled=false;if(this.facade.$.imagesUI&&this.facade.$.imagesUI.isInited){this.facade.$.imagesUI.predisposeOut(Delegate.create(this,this.dispose))}else{if(this._isInited){this.transitionOut(Delegate.create(this,this.dispose))}else{this.dispose()}}};a.dispose=function(){pinetreecom.DelayCaller.removeByOwner(this);pt.controlBtns.hide(0);pt.controlBtns.cancel(this);this._buttonList&&this._buttonList.dispose();this._buttonList=null;this._pnBtns&&this._pnBtns.removeFromParent(true);this._pnBtns=null;this._listContainer&&this._listContainer.dispose();this._listContainer=null;this._originParent=null;this.facade.$.listUI=null;pinetreepages.NewsBase.prototype.dispose.call(this)};pinetreepages.NewsList=b})();(function(){var a=function(){pinetreepages.NewsBase.call(this);this._currentIndex=0;this._dataCount=0;this._gap=20;this._isTweening=false;this.EDGE_CONST_SMALL=30;this._itemEdge=this.EDGE_CONST_SMALL;this._itemWidth=0;this._itemHeight=0;this._prevBtnWidth=0;this._nextBtnWidth=0;this._prevBtnHeight=0;this._nextBtnHeight=0;this._oldScrollX=0;this._oldScrollY=0;this._currentColumn=0;this._currentListContentWidth=0;this._pageIndex=0;this._pageTotal=0;this._originParent=null;this._listContainer=null;this._buttonList=null;this._pnBtns=null;this._isInited=false;this.visible=false;__defineGetterSetter(this,["enabled"])};var b=__extends(a,pinetreepages.NewsBase);b.addedToStage=function(){if(!this.isInitialized){this._originParent=this.parent}pinetreepages.NewsBase.prototype.addedToStage.call(this)};b.initData=function(c){pinetreepages.NewsBase.prototype.initData.call(this,c);this._currentIndex=0;this._dataCount=c.length;this._itemWidth=this.facade.$.setting.itemWidth;this._itemHeight=this.facade.$.setting.itemHeight;this._gap=this.facade.$.setting.gap;this._pageIndex=0;this._pageTotal=0;this._initUI();pinetreecom.DelayCaller.delayCall(this,this.transitionIn,0.1)};b._initUI=function(){this._listContainer=new pinetreecom.ListContainer();this.addChild(this._listContainer);this._listContainer.animateTime=this.tweenTime;this._listContainer.animateDelay=0.1*this.tweenTime;this._listContainer.ON_TWEEN_IN_COMPLETE.add(this,this.tweenInComplete);this._listContainer.ON_TWEEN_OUT_COMPLETE.add(this,this.tweenOutComplete);this._listContainer.ON_OVER.add(this,this.onOverItem);this._listContainer.ON_OUT.add(this,this.onOutItem);this._listContainer.ON_CLICK.add(this,this.onClickThumbnail);this._listContainer.ON_NEED_RESIZE.add(this,this.redraw);this._listContainer.onlyFullShown=true;this._listContainer.useRealPosition=false;this._listContainer.useRealStagePos=false;this._listContainer.showAllWhileDevice=true;this._listContainer.useIntPosition=true;this._listContainer.reset();this._listContainer.setUpWith(pinetreepages.NewsListDeviceRender,this._itemWidth,this._thumbHeight,0,this._gap,pinetreecom.AlignUtil.ALIGN_VERTICAL,1,this.data,pt.stageWidth,pt.stageHeight);this.enabled=false};b.setEnabled=function(c){this.mouseChildren=this.mouseEnabled=c;this._listContainer.mouseChildren=true};b.tweenInComplete=function(){};b.tweenOutComplete=function(){};b.onOverItem=function(c){};b.onOutItem=function(c){};b.onControlPNChange=function(c){if(!this._isInited){return}this._onClickPNButton(c)};b.onClickThumbnail=function(c){this._currentIndex=c;this.enabled=false;this.animateOut(Delegate.create(this,this._onGoToImages))};b._onGoToImages=function(){this.removeFromParent();pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex+1])};b.changeLinkParams=function(d,e){pinetreepages.NewsBase.prototype.changeLinkParams.call(this,d,e);if(this._isInited){this.animateOut(Delegate.create(this,this.changeLinkParams,d,e));return}if(e&&pinetreecom.ArrayUtil.isArray(e)&&e.length>0){var c=parseInt(e[0]);if(!isNaN(c)&&this.facade.$.imagesUI&&!this.facade.$.imagesUI.isInited){if(c>0&&c<=this._dataCount){this.enabled=false;this.ON_CHANGE.dispatch(c-1)}}}};b.backToOriginParent=function(){this._originParent.addChild(this);this.animateIn();window.scrollTo(this._oldScrollX,this._oldScrollY)};b.resize=function(c,d){if(!this._isInited){return}this._listContainer.resize(c,d-pt.TOP_HEIGHT);this._listContainer.x=this._itemEdge;this._listContainer.y=this._itemEdge+pt.TOP_HEIGHT};b.animateIn=function(){this._isTweening=true;this._isInited=true;this.visible=true;this.redraw();this._listContainer.animateDelay=0.01*this.tweenTime;pinetreecom.DelayCaller.delayAfterFrames(this._listContainer,this._listContainer.animationIn,10,[pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM,this.tweenTime,Cubic.easeOut]);pinetreecom.DelayCaller.delayCall(this,this._onAnimateInComplete,this.tweenTime,null,true)};b._onAnimateInComplete=function(){this._isTweening=false;this.redraw();this.enabled=true};b.animateOut=function(c){this._isInited=false;this.enabled=false;this._oldScrollX=pinetree.getScrollX();this._oldScrollY=pinetree.getScrollY();this._listContainer.animateDelay=0.01*this.tweenTime;this._listContainer.animationOut(pinetreecom.ListBase.ANI_DIRECTION_BOTTOM2TOP,this.tweenTime*1.2,Cubic.easeInOut,c)};b.transitionIn=function(){this._isTweening=true;this._isInited=true;this.visible=true;this.redraw();if(this.linkParams){this.changeLinkParams(this.linkId,this.linkParams)}else{this._listContainer.animateDelay=0;this._listContainer.animationIn(pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM,this.tweenTime,Cubic.easeOut);this._listContainer.resize(pt.stageWidth-this._itemEdge*2,pt.stageHeight);TweenMax.to(this._listContainer,this.tweenTime*1.2,{ease:Quart.easeOut,onComplete:Delegate.create(this,this._onAniComplete)})}};b._onAniComplete=function(){this._isTweening=false;this.redraw();this.enabled=true};b.transitionOut=function(c){this._isInited=false;this.enabled=false;this.animateOut(c)};b.predispose=function(){this.enabled=false;if(this.facade.$.imagesUI&&this.facade.$.imagesUI.isInited){this.facade.$.imagesUI.predisposeOut(Delegate.create(this,this.dispose))}else{if(this._isInited){this.transitionOut(Delegate.create(this,this.dispose))}else{this.dispose()}}};b.dispose=function(){pinetreecom.DelayCaller.removeByOwner(this);this._listContainer&&this._listContainer.dispose();this._listContainer=null;this._originParent=null;this.facade.$.listUI=null;pinetreepages.NewsBase.prototype.dispose.call(this)};pinetreepages.NewsListDevice=a})();(function(){var a=function(c){pinetreepages.ViewBase.call(this,c);this._portfolioFacade=null;this._container=null};var b=__extends(a,pinetreepages.ViewBase);b.addedToStage=function(){pinetreepages.ViewBase.prototype.addedToStage.call(this);this._portfolioFacade=new pinetreepages.PortfolioFacade();this._portfolioFacade.ON_DISPOSE_COMPLETE.add(this,this._mvcDisposed);this._container=new pinetree.Sprite();this.addChild(this._container)};b.analyzeParams=function(c,d){pinetreepages.ViewBase.prototype.analyzeParams.call(this,c,d);if(this._portfolioFacade){this._portfolioFacade.updateLinkParams(this.linkId,this.linkParams)}};b.transitionIn=function(){this._portfolioFacade.startUp({container:this._container,source:this.data.src,size:this.data.size});this._portfolioFacade.updateLinkParams(this.linkId,this.linkParams);this.transitionInComplete()};b.transitionOut=function(){this._portfolioFacade&&this._portfolioFacade.predispose()};b._mvcDisposed=function(){this.transitionOutComplete()};b.dispose=function(){pinetreepages.ViewBase.prototype.dispose.call(this)};b.toString=function(){return"[Object PortfolioView]"};pinetreepages.PortfolioView=a}());(function(){var b=function(){pinetreemvc.Facade.call(this);this.$={NFT_START_UP:"notification_start_up",NFT_DATA_LOAD_COMPLETE:"notification_data_load_complete",NFT_IMAGE_CHANGE:"notification_image_change",NFT_IMAGE_LOAD_COMPLETE:"notification_image_load_complete",NFT_LINK_PARAMETERS_CHANGE:"notification_link_parameters_change",setting:null,root:null,listUI:null,imagesUI:null}};var a=__extends(b,pinetreemvc.Facade);a.startUp=function(c){this.registerCommand(this.$.NFT_START_UP,pinetreepages.PortfolioStartUpCommand);this.sendNotification(this.$.NFT_START_UP,c)};a.updateLinkParams=function(c,d){this.sendNotification(this.$.NFT_LINK_PARAMETERS_CHANGE,{linkId:c,linkParams:d})};pinetreepages.PortfolioFacade=b}());(function(){var a=function(){this.thumbWidth=0;this.thumbHeight=0;this.readMoreLabel="READ MORE";this.hasTips=false;this.gap=0;this.row=1;this.itemOffsetY=0;this.closeButtonOffsetY=0;this.useShadow=false};a.from=function(c){var b=new pinetreepages.PortfolioSetting();b.thumbWidth=c.thumbWidth;b.thumbHeight=c.thumbHeight;b.readMoreLabel=c.readMoreLabel||b.readMoreLabel;b.hasTips=(pinetree.isDevice?(c.deviceShowTips!=false):c.showTips)||false;b.gap=c.gap||0;b.itemOffsetY=c.itemOffsetY||0;b.closeButtonOffsetY=c.closeButtonOffsetY||0;b.row=__defaultSet(c.row,b.row);b.useShadow=__defaultSet(c.useShadow,b.useShadow);return b};pinetreepages.PortfolioSetting=a})();(function(){var a=function(){this.index=0;this.total=0;this.title="";this.preview="";this.description="";this.thumburl="";this.imageurls=[];this.readMoreLabel="";this.hasTips=false;this.useShadow=false;this.thumbWidth=0;this.thumbHeight=0;this.videoWidth=640;this.videoHeight=360;this.videourl="";this.videoType="video";this.isImage=true};a.from=function(d){var b=new pinetreepages.PortfolioImageVo();b.title=d.title||"";b.preview=d.preview||"";b.description=d.description||"";b.thumburl=d.thumburl;var c=d.imageurl||"";if(c){c=c.replace(/,\s*/,",")}b.imageurls=c.split(",");if(b.preview==""){b.preview=b.description}b.videoWidth=__defaultSet(d.videoWidth,b.videoWidth);b.videoHeight=__defaultSet(d.videoHeight,b.videoHeight);b.videourl=d.videourl||"";b.videoType=__defaultSet(d.videoType,"video");b.isImage=b.videourl=="";return b};pinetreepages.PortfolioImageVo=a})();(function(){var a=function(e,d,g,c){pinetreemvc.Proxy.call(this,e,d,g,c)};a.NAME="PortfolioImageProxy";var b=__extends(a,pinetreemvc.Proxy);b.parse=function(e){var k=[];var j=JSON.parse(e);var h=pinetreepages.PortfolioSetting.from(j.setting);this.facade.$.setting=h;var c=j.data.length,d;for(var g=0;g<c;g++){d=pinetreepages.PortfolioImageVo.from(j.data[g]);d.thumbWidth=h.thumbWidth;d.thumbHeight=h.thumbHeight;d.readMoreLabel=h.readMoreLabel;d.hasTips=h.hasTips;d.useShadow=h.useShadow;d.index=g;d.total=c;k.push(d)}this.sendNotification(this.facade.$.NFT_DATA_LOAD_COMPLETE,k)};pinetreepages.PortfolioImageProxy=a})();(function(){var a=function(e,d,c){pinetreemvc.Mediator.call(this,e,d,c);c.ON_CHANGE.add(this,this.onChange);c.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);this.interests=[e.$.NFT_DATA_LOAD_COMPLETE,e.$.NFT_IMAGE_CHANGE,e.$.NFT_IMAGE_LOAD_COMPLETE,e.$.NFT_LINK_PARAMETERS_CHANGE]};a.NAME="PortfolioImagesMediator";var b=__extends(a,pinetreemvc.Mediator);b.handleNotification=function(e){var c=e.name;var d=e.data;switch(c){case this.facade.$.NFT_DATA_LOAD_COMPLETE:this.viewComponent.initData(d);break;case this.facade.$.NFT_IMAGE_CHANGE:this.viewComponent.load(d);break;case this.facade.$.NFT_IMAGE_LOAD_COMPLETE:break;case this.facade.$.NFT_LINK_PARAMETERS_CHANGE:this.viewComponent.changeLinkParams(d.linkId,d.linkParams);break;default:break}};b.onChange=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_CHANGE,c)};b.onLoadComplete=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_LOAD_COMPLETE,c)};pinetreepages.PortfolioImagesMediator=a})();(function(){var a=function(e,d,c){pinetreemvc.Mediator.call(this,e,d,c);c.ON_CHANGE.add(this,this.onChange);c.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);this.interests=[e.$.NFT_DATA_LOAD_COMPLETE,e.$.NFT_IMAGE_CHANGE,e.$.NFT_IMAGE_LOAD_COMPLETE,e.$.NFT_LINK_PARAMETERS_CHANGE]};a.NAME="PortfolioListMediator";var b=__extends(a,pinetreemvc.Mediator);b.handleNotification=function(e){var c=e.name;var d=e.data;switch(c){case this.facade.$.NFT_DATA_LOAD_COMPLETE:this.viewComponent.initData(d);break;case this.facade.$.NFT_IMAGE_CHANGE:break;case this.facade.$.NFT_IMAGE_LOAD_COMPLETE:break;case this.facade.$.NFT_LINK_PARAMETERS_CHANGE:this.viewComponent.changeLinkParams(d.linkId,d.linkParams);break;default:break}};b.onChange=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_CHANGE,c)};b.onLoadComplete=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_LOAD_COMPLETE,c)};pinetreepages.PortfolioListMediator=a})();(function(){var a=function(){pinetreemvc.Command.call(this)};var b=__extends(a,pinetreemvc.Command);b.execute=function(i){var h=i.data;var d=h.container;var g=h.source;var c=h.size;this.facade.$.root=d;var j=pinetree.isDevice?new pinetreepages.PortfolioListDevice:new pinetreepages.PortfolioList();var e=new pinetreepages.PortfolioImages();d.addChild(j);d.addChild(e);this.facade.$.listUI=j;this.facade.$.imagesUI=e;this.facade.registerMediator(null,pinetreepages.PortfolioListMediator,j);this.facade.registerMediator(null,pinetreepages.PortfolioImagesMediator,e);this.facade.registerProxy(null,pinetreepages.PortfolioImageProxy,g,c)};pinetreepages.PortfolioStartUpCommand=a})();(function(){var b=function(e,c,d){pinetree.Sprite.call(this);this._data=e;this._itemWidth=c;this._itemHeight=d;this._gap=20;this._titleTxt=null;this._previewTxt=null;this.tweenTime=1;this.transition=Quint.easeOut};var a=__extends(b,pinetree.Sprite);a.addedToStage=function(){if(!this.isInitialized){this._titleTxt=new pinetree.TextField();this._titleTxt.useMouseHand=true;this._titleTxt.className+=" portfolio_list_title";this._titleTxt.width=this._itemWidth-this._gap-this._gap;this.addChild(this._titleTxt);this._titleTxt.htmlText=this._data.title;this._titleTxt.x=0;this._titleTxt.y=this._itemHeight+this._gap;this._previewTxt=new pinetree.TextField();this._previewTxt.useMouseHand=true;this._previewTxt.className+=" portfolio_list_preview";this._previewTxt.width=this._itemWidth-this._gap-this._gap;this.addChild(this._previewTxt);this._previewTxt.htmlText=this._data.preview;this._previewTxt.x=0;this._previewTxt.y=this._titleTxt.y+this._titleTxt.height+this._gap-10}pinetree.Sprite.prototype.addedToStage.call(this)};a.over=function(c,d){if(c==undefined){c=this.tweenTime/2}if(d==undefined){d=Quad.easeOut}if(this._titleTxt){this._titleTxt.tweenColor(pt.onOverColor,c,d)}};a.out=function(c,d){if(c==undefined){c=this.tweenTime/2}if(d==undefined){d=Quad.easeOut}if(this._titleTxt){this._titleTxt.tweenColor(pt.textColor,c,d)}};a.getHeight=function(){if(!this._previewTxt){return 0}return this._previewTxt.y+this._previewTxt.height};a.dispose=function(){this._titleTxt&&this._titleTxt.dispose();this._titleTxt=null;this._previewTxt&&this._previewTxt.dispose();this._previewTxt=null;pinetree.Sprite.prototype.dispose.call(this)};pinetreepages.PortfolioListTips=b}());(function(){var a=function(c){pinetree.Sprite.call(this);this._data=c;this._titleTxt=null;this._previewTxt=null;this._gapY=22};var b=__extends(a,pinetree.Sprite);b.addedToStage=function(){if(!this.isInitialized){this._titleTxt=new pinetree.TextField();this._titleTxt.useMouseHand=true;this._titleTxt.selectable=false;this.addChild(this._titleTxt);this._titleTxt.className+=" portfolio_list_title_device";this._previewTxt=new pinetree.TextField();this._previewTxt.useMouseHand=true;this._previewTxt.selectable=false;this.addChild(this._previewTxt);this._previewTxt.className+=" portfolio_list_preview_device"}pinetree.Sprite.prototype.addedToStage.call(this)};b.update=function(c,e){this._titleTxt.width=c;this._titleTxt.height=10;this._titleTxt.htmlText=this._data.title;this._titleTxt.y=0;this._titleTxt.setLimitation(1,true);this._previewTxt.width=c;this._previewTxt.htmlText=this._data.preview;this._previewTxt.y=this._titleTxt.y+this._titleTxt.textHeight+this._gapY;var d=e-this._previewTxt.y;this._previewTxt.setLimitation(d,false)};b.dispose=function(){pinetree.Sprite.prototype.dispose.call(this)};pinetreepages.PortfolioListDeviceTips=a}());(function(){var b=function(){pinetreecom.ListItemBase.call(this);this._clipRect=new pinetree.Rectangle(0,0,0,0);this._thumbWidth=0;this._thumbHeight=0;this._bgAlpha=pt.bgAlpha;this._thumbnail=null;this._tips=null;this._previewTxt=null;this._icon=null;this._zoomIcon=null;this._hasTips=false;this._useShadow=false;this._isShowing=false;this._isActive=false;this.mouseChildren=false};var a=__extends(b,pinetreecom.ListItemBase);a.setUpWith=function(c,e,g){pinetreecom.ListItemBase.prototype.setUpWith.call(this,c,e,g);this._thumbWidth=g.thumbWidth;this._thumbHeight=g.thumbHeight;this._hasTips=g.hasTips;this._useShadow=g.useShadow;if(this._useShadow){this._thumbnail=new pinetreecom.ShadowImageLoader(this._thumbWidth,this._thumbHeight);this._thumbnail.className="shadow_20px";this._thumbnail.useMouseHand=true}else{this._thumbnail=new pinetreecom.Thumbnail(this._thumbWidth,this._thumbHeight,pt.onOverColor,pt.bgColor,true);this._thumbnail.backgroundAlpha=pt.bgAlpha;this._thumbnail.ON_LOAD_COMPLETE.add(this,this._onImgLoadComplete);this._thumbnail.fg.useMouseHand=true}this.addChild(this._thumbnail);if(!g.isImage){this._icon=new pinetree.TextureImage();this.addChild(this._icon);this._icon.alpha=1;this._icon.texture=pt.getCommonTexture(pinetreepages.EnumTextures.VIDEO_ICON);this._icon.x=(this._thumbWidth-this._icon.width)>>1;this._icon.y=(this._thumbHeight-this._icon.height)>>1;pinetreecom.ColorUtil.setColor(this._icon,pt.videoIconColor)}if(!pinetree.isDevice){this.addEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.addEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this)}else{this.addEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onOver,this);this.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onOut,this)}this._previewTxt=new pinetree.TextField();this._previewTxt.useMouseHand=true;this._previewTxt.selectable=false;this.addChild(this._previewTxt);this._previewTxt.alpha=0;this._previewTxt.fontSize=14;this._previewTxt.textColor=pt.bgColor;this._previewTxt.htmlText=g.readMoreLabel;var d=pt.getCommonTexture(pinetreepages.EnumTextures.ZOOM_IN_ICON);this._zoomIcon=new pinetree.TextureImage(d);this._zoomIcon.alpha=0;this._zoomIcon.buttonMode=true;this.addChild(this._zoomIcon);pinetreecom.ColorUtil.setColor(this._zoomIcon,pt.bgColor);this._zoomIcon.x=(this._thumbWidth-this._zoomIcon.width)>>1;this.width=this._itemWidth;this.height=this._itemHeight;this.buttonMode=true;this.alpha=0};a.addedToStage=function(){if(!this.isInitialized){if(this._hasTips){this._tips=new pinetreepages.PortfolioListTips(this._data,this._itemWidth,this._itemHeight);this.addChild(this._tips);this.width=this._itemWidth;this.height=this._tips.height}}if(this._previewTxt){this._previewTxt.x=(this._thumbWidth-this._previewTxt.width)>>1}pinetreecom.ListItemBase.prototype.addedToStage.call(this)};a.getThumbnail=function(){return this._thumbnail};a.load=function(){if(this._thumbnail){this._thumbnail.load(this._data.thumburl)}else{this._onImgLoadComplete(null)}};a._onImgLoadComplete=function(c){c.setRealFitSize(this._thumbWidth,this._thumbHeight)};a._onOver=function(e){if(pinetree.isDevice){return}if(this._thumbnail){if(!this._useShadow){this._thumbnail.onOver(this.tweenTime*3,Quart.easeOut,1.08)}else{this._thumbnail.buttonMode=true}var d=this._useShadow?(this._thumbnail.imageLoader?this._thumbnail.imageLoader.fg:null):this._thumbnail.fg;if(d){TweenMax.to(d,this.tweenTime/2,{alpha:this._bgAlpha,ease:Quad.easeOut})}}var h=this._thumbHeight>>1;var c=5;var g=10;if(this._zoomIcon){this._zoomIcon.y=h-this._zoomIcon.height-g-20+c;TweenMax.to(this._zoomIcon,this.tweenTime/3,{alpha:1,y:h-this._zoomIcon.height-g+c,ease:Cubic.easeInOut})}if(this._previewTxt){this._previewTxt.y=h+g+20;TweenMax.to(this._previewTxt,this.tweenTime/3,{alpha:1,y:h+g,ease:Cubic.easeOut})}if(this._icon){TweenMax.to(this._icon,this.tweenTime/3,{alpha:0,ease:Quad.easeOut})}this._tips&&this._tips.over()};a._onOut=function(e){if(this._thumbnail){if(!this._useShadow){this._thumbnail.onOut(this.tweenTime/2)}var d=this._useShadow?(this._thumbnail.imageLoader?this._thumbnail.imageLoader.fg:null):this._thumbnail.fg;if(d){TweenMax.to(d,this.tweenTime/2,{alpha:0,ease:Quad.easeOut})}}var h=this._thumbHeight>>1;var c=5;var g=10;if(this._zoomIcon){TweenMax.to(this._zoomIcon,this.tweenTime/3,{alpha:0,y:h-this._zoomIcon.height-g-20+c,ease:Cubic.easeInOut})}this._previewTxt&&TweenMax.to(this._previewTxt,this.tweenTime/3,{alpha:0,y:h+g+20,ease:Cubic.easeOut});if(this._icon){TweenMax.to(this._icon,this.tweenTime/3,{alpha:1,ease:Quad.easeOut})}this._tips&&this._tips.out()};a.getWidth=function(){return this._itemWidth};a.getCurrentWidth=function(){return this._itemWidth};a.getCurrentHeight=function(){return this._itemHeight};a.setEnable=function(){};a.setState=function(d,c){if(c){this.show();this._isActive=true}else{this.hide();this._isActive=false}};a.show=function(){if(this._isShowing){return}this._isShowing=true;if(!this.parent){this.addToParent()}TweenMax.killTweensOf(this,false,{alpha:true});TweenMax.to(this,this.tweenTime,{alpha:1,ease:Quart.easeOut,onComplete:this._onShowComplete,onCompleteParams:[this]})};a._onShowComplete=function(c){};a.hide=function(){if(!this._isShowing){return}this._isShowing=false;TweenMax.killTweensOf(this,false,{alpha:true});TweenMax.to(this,this.tweenTime,{alpha:0,ease:Quart.easeOut,onComplete:this._onHideComplete,onCompleteParams:[this]})};a._onHideComplete=function(c){c.removeFromParent()};a.getGlobalBounds=function(){var c=this.localToGlobal(new pinetree.Point());return new pinetree.Rectangle(c.x,c.y,this._itemWidth,this._itemHeight)};a.animationIn=function(d,c,e,g){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if(d==0&&c==0){this._onInComplete(this,g);return}TweenMax.killTweensOf(this);this.alpha=1;this.x=this.originX+pt.stageWidth;TweenMax.to(this,d,{x:this.originX,delay:c,ease:e||this.transition,onComplete:this._onInComplete,onCompleteParams:[this,g]});this.addToParent()};a._onInComplete=function(c,d){if(!c.mouseEnabled){if(c.x!=c.originX){c.x=c.originX}c.mouseEnabled=true}d&&d()};a.animationOut=function(d,c,e,g){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if(d==0&&c==0){this._onOutComplete(this,g);return}TweenMax.killTweensOf(this);this.mouseEnabled=false;TweenMax.to(this,d,{x:this.originX+pt.stageWidth,delay:c,ease:e||this.transition,onComplete:this._onOutComplete,onCompleteParams:[this,g]})};a._onOutComplete=function(c,d){if(!pinetree.isDevice){c.removeFromParent()}d&&d()};a.dispose=function(){if(this._thumbnail){this._thumbnail.dispose();this._thumbnail=null}if(this._icon){this._icon.removeFromParent(true);this._icon=null}if(this._zoomIcon){TweenMax.killTweensOf(this._zoomIcon);this._zoomIcon.removeFromParent(true);this._zoomIcon=null}if(this._previewTxt){TweenMax.killTweensOf(this._previewTxt);this._previewTxt=null}if(!pinetree.isDevice){this.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this)}else{this.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._onOut,this)}if(this._tips){this._tips.dispose();this._tips=null}TweenMax.killTweensOf(this);pinetreecom.ListItemBase.prototype.dispose.call(this)};pinetreepages.PortfolioListRender=b}());(function(){var a=function(){pinetreecom.ListItemBase.call(this);this._clipRect=new pinetree.Rectangle(0,0,0,0);this._thumbWidth=0;this._thumbHeight=0;this._itemEdge=30;this._thumbnail=null;this._tips=null;this._hasTips=true;this._previewTxt=null;this._icon=null;this._zoomIcon=null;this._isShowing=false;this._isActive=false;this.mouseChildren=false};var b=__extends(a,pinetreecom.ListItemBase);b.setUpWith=function(c,e,g){pinetreecom.ListItemBase.prototype.setUpWith.call(this,c,e,g);this._thumbWidth=g.thumbWidth;this._thumbHeight=g.thumbHeight;this._hasTips=g.hasTips;this._thumbnail=new pinetreecom.ShadowImageLoader(this._thumbWidth,this._thumbHeight);this._thumbnail.backgroundAlpha=0;this._thumbnail.className="shadow_20px";this._thumbnail.useMouseHand=true;this.addChild(this._thumbnail);if(!g.isImage){this._icon=new pinetree.TextureImage();this.addChild(this._icon);this._icon.alpha=1;this._icon.texture=pt.getCommonTexture(pinetreepages.EnumTextures.VIDEO_ICON);this._icon.x=(this._thumbWidth-this._icon.width)>>1;this._icon.y=(this._thumbHeight-this._icon.height)>>1;pinetreecom.ColorUtil.setColor(this._icon,pt.videoIconColor)}this.addEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onOver,this);this.addEventListener(pinetree.MouseEvent.MOUSE_UP,this._onOut,this);this._previewTxt=new pinetree.TextField();this._previewTxt.useMouseHand=true;this._previewTxt.selectable=false;this.addChild(this._previewTxt);this._previewTxt.alpha=0;this._previewTxt.fontSize=14;this._previewTxt.textColor=pt.bgColor;this._previewTxt.htmlText=g.readMoreLabel;var d=pt.getCommonTexture(pinetreepages.EnumTextures.ZOOM_IN_ICON);this._zoomIcon=new pinetree.TextureImage(d);this._zoomIcon.alpha=0;this._zoomIcon.buttonMode=true;this.addChild(this._zoomIcon);pinetreecom.ColorUtil.setColor(this._zoomIcon,pt.bgColor);this._zoomIcon.x=(this._thumbWidth-this._zoomIcon.width)>>1;this.width=this._itemWidth;this.height=this._itemHeight;this.buttonMode=true;this.alpha=0};b.addedToStage=function(){if(!this.isInitialized){if(this._hasTips){this._tips=new pinetreepages.PortfolioListDeviceTips(this._data);this.addChild(this._tips);this._tips.x=this._itemWidth+this._itemEdge}}if(this._previewTxt){this._previewTxt.x=(this._thumbWidth-this._previewTxt.width)>>1}if(this._tips){this._tips.update(pt.stageWidth-this._thumbWidth-this._itemEdge*3,this._thumbHeight)}pinetreecom.ListItemBase.prototype.addedToStage.call(this)};b.resize=function(c,d){if(this._tips){this._tips.update(c-this._thumbWidth-this._itemEdge*3,this._thumbHeight)}};b.getThumbnail=function(){return this._thumbnail};b.load=function(){if(this._thumbnail){this._thumbnail.load(this._data.thumburl)}else{this._onImgLoadComplete(null)}};b._onImgLoadComplete=function(c){};b._onOver=function(d){if(this._thumbnail&&this._thumbnail.imageLoader){this._thumbnail.imageLoader.buttonMode=true;this._thumbnail.imageLoader.onOver(this.tweenTime*3,Quart.easeOut,1.08);TweenMax.to(this._thumbnail.imageLoader.fg,this.tweenTime/2,{alpha:pt.bgAlpha,ease:Quad.easeOut})}var g=this._thumbHeight>>1;var c=5;var e=10;this._zoomIcon.y=g-this._zoomIcon.height-e-20+c;this._previewTxt.y=g+e+20;this._zoomIcon&&TweenMax.to(this._zoomIcon,this.tweenTime/3,{alpha:1,y:g-this._zoomIcon.height-e+c,ease:Cubic.easeInOut});this._previewTxt&&TweenMax.to(this._previewTxt,this.tweenTime/3,{alpha:1,y:g+e,ease:Cubic.easeOut});if(this._icon){TweenMax.to(this._icon,this.tweenTime/3,{alpha:0,ease:Quad.easeOut})}};b._onOut=function(d){if(this._thumbnail&&this._thumbnail.imageLoader){this._thumbnail.imageLoader.onOut(this.tweenTime/2);TweenMax.to(this._thumbnail.imageLoader.fg,this.tweenTime/2,{alpha:0,ease:Quad.easeOut})}var g=this._thumbHeight>>1;var c=5;var e=10;this._zoomIcon&&TweenMax.to(this._zoomIcon,this.tweenTime/3,{alpha:0,y:g-this._zoomIcon.height-e-20+c,ease:Cubic.easeInOut});this._previewTxt&&TweenMax.to(this._previewTxt,this.tweenTime/3,{alpha:0,y:g+e+20,ease:Cubic.easeOut});if(this._icon){TweenMax.to(this._icon,this.tweenTime/3,{alpha:1,ease:Quad.easeOut})}};b.getWidth=function(){return this._itemWidth};b.getCurrentWidth=function(){return this._itemWidth};b.getCurrentHeight=function(){return this._itemHeight};b.setEnable=function(){};b.setState=function(d,c){if(c){this.show();this._isActive=true}else{this.hide();this._isActive=false}};b.show=function(){if(this._isShowing){return}this._isShowing=true;if(!this.parent){this.addToParent()}TweenMax.killTweensOf(this,false,{alpha:true});TweenMax.to(this,this.tweenTime,{alpha:1,ease:Quart.easeOut,onComplete:this._onShowComplete,onCompleteParams:[this]})};b._onShowComplete=function(c){};b.hide=function(){if(!this._isShowing){return}this._isShowing=false;TweenMax.killTweensOf(this,false,{alpha:true});TweenMax.to(this,this.tweenTime,{alpha:0,ease:Quart.easeOut,onComplete:this._onHideComplete,onCompleteParams:[this]})};b._onHideComplete=function(c){c.removeFromParent()};b.getGlobalBounds=function(){var c=this.localToGlobal(new pinetree.Point());return new pinetree.Rectangle(c.x,c.y,this._itemWidth,this._itemHeight)};b.animationIn=function(g,d,i,k){if(g==undefined){g=this.tweenTime}if(d==undefined){d=0}this.addToParent();var j=false;var e=this._itemHeight||this.height;var c=this.parent?this.getStageY()-pinetree.getScrollY():this.originY;if(c>=-e&&c<pt.stageHeight){j=true}if((g==0&&d==0)||!j){this._onInComplete(this,k);return}TweenMax.killTweensOf(this);if(!this.tweenAlphaByCSS(1,g/2,d,"linear",this._onInComplete,[this,k])){TweenMax.to(this,g,{alpha:1,delay:d,ease:i||this.transition,onComplete:this._onInComplete,onCompleteParams:[this,k]})}};b._onInComplete=function(c,d){if(!c.mouseEnabled){if(c.x!=c.originX){c.x=c.originX}c.mouseEnabled=true}c.alpha=1;d&&d()};b.animationOut=function(g,d,i,k){if(g==undefined){g=this.tweenTime}if(d==undefined){d=0}var j=false;var e=this._itemHeight||this.height;var c=this.parent?this.getStageY()-pinetree.getScrollY():this.originY;if(c>=-e&&c<pt.stageHeight){j=true}if((g==0&&d==0)||!j){this._onOutComplete(this,k);return}TweenMax.killTweensOf(this);this.mouseEnabled=false;if(!this.tweenAlphaByCSS(0,g/2,d,"linear",this._onOutComplete,[this,k])){TweenMax.to(this,g,{alpha:0,delay:d,ease:i||this.transition,onComplete:this._onOutComplete,onCompleteParams:[this,k]})}};b._onOutComplete=function(c,d){d&&d()};b.dispose=function(){if(this._thumbnail){this._thumbnail.dispose();this._thumbnail=null}if(this._icon){this._icon.removeFromParent(true);this._icon=null}if(this._zoomIcon){TweenMax.killTweensOf(this._zoomIcon);this._zoomIcon.removeFromParent(true);this._zoomIcon=null}if(this._previewTxt){TweenMax.killTweensOf(this._previewTxt);this._previewTxt=null}if(!pinetree.isDevice){this.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this)}else{this.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._onOut,this)}TweenMax.killTweensOf(this);pinetreecom.ListItemBase.prototype.dispose.call(this)};pinetreepages.PortfolioListDeviceRender=a}());(function(){var a=function(c){pinetreecom.UIComponent.call(this);this._data=null;this._items=null;this._defaultSelected=__defaultSet(c,0);this.gapX=20;this._contentWidth=0;this.ON_CHANGE=new pinetree.Signal();this.tweenTime=1;this.transition=Quart.easeOut;__defineGetterSetter(this,["contentWidth"])};var b=__extends(a,pinetreecom.UIComponent);b.setUpWith=function(h){if(!h){return}this._data=h;this._items=[];var e,c=this._data.length,g,d=0;for(e=0;e<c;e++){g=new pinetreepages.PortfolioMenuItem();g.index=e;g.ON_CLICK.add(this,this._onClickItem);this.addChild(g);g.setText(this._data[e]);g.x=g.originX=d;d+=g.width+this.gapX;this._items.push(g)}this._contentWidth=d-this.gapX;if(this._defaultSelected<c){this._items[this._defaultSelected].setSelected(true);this.ON_CHANGE.dispatch(this._defaultSelected)}};b._onClickItem=function(h,d){h.setSelected(true);var c=this._items.length,e=h.index;for(var g=0;g<c;g++){if(g!=e){h=this._items[g];h.setSelected(false)}}this.ON_CHANGE.dispatch(e)};b.show=function(j,e,k,l){j=__defaultSet(j,this.tweenTime);e=__defaultSet(e,0);k=__defaultSet(k,this.transition);if(!this._items){return}var c=this._items.length,h,d=0;for(var g=c-1;g>=0;g--){h=this._items[g];if(h){h.show(j,e*d,k,g,0,l);d++}}};b.hide=function(h,d,j,k){h=__defaultSet(h,this.tweenTime);d=__defaultSet(d,0);j=__defaultSet(j,this.transition);if(!this._items){return}var c=this._items.length,g;for(var e=0;e<c;e++){g=this._items[e];if(g){g.hide(h,d*e,j,e,c-1,k)}}};b.getContentWidth=function(){return this._contentWidth};b.dispose=function(){this.ON_CHANGE&&this.ON_CHANGE.removeAll();this.ON_CHANGE=null;if(this._items){var d,c=this._items.length,e;for(d=0;d<c;d++){e=this._items[d];e&&e.dispose()}this._items.splice(0,this._items.length);this._items=null}this._data=null;pinetreecom.UIComponent.prototype.dispose.call(this)};pinetreepages.PortfolioCategory=a}());(function(){var a=function(e,d,c,g){pinetree.Sprite.call(this);this._txtContainer=null;this._container=null;this._bg=null;this._information="";this._gapY=g==undefined?10:g;this._textWidth=100;this._textHeight=100;this._isShowing=false;this.tweenTime=1;this.transition=Quart.easeOut;this._bgColor=e||0;this._bgAlpha=d==undefined?1:d;this._defaultTextColor=c==undefined?16777215:c;this._init();__defineGetterSetter(this,["information","bg","isShowing"])};var b=__extends(a,pinetree.Sprite);b._init=function(){this._container=new pinetree.Sprite();this.addChild(this._container);this._txtContainer=new pinetreecom.TextContainer(this._textWidth,this._textHeight,this._bgColor,0,true,true,false);this._container.addChild(this._txtContainer);this._txtContainer.gapBetweenTitleAndInfo=25;this._txtContainer.titleTextColor=pt.onOverColor;this._txtContainer.infoTextColor=this._textColor;this._txtContainer.titleFontSize=30;this._txtContainer.infoFontSize=16;this._txtContainer.sliderOverColor=pt.onOverColor;this._txtContainer.sliderOutColor=pt.onOverColor;this._txtContainer.sliderBGAlpha=0.1;this._txtContainer.sliderWidth=10;this._txtContainer.padding=this._gapY;this._txtContainer.init();this.registerAutoDispose(this._txtContainer);this._bg=new pinetree.Quad();this._container.addChildAt(this._bg,0);this._bg.color=this._bgColor;this._bg.alpha=this._bgAlpha;this.registerAutoDispose(this._bg);this._clipRect=new pinetree.Rectangle(0,0,0,0);this.clip=this._clipRect};b.setInformation=function(c){this._information=c;this._txtContainer.reset();this._txtContainer.information=this._information};b.setSize=function(c,d){this._textWidth=c;this._textHeight=d;this._txtContainer.contentWidth=c;this._txtContainer.contentHeight=d;this._txtContainer.scrollerHeight=200;this.update()};b.update=function(){this._bg.width=this._textWidth;var c=this._txtContainer.getRealHeight()+this._gapY*2;if(c>this._textHeight){c=this._textHeight}this._bg.height=c;this._container.y=this._bg.height;this._clipRect.width=this._textWidth;this._clipRect.height=this._bg.height;this.clip=this._clipRect};b.show=function(c){if(c==undefined){c=this.tweenTime}this._isShowing=true;this.update();TweenMax.to(this._container,c/2,{y:0,ease:this.transition})};b.hide=function(c){if(!this._isShowing){return}if(c==undefined){c=this.tweenTime}this._isShowing=false;TweenMax.to(this._container,c/2,{y:this._bg.height,ease:this.transition})};b.getIsShowing=function(){return this._isShowing};b.getBg=function(){return this._bg};b.getBgHeight=function(){if(this._bg){return this._bg.height}return 0};b.dispose=function(){TweenMax.killTweensOf(this._container);pinetree.Sprite.prototype.dispose.call(this)};pinetreepages.PortfolioInfoContainer=a}());(function(){var a=function(c){pinetree.Sprite.call(this);this._thumbnail=null;this.EDGE_CONST_SMALL=0;this.EDGE_CONST_NORMAL=90*2;this._imageEdge=pinetree.isSmallMode?this.EDGE_CONST_SMALL:this.EDGE_CONST_NORMAL;this._bottomHeight=c||0;this._currentWidth=0;this._currentHeight=0;this._isLoading=false;this._infoContainer=null;this.tweenTime=1;this.transition=Cubic.easeOut;this.ON_LOAD_COMPLETE=new pinetree.Signal();this.registerAutoDispose(this.ON_LOAD_COMPLETE);__defineGetterSetter(this,["information","thumbnail"])};var b=__extends(a,pinetree.Sprite);b.addedToStage=function(){if(!this.isInitialized){this._thumbnail=new pinetreecom.Thumbnail(0,0,0,0,false,null,false);this._thumbnail.ON_LOAD_COMPLETE.add(this,this._onLoadComplete);this.addChild(this._thumbnail);this.registerAutoDispose(this._thumbnail);this.addEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.addEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this);if(!pinetree.isDevice){this._infoContainer=new pinetreepages.PortfolioInfoContainer(pt.bgColor,0.95,pt.textColor,30);this.addChild(this._infoContainer);this.registerAutoDispose(this._infoContainer)}}pinetree.Sprite.prototype.addedToStage.call(this)};b.setInformation=function(c){if(this._infoContainer){this._infoContainer.information=c}};b._onOver=function(c){if(!pinetree.isSmallMode){this._infoContainer.show()}};b._onOut=function(c){if(!pinetree.isSmallMode){this._infoContainer.hide()}};b._onLoadComplete=function(c){this._isLoading=false;this.ON_LOAD_COMPLETE.dispatch()};b.reset=function(){if(this._thumbnail){this._isLoading=false;this._thumbnail.reset()}};b.load=function(c){if(this._thumbnail){this._isLoading=true;this._thumbnail.load(c)}};b.getThumbnail=function(){return this._thumbnail};b.getImageX=function(){if(this._thumbnail){return this._thumbnail.x}return 0};b.getImageY=function(){if(this._thumbnail){return this._thumbnail.y}return 0};b.update=function(c,d){this._imageEdge=pinetree.isSmallMode?this.EDGE_CONST_SMALL:this.EDGE_CONST_NORMAL;this._thumbnail.setMaxSize(c-this._imageEdge,d-pt.TOP_HEIGHT-this._bottomHeight-this._imageEdge);TweenMax.killTweensOf(this._thumbnail,false,{x:true,y:true});this._thumbnail.x=(c-this._thumbnail.imageWidth)>>1;this._thumbnail.y=(d+pt.TOP_HEIGHT-this._bottomHeight-this._thumbnail.imageHeight)>>1;this._currentWidth=this._thumbnail.imageWidth;this._currentHeight=this._thumbnail.imageHeight;if(this._infoContainer){this._infoContainer.setSize(this._currentWidth,this._currentHeight);this._infoContainer.x=this._thumbnail.x;this._infoContainer.y=this._thumbnail.y+this._currentHeight-this._infoContainer.getBgHeight()}};b.getGlobalBounds=function(){var c=this.localToGlobal(new pinetree.Point());return new pinetree.Rectangle(c.x,c.y,this._currentWidth,this._currentHeight)};b.dispose=function(){this.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this);pinetree.Sprite.prototype.dispose.call(this)};pinetreepages.PortfolioImageLoader=a}());(function(){var b=function(h,g,d,e,c){pinetreecom.UIComponent.call(this);this._padding=h||0;this._fontSize=__defaultSet(g,16);this._textColor=__defaultSet(d,pt.textColor);this._titleTxt=null;this._infoTxt=null;this._title="";this._info="";this.backgroundColor=__defaultSet(e,pt.bgColor);this.backgroundAlpha=__defaultSet(c,pt.bgAlpha);this.alpha=0;this.visible=false;this.addEventListener(pinetree.MouseEvent.CLICK,this._onClick,this)};var a=__extends(b,pinetreecom.UIComponent);a.addedToStage=function(){if(!this.isInitialized){this._titleTxt=new pinetree.TextField();this._titleTxt.className+=" portfolio_device_info_title";this.addChild(this._titleTxt);this._infoTxt=new pinetree.TextField();this._infoTxt.className+=" portfolio_device_info_content";this.addChild(this._infoTxt)}pinetreecom.UIComponent.prototype.addedToStage.call(this)};a._onClick=function(c){this.hide()};a.setTexts=function(d,c){this._title=d;this._info=c};a.show=function(c){pinetree.stage.addChild(this);pt.navPage.view.showMenuAndLogo(false);this.visible=true;TweenMax.to(this,c||0,{alpha:1,ease:Quad.easeOut});this.redraw()};a.hide=function(c){TweenMax.to(this,c||0,{alpha:0,ease:Quad.easeOut,onComplete:this._onHideComplete,onCompleteParams:[this]})};a._onHideComplete=function(c){c.visible=false;c.removeFromParent();pt.navPage.view.showMenuAndLogo(true)};a.resize=function(c,d){if(this.visible){this._titleTxt.width=c-this._padding*2;this._titleTxt.height=1;this._titleTxt.htmlText=this._title;this._infoTxt.width=c-this._padding*2;this._infoTxt.height=1;this._infoTxt.htmlText=this._info;var i=20;var e=this._titleTxt.height+i+this._infoTxt.height;var g=e<d-this._padding*2?((d-this._padding*2-e)>>1):this._padding;this._titleTxt.x=this._padding;this._infoTxt.x=this._padding;this._titleTxt.y=g;this._infoTxt.y=g+this._titleTxt.height+i;this.width=c;e=e<d-this._padding*2?d:e+this._padding*2;this.height=e}};a.dispose=function(){this.removeEventListener(pinetree.MouseEvent.CLICK,this._onClick,this);pinetreecom.UIComponent.prototype.dispose.call(this)};pinetreepages.DevicePortfolioTextContainer=b}());(function(){var b=function(){pinetreemvc.ViewComponentBase.call(this);this.data=null;this.linkId="";this.linkParams=null;this.ON_CHANGE=new pinetree.Signal();this.ON_LOAD_COMPLETE=new pinetree.Signal()};var a=__extends(b,pinetreemvc.ViewComponentBase);a.initData=function(c){this.data=c||[]};a.change=function(c){};a.changeLinkParams=function(c,d){this.linkId=c;this.linkParams=d};a.dispose=function(){this.ON_CHANGE&&this.ON_CHANGE.removeAll();this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.removeAll();this.ON_CHANGE=null;this.ON_LOAD_COMPLETE=null;this.data=null;this.linkId="";this.linkParams=null;pinetreemvc.ViewComponentBase.prototype.dispose.call(this)};pinetreepages.PortfolioBase=b})();(function(){var a=function(){pinetreepages.PortfolioBase.call(this);this._originParent=null;this._screenMask=null;this._textWidth=0;this._bottomHeight=0;this._prevBtnWidth=0;this._nextBtnWidth=0;this._closeBtnWidth=0;this._prevBtnHeight=0;this._nextBtnHeight=0;this._closeBtnHeight=0;this._isInited=false;this._isClose=false;this._currentIndex=0;this._needInfoBtn=true;this._useKeyControl=true;this._dataCount=0;this._currentVo=null;this._currentNodeIndex=0;this._imageLoader=null;this._mediaPlayer=null;this._loading=null;this._pnBtns=null;this._closeBtn=null;this._closeButtonOffsetY=0;this._isToPrevDirection=false;this._deviceInfoTxt=null;this._titleTxt=null;this._deviceInfoTxt=null;this._tweenOffsetX=20;this._isShowingInfo=false;this.positionRef="fixed";if(pt.isAlphaMode){this.alpha=pt.ALPHA_MODE_VALUE}__defineGetterSetter(this,["isInited"])};var b=__extends(a,pinetreepages.PortfolioBase);b.addedToStage=function(){if(!this.isInitialized){this._originParent=this.parent;var d=pt.getCommonTexture(pinetreepages.EnumTextures.PREV_ICON);var g=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,pt.onOverColor,pt.onOutColor,1,0.5);g.setTextures(d);var h=pt.getCommonTexture(pinetreepages.EnumTextures.NEXT_ICON);var c=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,pt.onOverColor,pt.onOutColor,1,0.5);c.setTextures(h);this._pnBtns=new pinetreecom.TexturePNButtons(g,c,false,0,0);this._pnBtns.useKeyArrow=this._useKeyControl;this._pnBtns.onOverColor=pt.onOverColor;this._pnBtns.onOutColor=pt.onOutColor;this._pnBtns.hide(0);this._pnBtns.ON_CHANGE.add(this,this._onClickPNButton);var e=pt.getCommonTexture(pinetreepages.EnumTextures.BTN_CLOSE_ICON);this._closeBtn=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,pt.onOverColor,pt.onOutColor,1,0.5);this._closeBtn.className+=" portfolio_img_close_btn";this._closeBtn.setTextures(e);this._closeBtn.addEventListener(pinetree.MouseEvent.CLICK,this._onClose,this);this.addChild(this._closeBtn);this._prevBtnWidth=d.sourceWidth;this._nextBtnWidth=h.sourceWidth;this._closeBtnWidth=e.sourceWidth;this._prevBtnHeight=d.sourceHeight;this._nextBtnHeight=h.sourceHeight;this._closeBtnHeight=e.sourceHeight;this._titleTxt=new pinetree.TextField();this._titleTxt.selectable=false;this.addChild(this._titleTxt);this._titleTxt.className+=" portfolio_image_title";if(this._useKeyControl){pinetreecom.KeyboardUtil.listen(this,[pinetree.Keyboards.ESCAPE],this._onKeyUp)}}pinetreepages.PortfolioBase.prototype.addedToStage.call(this)};b.initData=function(c){pinetreepages.PortfolioBase.prototype.initData.call(this,c);this._currentIndex=0;this._dataCount=this.data.length;this._needInfoBtn=this.facade.$.setting.needInfoButton;this._closeButtonOffsetY=this.facade.$.setting.closeButtonOffsetY;this._initUI();this.visible=false};b._initUI=function(){this._imageLoader=new pinetreepages.PortfolioImageLoader(this._bottomHeight,this._isZoomIn);this._imageLoader.ON_LOAD_COMPLETE.add(this,this._onLoadImgComplete);this.addChild(this._imageLoader);this._loading=new pinetreecom.CommonLoading("big");this.addChild(this._loading);this.registerAutoDispose(this._loading);this._screenMask=new pinetree.Quad();this.addChildAt(this._screenMask,0);this._screenMask.color=pt.bgColor;this._screenMask.alpha=0.95;this._deviceInfoTxt=new pinetreepages.DevicePortfolioTextContainer(20,16,pt.textColor,pt.bgColor,0.95);this.registerAutoDispose(this._deviceInfoTxt)};b.load=function(d){var c=this.data[d];this._currentVo=c;this._currentIndex=d;if(!this._isInited){this.transitionIn(Delegate.create(this,this.load,d));return}if(c.isImage){this.loadImage(c)}else{this.loadVideo(c)}if(this._deviceInfoTxt.visible){this._deviceInfoTxt.setTexts(this._currentVo.title,this._currentVo.description);this._deviceInfoTxt.redraw()}};b.changeLinkParams=function(e,g){pinetreepages.PortfolioBase.prototype.changeLinkParams.call(this,e,g);if(!this._isInited){return}if(g&&pinetreecom.ArrayUtil.isArray(g)&&g.length>0){var d=parseInt(g[0]);if(isNaN(d)){this._onClose()}else{if(this._currentIndex!=d-1&&d>0&&d<=this._dataCount){this._currentIndex=d-1;var c=this._isToPrevDirection?-this._tweenOffsetX:this._tweenOffsetX;if(this._currentVo.isImage){if(!this._imageLoader.tweenAlphaByCSS(0,this.tweenTime*0.5,0,"linear",Delegate.create(this,this._onHideImageComplete))){TweenMax.to(this._imageLoader,this.tweenTime*0.5,{alpha:0,ease:Linear.easeNone,onComplete:Delegate.create(this,this._onHideImageComplete)})}TweenMax.to(this._imageLoader,this.tweenTime*0.5,{x:this._imageLoader.x-c,ease:Cubic.easeOut})}else{this._mediaPlayer.tweenOut(this.tweenTime*0.8,0,Linear.easeNone,Delegate.create(this,this._onHideVideoComplete));TweenMax.to(this._mediaPlayer,this.tweenTime*0.5,{x:((pt.stageWidth-this._currentVo.videoWidth)>>1)-c,ease:Cubic.easeOut})}TweenMax.to(this._titleTxt,this.tweenTime/2,{x:this._titleTxt.x-c,alpha:0,Cubic:Quad.easeOut})}}}else{this._onClose()}};b._dragPrev=function(c){if(this._currentIndex<=0){pt.dragPrevNext.back()}else{this._isToPrevDirection=true;pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex])}};b._dragNext=function(c){if(this._currentIndex>=this._dataCount-1){pt.dragPrevNext.back()}else{this._isToPrevDirection=false;pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex+2])}};b.loadImage=function(c){this._imageLoader.reset();this._imageLoader.alpha=0;this._imageLoader.load(c.imageurls[this._currentNodeIndex]);pt.dragPrevNext.listen(this._imageLoader,this,this._dragPrev,this._dragNext,null,"x",false,0,0);this._loading&&this._loading.show();this._imageLoader.information=c.description};b.loadVideo=function(c){if(this._mediaPlayer){this._mediaPlayer.dispose();this._mediaPlayer.removeFromParent();this._mediaPlayer=null}this._mediaPlayer=new pinetreecom.MediaPlayer();this.addChild(this._mediaPlayer);this._mediaPlayer.alpha=0;this._mediaPlayer.autoplay=true;this._mediaPlayer.loop=false;this._mediaPlayer.isShowControls=true;this._mediaPlayer.playEndHandler=Delegate.create(this,this._onMediaPlayEnd);this._mediaPlayer.load(c.videourl,c.videoType,c.videoWidth,c.videoHeight);this._resizeUI();this._beginNext()};b._onMediaPlayEnd=function(){};b._onLoadImgComplete=function(){if(this._loading){this._loading.hide();this._loading.visible=false}this._resizeUI();this._beginNext()};b._onShowComplete=function(){};b._onTweenBgUpdate=function(c){};b._beginNext=function(){if(this._isClose){return}var c=this._isToPrevDirection?-this._tweenOffsetX:this._tweenOffsetX;if(this._currentVo.isImage){this._imageLoader.x=c;if(!this._imageLoader.tweenAlphaByCSS(1,this.tweenTime*0.5,0)){TweenMax.to(this._imageLoader,this.tweenTime*0.5,{alpha:1,ease:Linear.easeNone})}TweenMax.to(this._imageLoader,this.tweenTime*0.5,{x:0,ease:Cubic.easeOut});this._titleTxt.htmlText=this._currentVo.title;this._titleTxt.x=this._imageLoader.getImageX()+c;this._titleTxt.y=this._imageLoader.getImageY()-this._titleTxt.height-10;TweenMax.to(this._titleTxt,this.tweenTime/2,{x:this._imageLoader.getImageX(),alpha:1,ease:Cubic.easeOut})}else{this._mediaPlayer.tweenIn(this.tweenTime*0.5,0,Linear.easeNone);this._mediaPlayer.x=((pt.stageWidth-this._currentVo.videoWidth)>>1)+c;TweenMax.to(this._mediaPlayer,this.tweenTime*0.5,{x:(pt.stageWidth-this._currentVo.videoWidth)>>1,ease:Cubic.easeOut});this._titleTxt.htmlText=this._currentVo.title;this._titleTxt.x=this._mediaPlayer.x;this._titleTxt.y=this._mediaPlayer.y-this._titleTxt.height-10;TweenMax.to(this._titleTxt,this.tweenTime/2,{x:this._mediaPlayer.x-c,alpha:1,ease:Cubic.easeOut})}pinetreecom.DelayCaller.delayCall(this,this._onShowComplete,this.tweenTime*0.5,null,true)};b._onHideImageComplete=function(){this.load(this._currentIndex)};b._onHideVideoComplete=function(){this._mediaPlayer.removeFromParent(true);this._mediaPlayer=null;this.load(this._currentIndex)};b.onControlPNChange=function(c){if(!this._isInited){return}this._onClickPNButton(c)};b.onControlClose=function(c){if(!this._isInited){return}this._onClose(null)};b.onControlInfo=function(c){this._deviceInfoTxt.setTexts(this._currentVo.title,this._currentVo.description);this._deviceInfoTxt.show()};b._onClickPNButton=function(c){if(!this._isInited){return}if(c.type==pinetreecom.SimplePNButtonsManager.PREV_TYPE){this._isToPrevDirection=true;pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex])}else{this._isToPrevDirection=false;pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex+2])}this._pnBtns.showPNButtons(this._currentIndex>0,this._currentIndex<this._dataCount-1)};b._onKeyUp=function(c){switch(c){case pinetree.Keyboards.ESCAPE:this._onClose(null);break}};b._onClose=function(c){if(!this._isInited){return}this.mouseChildren=this.mouseEnabled=false;this._pnBtns.useMouseWheel=false;this._isClose=true;this.transitionOut(Delegate.create(this,this._closeComplete));pinetreesite.siteController.changeDeeplinking(this.linkId);this._isInited=false};b._closeComplete=function(){this.visible=false;this.facade.$.listUI.backToOriginParent();if(this._pnBtns){this._pnBtns.removeFromParent()}if(this._imageLoader){this._imageLoader.alpha=0;this._imageLoader.reset()}if(this._mediaPlayer){this._mediaPlayer.removeFromParent(true);this._mediaPlayer=null}};b.getIsInited=function(){return this._isInited};b.resize=function(c,d){if(!this._isInited||!this._currentVo){return}this._resizeUI()};b._resizeUI=function(){var c=pt.stageWidth;var d=pt.stageHeight;if(this._screenMask){this._screenMask.width=c;if(pinetree.isDevice){this._screenMask.height=d-pt.TOP_HEIGHT;this._screenMask.y=pt.TOP_HEIGHT}else{this._screenMask.height=d;this._screenMask.y=0}}if(this._currentVo.isImage){if(this._imageLoader){TweenMax.killTweensOf(this._imageLoader,false,{x:true,y:true});this._imageLoader.x=0;this._imageLoader.y=0;this._imageLoader.update(c,d);this._titleTxt.visible=!pinetree.isSmallMode;this._titleTxt.x=this._imageLoader.getImageX();this._titleTxt.y=this._imageLoader.getImageY()-this._titleTxt.height-10}}else{if(this._mediaPlayer){TweenMax.killTweensOf(this._mediaPlayer,false,{x:true,y:true});this._mediaPlayer.x=(c-this._currentVo.videoWidth)>>1;if(pinetree.isDevice){this._mediaPlayer.y=(d+pt.TOP_HEIGHT-this._bottomHeight-this._currentVo.videoHeight)>>1}else{this._mediaPlayer.y=(d-this._bottomHeight-this._currentVo.videoHeight)>>1}this._titleTxt.x=this._mediaPlayer.x;this._titleTxt.y=this._mediaPlayer.y-this._titleTxt.height-10}}if(this._loading){if(pinetree.isDevice){this._loading.x=c>>1;if(pinetree.isDevice){this._loading.y=(d+pt.TOP_HEIGHT)>>1}else{this._loading.y=d>>1}}else{this._loading.x=c>>1;this._loading.y=d>>1}}if(pinetree.isSmallMode){this._pnBtns.visible=false;this._closeBtn.visible=false;if(this._isInited){pt.controlBtns.infoVisible=true;pt.controlBtns.closeVisible=true;pt.controlBtns.show(0);pt.controlBtns.showPNButtons(this._currentIndex>0,this._currentIndex<this._dataCount-1);pt.refreshControlBtns()}}else{pt.controlBtns.hide(0);if(this._pnBtns.parent){this._pnBtns.visible=true;this._closeBtn.visible=true;if(!this._pnBtns.isShowing){this._pnBtns.show()}if(!this._closeBtn.isShowing){this._closeBtn.show()}var e=30;this._pnBtns.prevBtn.x=e;this._pnBtns.nextBtn.x=c-e-this._nextBtnWidth;this._pnBtns.x=0;this._pnBtns.y=(d-this._prevBtnHeight)>>1;this._closeBtn.x=c-this._closeBtnWidth-30;this._closeBtn.y=30+this._closeButtonOffsetY;this._pnBtns.showPNButtons(this._currentIndex>0,this._currentIndex<this._dataCount-1)}}this.width=c};b.transitionIn=function(c){this._isInited=true;this.visible=true;this._isClose=false;this.redraw();pinetreesite.siteController.bringToTop(this);this._screenMask.width=0.1;if(pinetree.isDevice){this._screenMask.height=pt.stageHeight-pt.TOP_HEIGHT}else{this._screenMask.height=pt.stageHeight}TweenMax.to(this._screenMask,this.tweenTime,{width:pt.stageWidth,delay:0.1,onComplete:Delegate.create(this,this._transitionInComplete,c),ease:Circ.easeInOut})};b._transitionInComplete=function(c){if(pinetree.isDevice){this.facade.$.listUI.removeFromParent();this.redraw()}this.addChild(this._pnBtns);if(!pinetree.isSmallMode){this._pnBtns.show();this._closeBtn.show()}pt.controlBtns.listen(this);this.mouseEnabled=this.mouseChildren=true;this._pnBtns.useMouseWheel=!pinetree.isDevice;this.redraw();c&&c()};b.predisposeOut=function(c){this.transitionOut(Delegate.create(this,this._predisposeOutComplete,c))};b._predisposeOutComplete=function(c){c&&c();this.dispose()};b.transitionOut=function(d){this.mouseChildren=this.mouseEnabled=false;this._loading&&this._loading.hide();pt.controlBtns.cancel(this);pt.controlBtns.hide(0);if(this._deviceInfoTxt&&this._deviceInfoTxt.visible){this._deviceInfoTxt.hide(0)}this._pnBtns.hide(this.tweenTime*0.5);this._closeBtn.hide(this.tweenTime*0.5);this._pnBtns.useMouseWheel=false;var c=this.tweenTime;if(this._currentVo.isImage){TweenMax.to(this._imageLoader,c,{x:-50,ease:Cubic.easeInOut});if(!this._imageLoader.tweenAlphaByCSS(0,c,0,"ease-out")){TweenMax.to(this._imageLoader,c,{alpha:0,ease:Quad.easeOut})}this._imageLoader.mouseMovable=false}else{if(this._mediaPlayer){this._mediaPlayer.tweenOut(c,0,Quad.easeOut);TweenMax.to(this._mediaPlayer,c,{x:this._mediaPlayer.x-50,ease:Cubic.easeInOut})}}TweenMax.to(this._titleTxt,c,{x:this._titleTxt.x-50,alpha:0,ease:Cubic.easeInOut});TweenMax.to(this._screenMask,c,{width:0,delay:c*0.5,onComplete:d,ease:Circ.easeInOut})};b.predispose=function(){if(this._isInited){return}this.dispose()};b.dispose=function(){this._isInited=false;pt.controlBtns.cancel(this);pinetreecom.KeyboardUtil.cancelByOwner(this);this._currentVo=null;if(this._screenMask){TweenMax.killTweensOf(this._screenMask);this._screenMask.removeFromParent(true);this._screenMask=null}if(this._imageLoader){TweenMax.killTweensOf(this._imageLoader.imageContainer);this._imageLoader.dispose();this._imageLoader=null}if(this._mediaPlayer){this._mediaPlayer.removeFromParent(true);this._mediaPlayer=null}this._pnBtns&&this._pnBtns.removeFromParent(true);this._pnBtns=null;if(this._closeBtn){this._closeBtn.removeEventListener(pinetree.MouseEvent.CLICK,this._onClose,this);this._closeBtn.removeFromParent(true);this._closeBtn=null}pt.dragPrevNext.remove();pinetreecom.DelayCaller.removeByOwner(this);this.removeFromParent();this._originParent=null;this.facade.$.imagesUI=null;pinetreepages.PortfolioBase.prototype.dispose.call(this)};pinetreepages.PortfolioImages=a})();(function(){var b=function(){pinetreepages.PortfolioBase.call(this);this._currentIndex=0;this._dataCount=0;this._gap=20;this._isTweening=false;this.EDGE_CONST_SMALL=30*2;this.EDGE_CONST_NORMAL=100*2;this._itemEdge=pinetree.isSmallMode?this.EDGE_CONST_SMALL:this.EDGE_CONST_NORMAL;this._itemWidth=0;this._itemHeight=0;this._prevBtnWidth=0;this._nextBtnWidth=0;this._prevBtnHeight=0;this._nextBtnHeight=0;this._useKeyControl=true;this._row=1;this._currentColumn=0;this._currentListContentWidth=0;this._pageIndex=0;this._pageTotal=0;this._originParent=null;this._listContainer=null;this._buttonList=null;this._pnBtns=null;this._isInited=false;this._isOpenImage=false;this.visible=false;__defineGetterSetter(this,["enabled"])};var a=__extends(b,pinetreepages.PortfolioBase);a.addedToStage=function(){if(!this.isInitialized){this._originParent=this.parent}pinetreepages.PortfolioBase.prototype.addedToStage.call(this)};a.initData=function(c){pinetreepages.PortfolioBase.prototype.initData.call(this,c);this._currentIndex=0;this._dataCount=c.length;this._itemWidth=this.facade.$.setting.thumbWidth;this._itemHeight=this.facade.$.setting.thumbHeight;this._gap=this.facade.$.setting.gap;this._row=this.facade.$.setting.row;this._offsetY=this.facade.$.setting.itemOffsetY;this._pageIndex=0;this._pageTotal=0;this._initUI();pinetreecom.DelayCaller.delayCall(this,this.transitionIn,0.1)};a._initUI=function(){this._listContainer=new pinetreecom.ListContainer();this.addChild(this._listContainer);this._listContainer.animateTime=this.tweenTime;this._listContainer.animateDelay=0.1*this.tweenTime;this._listContainer.ON_TWEEN_IN_COMPLETE.add(this,this.tweenInComplete);this._listContainer.ON_TWEEN_OUT_COMPLETE.add(this,this.tweenOutComplete);this._listContainer.ON_OVER.add(this,this.onOverItem);this._listContainer.ON_OUT.add(this,this.onOutItem);this._listContainer.ON_CLICK.add(this,this.onClickThumbnail);this._listContainer.ON_NEED_RESIZE.add(this,this.redraw);this._listContainer.onlyFullShown=true;this._listContainer.useRealPosition=false;this._listContainer.useRealStagePos=false;this._listContainer.showAllWhileDevice=false;this._listContainer.useIntPosition=true;this._listContainer.reset();this._listContainer.setUpWith(pinetreepages.PortfolioListRender,this._itemWidth,this._itemHeight,this._gap,this._gap,pinetreecom.AlignUtil.ALIGN_HORIZONTAL,this._row,this.data,pt.stageWidth,pt.stageHeight);this._buttonList=new pinetreecom.ButtonList(pinetreecom.MiniCircle,this.data.length);this.addChild(this._buttonList);this._buttonList.ON_CLICK.add(this,this.onClickButton);this._buttonList.onOverColor=pt.onOverColor;this._buttonList.onOutColor=pt.onOutColor;this._buttonList.onOverAlpha=1;this._buttonList.onOutAlpha=0.2;this._buttonList.gap=pinetree.isDevice?10:10;this._buttonList.itemSize=pinetree.isDevice?5*2:5*2;this._buttonList.alignType=pinetreecom.ButtonList.ALIGN_HORIZONTAL;this._buttonList.init();this._buttonList.visible=this._pageTotal>1;this._buttonList.setSelectBtn(0);var d=pt.getCommonTexture(pinetreepages.EnumTextures.PREV_ICON);var e=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,pt.onOverColor,pt.onOutColor,1,0.5);e.setTextures(d);var g=pt.getCommonTexture(pinetreepages.EnumTextures.NEXT_ICON);var c=new pinetreecom.TextureButton(pt.onOverColor,pt.onOutColor,pt.onOverColor,pt.onOutColor,1,0.5);c.setTextures(g);this._pnBtns=new pinetreecom.TexturePNButtons(e,c,false);this._pnBtns.onOverColor=pt.onOverColor;this._pnBtns.onOutColor=pt.onOutColor;this._pnBtns.hide(0);this._pnBtns.ON_CHANGE.add(this,this._onClickPNButton);this._prevBtnWidth=d.sourceWidth;this._nextBtnWidth=g.sourceWidth;this._prevBtnHeight=d.sourceHeight;this._nextBtnHeight=g.sourceHeight;if(pinetree.isSmallMode){pinetree.staticStage.addChild(this._pnBtns)}else{this.addChild(this._pnBtns)}this.enabled=false};a.onClickButton=function(c){if(c.index==this._pageIndex){return}this._pageIndex=c.index;this._tweenListPosition();this._pnBtns.showPNButtons(this._pageIndex>0,this._pageIndex<this._pageTotal-1)};a._tweenListPosition=function(){var c=this._pageIndex*-1*(this._currentListContentWidth+this._gap);this._listContainer.updateCurrentPos(c);TweenMax.to(this._listContainer.itemContainer,this.tweenTime,{x:c,ease:Quart.easeOut});this._listContainer.mouseChildren=false;pinetreecom.DelayCaller.delayCall(this,this.setEnabled,this.tweenTime*0.8,[true],true);this.redraw()};a.setEnabled=function(c){this.mouseChildren=this.mouseEnabled=c;this._pnBtns.useMouseWheel=c&&!pinetree.isSmallMode;this._pnBtns.useKeyArrow=c&&!pinetree.isSmallMode;this._listContainer.mouseChildren=true};a.tweenInComplete=function(){};a.tweenOutComplete=function(){};a.onOverItem=function(c){};a.onOutItem=function(c){};a.onControlPNChange=function(c){if(!this._isInited){return}this._onClickPNButton(c)};a._onClickPNButton=function(c){if(c.type==pinetreecom.SimplePNButtonsManager.PREV_TYPE){this._pageIndex--}else{this._pageIndex++}if(this._pageIndex>=0&&this._pageIndex<this._pageTotal){this._tweenListPosition();this._buttonList.setSelectBtn(this._pageIndex)}};a.onClickThumbnail=function(d){this._currentIndex=d;var c=this.data[this._currentIndex];var g=c.imageurls[0];if(g&&g.indexOf("is_page")>-1){var e=g.substring("is_page:".length);pinetreecom.LinkManager.to(e);return}this.enabled=false;this._onGoToImages()};a._onGoToImages=function(){if(pinetree.isDevice){this.removeFromParent()}pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex+1])};a.changeLinkParams=function(d,e){pinetreepages.NewsBase.prototype.changeLinkParams.call(this,d,e);if(e&&pinetreecom.ArrayUtil.isArray(e)&&e.length>0){var c=parseInt(e[0]);if(!isNaN(c)&&this.facade.$.imagesUI&&!this.facade.$.imagesUI.isInited){if(c>0&&c<=this._dataCount){this.enabled=false;this.ON_CHANGE.dispatch(c-1);this._isOpenImage=true;this._pnBtns.useMouseWheel=false;pt.controlBtns.cancel(this)}}}};a.backToOriginParent=function(){if(pinetree.isDevice){this._originParent.addChild(this)}this.enabled=true;this._isOpenImage=false;this.redraw();pt.controlBtns.listen(this)};a.resize=function(l,h){if(!this._isInited){return}this._itemEdge=pinetree.isSmallMode?this.EDGE_CONST_SMALL:this.EDGE_CONST_NORMAL;var k=l-this._itemEdge;if(k<this._itemWidth){k=this._itemWidth+this._itemEdge}this._listContainer.resize(k,h);var g=Math.floor((l-this._itemEdge+this._gap)/(this._itemWidth+this._gap));if(g<1){g=1}if(this._currentColumn!=g){this._currentColumn=g;this._currentListContentWidth=(this._itemWidth+this._gap)*g-this._gap;var d=this._pageIndex*this._pageTotal;if(d>this._dataCount-1){d=this._dataCount-1}var e=Math.floor(d/g);this._pageTotal=Math.ceil(Math.ceil(this._dataCount/this._row)/g);this._buttonList.count=this._pageTotal;this._buttonList.visible=this._pageTotal>1;if(e!=this._pageIndex){this._pageIndex=e;this._buttonList.setSelectBtn(this._pageIndex);this._tweenListPosition()}}this._listContainer.x=(l-this._currentListContentWidth)>>1;this._listContainer.y=((h-this._listContainer.contentHeight)>>1)+this._offsetY;if(this._buttonList.visible){this._buttonList.x=(l-this._buttonList.contentWidth+this._buttonList.buttonSize)>>1;var i=h-this._buttonList.contentHeight-pt.FOOTER_HEIGHT+Math.floor(this._buttonList.buttonSize/2)-20;var j=this._listContainer.y+this._listContainer.contentHeight+100-this._offsetY;if(j>i){j=i}this._buttonList.y=j}if(pinetree.isSmallMode){this._pnBtns.visible=false;this._pnBtns.useMouseWheel=false;if(this.facade.$.imagesUI&&this.facade.$.imagesUI.isInited){return}pt.controlBtns.infoVisible=false;pt.controlBtns.closeVisible=false;pt.controlBtns.show(0);pt.controlBtns.showPNButtons(this._pageIndex>0,this._pageIndex<this._pageTotal-1);pt.refreshControlBtns()}else{pt.controlBtns.hide(0);this._pnBtns.visible=true;this._pnBtns.useMouseWheel=!this._isOpenImage;if(!this._pnBtns.isShowing){this._pnBtns.show()}if(this._pnBtns.parent!=this){this.addChild(this._pnBtns)}var c=30;this._pnBtns.prevBtn.x=c;this._pnBtns.nextBtn.x=l-c-this._nextBtnWidth;this._pnBtns.x=0;this._pnBtns.y=(h-this._prevBtnHeight)>>1;this._pnBtns.showPNButtons(this._pageIndex>0,this._pageIndex<this._pageTotal-1)}};a.animateIn=function(){this._isTweening=true;this._isInited=true;this.visible=true;this.redraw();this._pnBtns.show();this._listContainer.animateDelay=0.1*this.tweenTime;pinetreecom.DelayCaller.delayAfterFrames(this._listContainer,this._listContainer.animationIn,10,[pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM,this.tweenTime,Cubic.easeOut]);pinetreecom.DelayCaller.delayCall(this,this._onAnimateInComplete,this.tweenTime,null,true)};a._onAnimateInComplete=function(){this._isTweening=false;this.redraw();this.enabled=true;pt.controlBtns.listen(this);if(this._buttonList){this._buttonList.show()}};a.animateOut=function(c){this._isInited=false;this.enabled=false;this._pnBtns.hide(this.tweenTime*0.5);pt.controlBtns.cancel(this);if(this._buttonList){this._buttonList.hide()}this._listContainer.animateDelay=0.05*this.tweenTime;this._listContainer.animationOut(pinetreecom.ListBase.ANI_DIRECTION_BOTTOM2TOP,this.tweenTime*1.2,Cubic.easeInOut,c)};a.transitionIn=function(){this._isTweening=true;this._isInited=true;this.visible=true;this.redraw();this._listContainer.y=-this._listContainer.contentHeight;this._listContainer.animateDelay=0;this._listContainer.animationIn(pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM,0,Cubic.easeOut);this._listContainer.resize(pt.stageWidth-this._itemEdge,pt.stageHeight);var c=((pt.stageHeight-this._listContainer.contentHeight)>>1)+this._offsetY;TweenMax.to(this._listContainer,this.tweenTime*1.2,{y:c,ease:Quart.easeOut,onComplete:Delegate.create(this,this._onAniComplete)})};a._onAniComplete=function(){this._isTweening=false;this.redraw();this.enabled=true;pt.controlBtns.listen(this);this._pnBtns.show();if(this._buttonList){this._buttonList.show()}if(this.linkParams){this.changeLinkParams(this.linkId,this.linkParams)}};a.transitionOut=function(c){this._isInited=false;this.enabled=false;this._pnBtns.hide(this.tweenTime*0.5);pt.controlBtns.cancel(this);if(this._buttonList){this._buttonList.hide()}pt.controlBtns.hide();TweenMax.to(this._listContainer,this.tweenTime,{y:pt.stageHeight+50,ease:Quart.easeIn,onComplete:c})};a.predispose=function(){this.enabled=false;if(this.facade.$.imagesUI&&this.facade.$.imagesUI.isInited){this.facade.$.imagesUI.predisposeOut(Delegate.create(this,this.transitionOut,Delegate.create(this,this.dispose)))}else{if(this._isInited){this.transitionOut(Delegate.create(this,this.dispose))}else{this.dispose()}}};a.dispose=function(){pinetreecom.DelayCaller.removeByOwner(this);pt.controlBtns.cancel(this);pt.controlBtns.hide(0);this._buttonList&&this._buttonList.dispose();this._buttonList=null;this._pnBtns&&this._pnBtns.removeFromParent(true);this._pnBtns=null;this._listContainer&&this._listContainer.dispose();this._listContainer=null;this._originParent=null;this.facade.$.listUI=null;pinetreepages.PortfolioBase.prototype.dispose.call(this)};pinetreepages.PortfolioList=b})();(function(){var a=function(){pinetreepages.PortfolioBase.call(this);this._currentIndex=0;this._dataCount=0;this._gap=20;this._isTweening=false;this.EDGE_CONST_SMALL=30;this._itemEdge=this.EDGE_CONST_SMALL;this._itemWidth=0;this._itemHeight=0;this._prevBtnWidth=0;this._nextBtnWidth=0;this._prevBtnHeight=0;this._nextBtnHeight=0;this._oldScrollX=0;this._oldScrollY=0;this._currentColumn=0;this._currentListContentWidth=0;this._pageIndex=0;this._pageTotal=0;this._originParent=null;this._listContainer=null;this._buttonList=null;this._pnBtns=null;this._isInited=false;this.visible=false;__defineGetterSetter(this,["enabled"])};var b=__extends(a,pinetreepages.PortfolioBase);b.addedToStage=function(){if(!this.isInitialized){this._originParent=this.parent}pinetreepages.PortfolioBase.prototype.addedToStage.call(this)};b.initData=function(c){pinetreepages.PortfolioBase.prototype.initData.call(this,c);this._currentIndex=0;this._dataCount=c.length;this._itemWidth=this.facade.$.setting.thumbWidth;this._itemHeight=this.facade.$.setting.thumbHeight;this._gap=this.facade.$.setting.gap;this._pageIndex=0;this._pageTotal=0;this._initUI();pinetreecom.DelayCaller.delayCall(this,this.transitionIn,0.1)};b._initUI=function(){this._listContainer=new pinetreecom.ListContainer();this.addChild(this._listContainer);this._listContainer.animateTime=this.tweenTime;this._listContainer.animateDelay=0.1*this.tweenTime;this._listContainer.ON_TWEEN_IN_COMPLETE.add(this,this.tweenInComplete);this._listContainer.ON_TWEEN_OUT_COMPLETE.add(this,this.tweenOutComplete);this._listContainer.ON_OVER.add(this,this.onOverItem);this._listContainer.ON_OUT.add(this,this.onOutItem);this._listContainer.ON_CLICK.add(this,this.onClickThumbnail);this._listContainer.ON_NEED_RESIZE.add(this,this.redraw);this._listContainer.onlyFullShown=true;this._listContainer.useRealPosition=false;this._listContainer.useRealStagePos=false;this._listContainer.showAllWhileDevice=true;this._listContainer.useIntPosition=true;this._listContainer.reset();this._listContainer.setUpWith(pinetreepages.PortfolioListDeviceRender,this._itemWidth,this._thumbHeight,0,this._gap,pinetreecom.AlignUtil.ALIGN_VERTICAL,1,this.data,pt.stageWidth,pt.stageHeight);this.enabled=false};b.setEnabled=function(c){this.mouseChildren=this.mouseEnabled=c;this._listContainer.mouseChildren=true};b.tweenInComplete=function(){};b.tweenOutComplete=function(){};b.onOverItem=function(c){};b.onOutItem=function(c){};b.onControlPNChange=function(c){if(!this._isInited){return}this._onClickPNButton(c)};b.onClickThumbnail=function(d){this._currentIndex=d;var c=this.data[this._currentIndex];var g=c.imageurls[0];if(g&&g.indexOf("is_page")>-1){var e=g.substring("is_page:".length);pinetreecom.LinkManager.to(e);return}this.enabled=false;this.animateOut(Delegate.create(this,this._onGoToImages))};b._onGoToImages=function(){this.removeFromParent();pinetreesite.siteController.changeDeeplinking(this.linkId,[this._currentIndex+1])};b.changeLinkParams=function(d,e){pinetreepages.PortfolioBase.prototype.changeLinkParams.call(this,d,e);if(this._isInited){this.animateOut(Delegate.create(this,this.changeLinkParams,d,e));return}if(e&&pinetreecom.ArrayUtil.isArray(e)&&e.length>0){var c=parseInt(e[0]);if(!isNaN(c)&&this.facade.$.imagesUI&&!this.facade.$.imagesUI.isInited){if(c>0&&c<=this._dataCount){this.enabled=false;this.ON_CHANGE.dispatch(c-1)}}}};b.backToOriginParent=function(){this._originParent.addChild(this);this.animateIn();window.scrollTo(this._oldScrollX,this._oldScrollY)};b.resize=function(c,d){if(!this._isInited){return}this._listContainer.resize(c,d-pt.TOP_HEIGHT);this._listContainer.x=this._itemEdge;this._listContainer.y=this._itemEdge+pt.TOP_HEIGHT};b.animateIn=function(){this._isTweening=true;this._isInited=true;this.visible=true;this.redraw();this._listContainer.animateDelay=0.01*this.tweenTime;pinetreecom.DelayCaller.delayAfterFrames(this._listContainer,this._listContainer.animationIn,10,[pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM,this.tweenTime,Cubic.easeOut]);pinetreecom.DelayCaller.delayCall(this,this._onAnimateInComplete,this.tweenTime,null,true)};b._onAnimateInComplete=function(){this._isTweening=false;this.redraw();this.enabled=true};b.animateOut=function(c){this._isInited=false;this.enabled=false;this._oldScrollX=pinetree.getScrollX();this._oldScrollY=pinetree.getScrollY();this._listContainer.animateDelay=0.01*this.tweenTime;this._listContainer.animationOut(pinetreecom.ListBase.ANI_DIRECTION_BOTTOM2TOP,this.tweenTime*1.2,Cubic.easeInOut,c)};b.transitionIn=function(){this._isTweening=true;this._isInited=true;this.visible=true;this.redraw();if(this.linkParams){this.changeLinkParams(this.linkId,this.linkParams)}else{this._listContainer.animateDelay=0;this._listContainer.animationIn(pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM,this.tweenTime,Cubic.easeOut);this._listContainer.resize(pt.stageWidth-this._itemEdge*2,pt.stageHeight);TweenMax.to(this._listContainer,this.tweenTime*1.2,{ease:Quart.easeOut,onComplete:Delegate.create(this,this._onAniComplete)})}};b._onAniComplete=function(){this._isTweening=false;this.redraw();this.enabled=true};b.transitionOut=function(c){this._isInited=false;this.enabled=false;this.animateOut(c)};b.predispose=function(){this.enabled=false;if(this.facade.$.imagesUI&&this.facade.$.imagesUI.isInited){this.facade.$.imagesUI.predisposeOut(Delegate.create(this,this.dispose))}else{if(this._isInited){this.transitionOut(Delegate.create(this,this.dispose))}else{this.dispose()}}};b.dispose=function(){pinetreecom.DelayCaller.removeByOwner(this);this._listContainer&&this._listContainer.dispose();this._listContainer=null;this._originParent=null;this.facade.$.listUI=null;pinetreepages.PortfolioBase.prototype.dispose.call(this)};pinetreepages.PortfolioListDevice=a})();(function(){var b=function(c){pinetreepages.ViewBase.call(this,c);this._bg=null;this._bgAlpha=0.95;this._textHeight=250;this._url="";this._type="";this._title="";this._description="";this._displayType="1";this._autoPlay=true;this._loop=false;this._videoWidth=500;this._videoHeight=200;this._curVideoWidth=0;this._curVideoHeight=0;this._startY=pinetree.isDevice?pt.TOP_HEIGHT+30:pt.TOP_HEIGHT+pt.START_Y;this._textPadding=25;this._gapX=25;this._gapY=0;this._hasText=true;this._mediaPlayer=null;this._panelWidth=pinetree.isDevice?600:670;this._useTextScroll=true;this._hasControl=true;this._dataLoader=null;this._textContainer=null;this.x=pt.LEFT_WIDTH};var a=__extends(b,pinetreepages.ViewBase);a.addedToStage=function(){if(!this.isInitialized){this._dataLoader=new pinetreecom.FileLoader(pt.assetLoading,this.data.size);this._dataLoader.ON_IO_ERROR.add(this,this.onIOError);this._dataLoader.ON_LOAD_COMPLETE.add(this,this.onLoadDataComplete);this._dataLoader.load(new pinetree.URLRequest(this.data.src))}pinetreepages.ViewBase.prototype.addedToStage.call(this)};a.onLoadDataComplete=function(c){var d=JSON.parse(c.data);if(d){this._type=__defaultSet(d.type,"video");this._title=d.title||this._title;this._url=d.url||"";this._description=d.description||this._description;this._displayType=__defaultSet(d.displayType,"1");this._autoPlay=__defaultSet(d.autoPlay,true);this._loop=__defaultSet(d.loop,false);this._videoWidth=d.videoWidth||this._videoWidth;this._videoHeight=d.videoHeight||this._videoHeight;this._hasControl=__defaultSet(d.hasControl,true);this._bgAlpha=__defaultSet(d.panelBgAlpha,this._bgAlpha);this._hasText=this._displayType=="1";if(this._hasText){this._curVideoWidth=this._panelWidth-this._gapX-this._gapX;this._curVideoHeight=Math.floor(this._curVideoWidth*d.videoHeight/d.videoWidth)}else{this._curVideoWidth=this._videoWidth;this._curVideoHeight=this._videoHeight;this._panelWidth=0;this.positionRef="fixed"}}this.initUI()};a.initUI=function(){this._bg=new pinetree.Quad();this._bg.positionRef="fixed";this._bg.color=pt.bgColor;this._bg.alpha=this._bgAlpha;this.addChild(this._bg);this._bg.width=0;if(this._hasText){this._txtContainer=new pinetreecom.TextContainer(this._panelWidth,200,pt.bgColor,0,this._useTextScroll,true,false);this._txtContainer.padding=this._textPadding;this._txtContainer.paddingRight=this._textPadding+this._gapX;this._txtContainer.alpha=0;this.addChild(this._txtContainer);this._txtContainer.init();this._txtContainer.scrollGapX=this._gapX;this._txtContainer.x=0;this._txtContainer.y=this._startY+this._curVideoHeight+this._gapY;this._txtContainer.title=this._title;this._txtContainer.information=this._description}else{}this.transitionIn()};a._loadVideo=function(){this._mediaPlayer=new pinetreecom.MediaPlayer();this.addChild(this._mediaPlayer);this._mediaPlayer.alpha=0;this._mediaPlayer.autoplay=this._autoPlay;this._mediaPlayer.loop=this._loop;this._mediaPlayer.x=this._gapX;this._mediaPlayer.y=this._startY;this._mediaPlayer.isShowControls=this._hasControl;this._mediaPlayer.load(this._url,this._type,this._videoWidth,this._videoHeight);this._mediaPlayer.width=this._curVideoWidth;this._mediaPlayer.height=this._curVideoHeight;this._mediaPlayer.tweenIn(this.tweenTime/2,this._hasText?0.1:0,Linear.easeNone)};a.resize=function(c,e){if(this._bg){this._bg.height=e}if(this._hasText){if(this._txtContainer){var d=e-this._startY-30-this._curVideoHeight-this._gapY+this._textPadding;this._txtContainer.contentHeight=d}}else{if(this._mediaPlayer){var i,g;if(this._displayType=="2"){var h=Math.max(c/this._videoWidth,e/this._videoHeight);this._curVideoWidth=this._videoWidth*h;this._curVideoHeight=this._videoHeight*h;i=((c-this._curVideoWidth)>>1)-pt.LEFT_WIDTH;g=(e-this._curVideoHeight)>>1}else{if(this._displayType=="3"){this._curVideoWidth=c-this._panelWidth-pt.LEFT_WIDTH;this._curVideoHeight=e;i=0;g=0}}this._mediaPlayer.width=this._curVideoWidth;this._mediaPlayer.height=this._curVideoHeight;this._mediaPlayer.x=i;this._mediaPlayer.y=g}}this.x=pt.LEFT_WIDTH};a.transitionIn=function(){this.redraw();if(this._hasText){TweenMax.to(this._bg,this.tweenTime,{width:this._panelWidth,ease:Cubic.easeInOut,onComplete:Delegate.create(this,this.transitionInComplete)})}else{this.transitionInComplete()}};a.transitionInComplete=function(){this._loadVideo();this.redraw();if(this._hasText){TweenMax.to(this._txtContainer,this.tweenTime/2,{alpha:1,ease:Linear.easeNone})}pinetreepages.ViewBase.prototype.transitionInComplete.call(this)};a.transitionOut=function(){if(this._hasText){this._mediaPlayer.tweenOut(this.tweenTime/2,0,Linear.easeNone);TweenMax.killTweensOf(this._txtContainer);TweenMax.to(this._txtContainer,this.tweenTime/2,{alpha:0,delay:this._hasText?0.1:0,ease:Linear.easeNone});TweenMax.killTweensOf(this._bg);TweenMax.to(this._bg,this.tweenTime,{width:0,delay:this.tweenTime*0.4,delay:this.tweenTime*0.4,ease:Quart.easeInOut,onComplete:Delegate.create(this,this.transitionOutComplete)})}else{this._mediaPlayer.tweenOut(this.tweenTime/2,0,Linear.easeNone,Delegate.create(this,this.transitionOutComplete))}};a.transitionOutComplete=function(){if(this._mediaPlayer){this._mediaPlayer.pause()}pinetreepages.ViewBase.prototype.transitionOutComplete.call(this)};a.dispose=function(){this._dataLoader&&this._dataLoader.dispose();this._dataLoader=null;this._mediaPlayer&&this._mediaPlayer.dispose();this._mediaPlayer=null;if(this._hasText){TweenMax.killTweensOf(this._txtContainer);this._txtContainer&&this._txtContainer.dispose();this._txtContainer=null}TweenMax.killTweensOf(this._bg);pinetreepages.ViewBase.prototype.dispose.call(this)};a.toString=function(){return"[Object ReelView]"};pinetreepages.ReelView=b}());(function(){var a=function(c){pinetreepages.ViewBase.call(this,c)};var b=__extends(a,pinetreepages.ViewBase);b.addedToStage=function(){pinetreepages.ViewBase.prototype.addedToStage.call(this)};b.transitionIn=function(){};b.transitionOut=function(){};b.dispose=function(){pinetreepages.ViewBase.prototype.dispose.call(this)};b.toString=function(){return"[Object ServiceView]"};pinetreepages.ServiceView=a}());(function(){var a=function(c){pinetreepages.ViewBase.call(this,c);this._slideshowFacade=null;this._container=null};var b=__extends(a,pinetreepages.ViewBase);b.addedToStage=function(){pinetreepages.ViewBase.prototype.addedToStage.call(this);this._slideshowFacade=new pinetreepages.SlideshowFacade();this._slideshowFacade.ON_DISPOSE_COMPLETE.add(this,this._mvcDisposed);this._container=new pinetree.Sprite();this.addChild(this._container)};b.transitionIn=function(){this._slideshowFacade.startUp({container:this._container,source:this.data.src,size:this.data.size});this.transitionInComplete();if(pt.bgPage){pt.bgPage.view.showTile(false)}};b.transitionOut=function(){this._slideshowFacade&&this._slideshowFacade.predispose()};b._mvcDisposed=function(){this.transitionOutComplete();if(pt.bgPage){pt.bgPage.view.showTile(true)}};b.dispose=function(){pinetreepages.ViewBase.prototype.dispose.call(this)};b.toString=function(){return"[Object SlideshowView]"};pinetreepages.SlideshowView=a}());(function(){var a=function(){pinetreemvc.Facade.call(this);this.$={NFT_START_UP:"notification_start_up",NFT_DATA_LOAD_COMPLETE:"notification_data_load_complete",NFT_IMAGE_CHANGE:"notification_image_change",NFT_IMAGE_LOAD_COMPLETE:"notification_image_load_complete",NFT_SLIDESHOW_START:"notification_slideshow_start",NFT_SLIDESHOW_PAUSE:"notification_slideshow_pause",NFT_SLIDESHOW_RESUME:"notification_slideshow_resume",NFT_SLIDESHOW_STOP:"notification_slideshow_stop",NFT_TIMER_UPDATE:"notification_timer_update",setting:null,loadedCount:0,root:null,timerUI:null,imagesUI:null,textsUI:null,listUI:null}};var b=__extends(a,pinetreemvc.Facade);b.startUp=function(c){this.registerCommand(this.$.NFT_START_UP,pinetreepages.SlideshowStartUpCommand);this.sendNotification(this.$.NFT_START_UP,c)};pinetreepages.SlideshowFacade=a})();(function(){var a=function(){this.duration=10;this.disableImageZoom=false;this.imageAlign="lt";this.leftButtonName="";this.rightButtonName="";this.leftButtonLink="";this.rightButtonLink="";this.marginLeft=0;this.marginRight=0;this.marginTop=0;this.marginBottom=0};a.from=function(c){var b=new pinetreepages.SlideshowSetting();b.duration=c.duration;b.disableImageZoom=!!c.disableImageZoom;b.imageAlign=c.imageAlign==undefined?b.imageAlign:c.imageAlign;b.leftButtonName=c.leftButtonName;b.rightButtonName=c.rightButtonName;b.leftButtonLink=c.leftButtonLink;b.rightButtonLink=c.rightButtonLink;b.marginLeft=c.marginLeft||0;b.marginRight=c.marginRight||0;b.marginTop=c.marginTop||0;b.marginBottom=c.marginBottom||0;return b};pinetreepages.SlideshowSetting=a})();(function(){var a=function(){this.bgColor=16777215;this.bgAlpha=1;this.textColor=0;this.fontSize=30;this.x=0;this.y=0;this.gap=5;this.text="";this.link="";this.isLeft=true;this.isTop=true;this.textWidth=450};a.from=function(c){var b=new pinetreepages.SlideTextVo();b.text=c.title||b.text;b.link=c.link||b.link;b.bgColor=pt.fromColorString(c.bgColor);b.bgAlpha=__defaultSet(c.bgAlpha,b.bgAlpha);b.fontSize=__defaultSet(c.fontSize,b.fontSize);b.textWidth=__defaultSet(c.textWidth,b.textWidth);b.textColor=pt.fromColorString(c.textColor);return b};pinetreepages.SlideTextVo=a}());(function(){var a=function(){this.title="";this.description="";this.thumburl="";this.imageurl="";this.landscapeurl="";this.imageAlign="ct";this.texts=null};a.from=function(d){var b=new pinetreepages.SlideshowVo();b.title=d.title;b.description=d.description;b.thumburl=d.thumburl;b.imageurl=pinetree.isDevice&&d.deviceImageurl!=undefined?d.deviceImageurl:d.imageurl;if(pinetree.isDevice){b.landscapeurl=d.landscapeurl||d.imageurl||""}b.imageAlign=d.imageAlign||b.imageAlign;var g=pinetree.isDevice?(d.deviceAlign||""):(d.align||"");var m=!(g.indexOf("right")>-1);var h=!(g.indexOf("bottom")>-1);var l=__defaultSet(pinetree.isDevice?d.deviceX:d.x,0);var j=__defaultSet(pinetree.isDevice?d.deviceY:d.y,0);var k=__defaultSet(d.gap,5);b.texts=[];var e=d.text.length,n;for(var c=0;c<e;c++){n=pinetreepages.SlideTextVo.from(d.text[c]);n.isLeft=m;n.isTop=h;n.x=l;n.y=j;n.gap=k;b.texts.push(n)}return b};pinetreepages.SlideshowVo=a})();(function(){var b=function(e,d,g,c){pinetreemvc.Proxy.call(this,e,d,g,c)};b.NAME="SlideshowProxy";var a=__extends(b,pinetreemvc.Proxy);a.parse=function(e){var k=[];var j=JSON.parse(e);var h=pinetreepages.SlideshowSetting.from(j.setting);this.facade.$.setting=h;var c=j.data.length,d;for(var g=0;g<c;g++){d=pinetreepages.SlideshowVo.from(j.data[g]);k.push(d)}this.sendNotification(this.facade.$.NFT_DATA_LOAD_COMPLETE,k)};pinetreepages.SlideshowProxy=b})();(function(){var b=function(e,d,c){pinetreemvc.Mediator.call(this,e,d,c);c.ON_CHANGE.add(this,this.onChange);c.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);c.ON_SLIDESHOW_START.add(this,this.onSlideshowStart);c.ON_SLIDESHOW_STOP.add(this,this.onSlideshowStop);c.ON_SLIDESHOW_PAUSE.add(this,this.onSlideshowPause);c.ON_SLIDESHOW_RESUME.add(this,this.onSlideshowResume);this.interests=[e.$.NFT_DATA_LOAD_COMPLETE,e.$.NFT_IMAGE_CHANGE,e.$.NFT_IMAGE_LOAD_COMPLETE,e.$.NFT_SLIDESHOW_START,e.$.NFT_SLIDESHOW_PAUSE,e.$.NFT_SLIDESHOW_RESUME,e.$.NFT_SLIDESHOW_STOP]};b.NAME="SlideshowImagesMediator";var a=__extends(b,pinetreemvc.Mediator);a.handleNotification=function(e){var c=e.name;var d=e.data;switch(c){case this.facade.$.NFT_DATA_LOAD_COMPLETE:this.viewComponent.initData(d);break;case this.facade.$.NFT_IMAGE_CHANGE:this.viewComponent.change(d);break;case this.facade.$.NFT_IMAGE_LOAD_COMPLETE:break;case this.facade.$.NFT_SLIDESHOW_START:this.viewComponent.slideshowStart();break;case this.facade.$.NFT_SLIDESHOW_PAUSE:this.viewComponent.slideshowPause();break;case this.facade.$.NFT_SLIDESHOW_RESUME:this.viewComponent.slideshowResume();break;case this.facade.$.NFT_SLIDESHOW_STOP:this.viewComponent.slideshowStop();break;default:break}};a.onChange=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_CHANGE,c)};a.onSlideshowStart=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_START)};a.onSlideshowStop=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_STOP)};a.onSlideshowPause=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_PAUSE)};a.onSlideshowResume=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_RESUME)};a.onLoadComplete=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_LOAD_COMPLETE,c)};pinetreepages.SlideshowImagesMediator=b})();(function(){var b=function(e,d,c){pinetreemvc.Mediator.call(this,e,d,c);c.ON_CHANGE.add(this,this.onChange);c.ON_SLIDESHOW_START.add(this,this.onSlideshowStart);c.ON_SLIDESHOW_STOP.add(this,this.onSlideshowStop);c.ON_SLIDESHOW_PAUSE.add(this,this.onSlideshowPause);c.ON_SLIDESHOW_RESUME.add(this,this.onSlideshowResume);this.interests=[e.$.NFT_DATA_LOAD_COMPLETE,e.$.NFT_IMAGE_CHANGE,e.$.NFT_IMAGE_LOAD_COMPLETE,e.$.NFT_SLIDESHOW_START,e.$.NFT_SLIDESHOW_PAUSE,e.$.NFT_SLIDESHOW_RESUME,e.$.NFT_SLIDESHOW_STOP,e.$.NFT_TIMER_UPDATE]};b.NAME="SlideshowListMediator";var a=__extends(b,pinetreemvc.Mediator);a.handleNotification=function(e){var c=e.name;var d=e.data;switch(c){case this.facade.$.NFT_DATA_LOAD_COMPLETE:this.viewComponent.initData(d);break;case this.facade.$.NFT_IMAGE_CHANGE:this.viewComponent.change(d);break;case this.facade.$.NFT_IMAGE_LOAD_COMPLETE:this.viewComponent.imageLoadComplete(d);break;case this.facade.$.NFT_SLIDESHOW_START:this.viewComponent.slideshowStart();break;case this.facade.$.NFT_SLIDESHOW_PAUSE:this.viewComponent.slideshowPause();break;case this.facade.$.NFT_SLIDESHOW_RESUME:this.viewComponent.slideshowResume();break;case this.facade.$.NFT_SLIDESHOW_STOP:this.viewComponent.slideshowStop();break;case this.facade.$.NFT_TIMER_UPDATE:this.viewComponent.timerUpdate(d);break;default:break}};a.onChange=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_CHANGE,c)};a.onSlideshowStart=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_START)};a.onSlideshowStop=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_STOP)};a.onSlideshowPause=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_PAUSE)};a.onSlideshowResume=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_RESUME)};pinetreepages.SlideshowListMediator=b})();(function(){var a=function(e,d,c){pinetreemvc.Mediator.call(this,e,d,c);c.ON_CHANGE.add(this,this.onChange);this.interests=[e.$.NFT_DATA_LOAD_COMPLETE,e.$.NFT_IMAGE_CHANGE,e.$.NFT_IMAGE_LOAD_COMPLETE,e.$.NFT_SLIDESHOW_START,e.$.NFT_SLIDESHOW_PAUSE,e.$.NFT_SLIDESHOW_RESUME,e.$.NFT_SLIDESHOW_STOP]};a.NAME="SlideshowTextsMediator";var b=__extends(a,pinetreemvc.Mediator);b.handleNotification=function(e){var c=e.name;var d=e.data;switch(c){case this.facade.$.NFT_DATA_LOAD_COMPLETE:this.viewComponent.initData(d);break;case this.facade.$.NFT_IMAGE_CHANGE:this.viewComponent.change(d);break;case this.facade.$.NFT_IMAGE_LOAD_COMPLETE:break;case this.facade.$.NFT_SLIDESHOW_START:this.viewComponent.slideshowStart();break;case this.facade.$.NFT_SLIDESHOW_PAUSE:this.viewComponent.slideshowPause();break;case this.facade.$.NFT_SLIDESHOW_RESUME:this.viewComponent.slideshowResume();break;case this.facade.$.NFT_SLIDESHOW_STOP:this.viewComponent.slideshowStop();break;default:break}};b.onChange=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_CHANGE,c)};pinetreepages.SlideshowTextsMediator=a})();(function(){var a=function(e,d,c){pinetreemvc.Mediator.call(this,e,d,c);c.ON_CHANGE.add(this,this.onChange);c.ON_SLIDESHOW_START.add(this,this.onSlideshowStart);c.ON_SLIDESHOW_STOP.add(this,this.onSlideshowStop);c.ON_SLIDESHOW_PAUSE.add(this,this.onSlideshowPause);c.ON_SLIDESHOW_RESUME.add(this,this.onSlideshowResume);c.ON_UPDATE.add(this,this.onTimerUpdate);this.interests=[e.$.NFT_DATA_LOAD_COMPLETE,e.$.NFT_IMAGE_CHANGE,e.$.NFT_IMAGE_LOAD_COMPLETE,e.$.NFT_SLIDESHOW_START,e.$.NFT_SLIDESHOW_PAUSE,e.$.NFT_SLIDESHOW_RESUME,e.$.NFT_SLIDESHOW_STOP]};a.NAME="SlideshowTimerMediator";var b=__extends(a,pinetreemvc.Mediator);b.handleNotification=function(e){var c=e.name;var d=e.data;switch(c){case this.facade.$.NFT_DATA_LOAD_COMPLETE:this.viewComponent.initData(d);break;case this.facade.$.NFT_IMAGE_CHANGE:this.viewComponent.change(d);break;case this.facade.$.NFT_IMAGE_LOAD_COMPLETE:break;case this.facade.$.NFT_SLIDESHOW_START:this.viewComponent.slideshowStart();break;case this.facade.$.NFT_SLIDESHOW_PAUSE:this.viewComponent.slideshowPause();break;case this.facade.$.NFT_SLIDESHOW_RESUME:this.viewComponent.slideshowResume();break;case this.facade.$.NFT_SLIDESHOW_STOP:this.viewComponent.slideshowStop();break;default:break}};b.onChange=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_CHANGE,c)};b.onSlideshowStart=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_START)};b.onSlideshowStop=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_STOP)};b.onSlideshowPause=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_PAUSE)};b.onSlideshowResume=function(){this.sendNotification(this.facade.$.NFT_SLIDESHOW_RESUME)};b.onTimerUpdate=function(c){this.sendNotification(this.facade.$.NFT_TIMER_UPDATE,c)};pinetreepages.SlideshowTimerMediator=a})();(function(){var a=function(){pinetreemvc.Command.call(this)};var b=__extends(a,pinetreemvc.Command);b.execute=function(e){var i=e.data;var d=i.container;var c=i.source;var g=i.size;this.facade.$.root=d;var h=new pinetreepages.SlideshowTimer();var l=new pinetreepages.SlideshowImages();var k=new pinetreepages.SlideshowTexts();var j=new pinetreepages.SlideshowList();d.addChild(l);d.addChild(k);d.addChild(j);d.addChild(h);this.facade.$.timerUI=h;this.facade.$.imagesUI=l;this.facade.$.textsUI=k;this.facade.$.listUI=j;this.facade.registerMediator(null,pinetreepages.SlideshowTimerMediator,h);this.facade.registerMediator(null,pinetreepages.SlideshowImagesMediator,l);this.facade.registerMediator(null,pinetreepages.SlideshowTextsMediator,k);this.facade.registerMediator(null,pinetreepages.SlideshowListMediator,j);this.facade.registerProxy(null,pinetreepages.SlideshowProxy,c,g)};pinetreepages.SlideshowStartUpCommand=a})();(function(){var b=function(){pinetreecom.PoolBase.call(this);this._container=null;this._txt=null;this._bg=null;this._contentHeight=0;this._disposed=false;this._textWidth=0;this.data=null;this.gap=15;this.originX=0;this.originY=0;this._tweenPercent=0;__defineGetterSetter(this,["isBusy","contentHeight","text"])};var a=__extends(b,pinetreecom.PoolBase);a.init=function(d){if(!d){return}this.data=d;var c=d;this._textWidth=c.textWidth;this._container=new pinetree.Sprite();this.addChild(this._container);this._txt=new pinetree.TextField();this._txt.className+=c.isLeft?" slide_title slide_title_left":" slide_title slide_title_right";this._txt.x=this.gap;this._txt.y=this.gap;this._container.addChild(this._txt);this._txt.width=this._textWidth-this.gap-this.gap;this._bg=new pinetree.Quad();this._bg.color=c.bgColor;this._bg.alpha=c.bgAlpha;this._container.addChildAt(this._bg,0);this._txt.fontSize=c.fontSize;this._txt.textColor=c.textColor;this.text=c.text;this._contentHeight=this._txt.height+this.gap+this.gap;this._bg.width=this._textWidth;this._bg.height=this._contentHeight;this._clipRect=new pinetree.Rectangle(0,0,0,this._contentHeight);this._container.clip=this._clipRect;this.width=this._textWidth;this.height=this._contentHeight;this._container.width=this._textWidth;this._container.height=this._contentHeight;this.visible=!!c.text;this.selectable=false;this.buttonMode=this._txt.useMouseHand=!!d.link;if(d.link){this.mouseChildren=this.mouseEnabled=true;this.addEventListener(pinetree.MouseEvent.CLICK,this._onClick,this)}else{this.mouseChildren=this.mouseEnabled=false}};a._onClick=function(c){pinetreecom.LinkManager.to(this.data.link)};a.setText=function(c){this._txt.htmlText=c};a.reset=function(){this._clipRect=new pinetree.Rectangle(0,0,0,this._contentHeight);this._container.clip=this._clipRect;TweenMax.killTweensOf(this._container);this.removeEventListener(pinetree.MouseEvent.CLICK,this._onClick,this)};a.getContentHeight=function(){return this._contentHeight};a.run=function(d,c,g,h,e){if(this._disposed){return}d=__defaultSet(d,1);c=__defaultSet(c,0.05);g=__defaultSet(g,Quart.easeOut);TweenMax.killTweensOf(this,false,{_tweenPercent:true});this.percent=0;TweenMax.to(this,d,{_tweenPercent:1,delay:c,ease:g,onUpdate:this.onTweenUpdate,onUpdateParams:[this],onComplete:h});this.onTweenUpdate(this)};a.back=function(d,c,g,h,e){if(this._disposed){return}this.mouseChildren=this.mouseEnabled=false;d=__defaultSet(d,1);c=__defaultSet(c,0.05);g=__defaultSet(g,Quart.easeOut);TweenMax.killTweensOf(this,false,{_tweenPercent:true});TweenMax.to(this,d,{_tweenPercent:0,delay:c,ease:g,onUpdate:this.onTweenUpdate,onUpdateParams:[this],onComplete:h})};a.onTweenUpdate=function(c){var d=c._textWidth*c._tweenPercent;c._clipRect.width=d;c._container.clip=c._clipRect};a.dispose=function(){this.removeEventListener(pinetree.MouseEvent.CLICK,this._onClick,this);this._bg&&this._bg.dispose();this._bg=null;TweenMax.killTweensOf(this._container);this._disposed=true;pinetreecom.PoolBase.prototype.dispose.call(this)};pinetreepages.SlideTip=b}());(function(){var a=function(){pinetreecom.UIComponent.call(this);this._tips=null;this.runCallback=null;this._backCallback=null;this.tweenDelay=0.2};var b=__extends(a,pinetreecom.UIComponent);b.runWith=function(c,n){this.runCallback=n;this.removeAllChildren();var m=pt.stageWidth,j=pt.stageHeight;var l,k=c.length,d,g=0;this._tips=[];for(var e=0;e<k;e++){d=c[e];l=pinetreecom.PoolUtil.get(pinetreepages.SlideTip);this.addChild(l);l.init(d);l.x=l.originX=d.isLeft?d.x:m-l.width-d.x;if(e==0){l.y=l.originY=d.isTop?d.y+pt.TOP_HEIGHT:j-pt.FOOTER_HEIGHT-l.height-d.y+pt.TOP_HEIGHT}else{l.y=l.originY=this._tips[0].y+g}g+=l.height+d.gap;l.run(this.tweenTime,this.tweenDelay*e,this.transition,Delegate.create(this,this._onTweenComplete,e,k-1,"run"));this._tips.push(l)}};b.back=function(g){this._backCallback=g;if(!this._tips){g&&g();return}var c=this._tips.length,e;for(var d=c-1;d>=0;d--){e=this._tips[d];e.back(this.tweenTime,this.tweenDelay*(c-1-d),this.transition,Delegate.create(this,this._onTweenComplete,d,0,"back"))}};b._onTweenComplete=function(d,c,e){if(d==c){if(e=="run"){this.runCallback&&this.runCallback()}else{if(e=="back"){this._backCallback&&this._backCallback()}}}};b.dispose=function(){pinetreecom.PoolUtil.remove(pinetreepages.SlideTip,true);pinetreecom.UIComponent.prototype.dispose.call(this)};pinetreepages.SlideTipsContainer=a}());(function(){var a=function(){pinetreemvc.ViewComponentBase.call(this);this.data=null;this.ON_SLIDESHOW_START=new pinetree.Signal();this.ON_SLIDESHOW_STOP=new pinetree.Signal();this.ON_SLIDESHOW_PAUSE=new pinetree.Signal();this.ON_SLIDESHOW_RESUME=new pinetree.Signal();this.ON_CHANGE=new pinetree.Signal();this.ON_LOAD_COMPLETE=new pinetree.Signal()};var b=__extends(a,pinetreemvc.ViewComponentBase);b.initData=function(c){this.data=c||[]};b.slideshowStart=function(){};b.slideshowStop=function(){};b.slideshowPause=function(){};b.slideshowResume=function(){};b.change=function(c){};b.setSelectedIndex=function(c){this.ON_CHANGE&&this.ON_CHANGE.dispatch(c)};b.dispose=function(){this.data=null;this.ON_SLIDESHOW_START&&this.ON_SLIDESHOW_START.removeAll();this.ON_SLIDESHOW_STOP&&this.ON_SLIDESHOW_STOP.removeAll();this.ON_SLIDESHOW_PAUSE&&this.ON_SLIDESHOW_PAUSE.removeAll();this.ON_SLIDESHOW_RESUME&&this.ON_SLIDESHOW_RESUME.removeAll();this.ON_CHANGE&&this.ON_CHANGE.removeAll();this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.removeAll();this.ON_SLIDESHOW_START=null;this.ON_SLIDESHOW_STOP=null;this.ON_SLIDESHOW_PAUSE=null;this.ON_SLIDESHOW_RESUME=null;this.ON_CHANGE=null;this.ON_LOAD_COMPLETE=null;pinetreemvc.ViewComponentBase.prototype.dispose.call(this)};pinetreepages.SlideshowBase=a})();(function(){var a=function(){pinetreepages.SlideshowBase.call(this);this._currentIndex=0;this._prevIndex=0;this._images=null;this._isTweening=false;this._isDestroying=false;this._imageContainer=null;this._marginLeft=0;this._marginRight=0;this._marginTop=0;this._marginBottom=0;this._loadedIndex=0;this._isFirst=true;this._duration=1;this.tweenTime=1;this._colorMask=null};var b=__extends(a,pinetreepages.SlideshowBase);b.addedToStage=function(){if(!this.isInitialized){}pinetreepages.SlideshowBase.prototype.addedToStage.call(this)};b.initData=function(c){pinetreepages.SlideshowBase.prototype.initData.call(this,c);this._maskAlpha=this.facade.$.setting.maskAlpha;this._duration=this.facade.$.setting.duration;if(!pinetree.isDevice){this._marginLeft=this.facade.$.setting.marginLeft;this._marginRight=this.facade.$.setting.marginRight;this._marginTop=this.facade.$.setting.marginTop;this._marginBottom=this.facade.$.setting.marginBottom}this._initUI()};b._initUI=function(){this._loadedIndex=0;this.facade.$.loadedCount=this._loadedIndex;this._images=[];var c=this.data[0];this._imageContainer=new pinetree.Sprite();this._imageContainer.y=0;this._imageContainer.clip=new pinetree.Rectangle(0,0,pt.stageWidth,pt.stageHeight);this.addChild(this._imageContainer);this._colorMask=new pinetree.Quad();this._colorMask.width=pt.stageWidth;this._colorMask.height=pt.stageHeight;this._colorMask.color=pt.bgColor;this._colorMask.alpha=0;this.addChild(this._colorMask);pinetreecom.DelayCaller.delayCall(this,this._start,0.5,[c],true)};b._start=function(c){var d=new pinetreecom.FullRectImage(1,1,c.imageAlign);d.visible=false;d.ON_LOAD_COMPLETE.add(this,this._onLoadInit);d.ON_IO_ERROR.add(this,this._onLoadError);d.load(c.imageurl,c.landscapeurl);d.x=this._marginLeft;d.y=this._marginTop;this._images.push(d);TweenMax.to(this._colorMask,this.tweenTime,{alpha:this._maskAlpha,ease:this.transition})};b._onLoadError=function(c){this._onLoadInit(c)};b._onLoadInit=function(d){d.index=this._loadedIndex;this._imageContainer.addChild(d);this._loadedIndex++;this.facade.$.loadedCount=this._loadedIndex;this.ON_LOAD_COMPLETE.dispatch(d);if(this._loadedIndex==1){this.setSelectedIndex(0);this.transitionIn()}if(this._loadedIndex!=1&&this._loadedIndex-1==this._currentIndex){this.ON_SLIDESHOW_START.dispatch()}if(this._loadedIndex<this.data.length){var c=this.data[this._loadedIndex];pinetreecom.DelayCaller.delayCall(this,this._loadNext,0.1,[c],true)}};b._loadNext=function(c){var d=new pinetreecom.FullRectImage(1,1,c.imageAlign);d.visible=false;d.ON_LOAD_COMPLETE.add(this,this._onLoadInit);d.ON_IO_ERROR.add(this,this._onLoadError);d.load(c.imageurl,c.landscapeurl);d.x=this._marginLeft;d.y=this._marginTop;this._images.push(d)};b.change=function(c){if(c!=0&&this._currentIndex==c){return}this._prevIndex=this._currentIndex;this._currentIndex=c;this.addEventListener(pinetree.Event.ENTER_FRAME,this._waitForLoadInit,this)};b._waitForLoadInit=function(c){if(this._currentIndex>this._loadedIndex-1){return}this.removeEventListener(pinetree.Event.ENTER_FRAME,this._waitForLoadInit,this);this._isTweening=true;this.ON_SLIDESHOW_START.dispatch();this.redraw();var d=this._images[this._currentIndex];d.show(this.tweenTime,0,Linear.easeNone,Delegate.create(this,this._tweenImageComplete));if(!this.facade.$.setting.disableImageZoom&&!pinetree.isDevice){d.zoom(this._duration)}this._imageContainer.setChildIndex(d,this._imageContainer.numChildren-1);d.visible=true};b._tweenImageComplete=function(){this._isTweening=false;if(this._isDestroying){this.transitionOut()}if(this._currentIndex!=this._prevIndex){var c=this._images[this._prevIndex];c.visible=false}};b.resize=function(c,e){if(this._imageContainer){this._imageContainer.width=c;this._imageContainer.height=e;this._imageContainer.clip=new pinetree.Rectangle(0,0,c,e)}if(this._images){var d=c-this._marginLeft-this._marginRight;var h=e-this._marginTop-this._marginBottom;var g=this._images[this._currentIndex];var i=this._images[this._prevIndex];g&&g.redraw(d,h);i&&i.redraw(d,h)}if(this._colorMask){this._colorMask.width=c;this._colorMask.height=e}};b.transitionIn=function(){};b.transitionOut=function(){this._isDestroying=true;if(this._isTweening){return}pinetreecom.DelayCaller.removeByHandler(this,this._start);this.ON_SLIDESHOW_STOP.dispatch();this.removeEventListener(pinetree.Event.ENTER_FRAME,this._waitForLoadInit,this);this.redraw();if(this._images&&this._images[this._currentIndex]){this._images[this._currentIndex].hide(this.tweenTime*0.8,0,Linear.easeNone,Delegate.create(this,this.dispose));TweenMax.to(this._colorMask,this.tweenTime*0.5,{alpha:0,delay:this.tweenTime*0.3,ease:this.transition})}else{TweenMax.to(this,this.tweenTime*0.6,{onComplete:Delegate.create(this,this.dispose)});TweenMax.to(this._colorMask,this.tweenTime*0.6,{alpha:0,ease:this.transition})}};b.predispose=function(){pinetreecom.DelayCaller.delayCall(this,this.animateOut,0.1)};b.animateOut=function(){pinetreecom.DelayCaller.removeByOwner(this);this.transitionOut()};b.dispose=function(){if(this._images){var c,d;for(c in this._images){d=this._images[c];d&&d.removeFromParent(true);d=null}this._images.splice(0,this._images.length);this._images=null}if(this._colorMask){TweenMax.killTweensOf(this._colorMask);this._colorMask.dispose();this._colorMask=null}this.removeAllChildren();this.facade.$.imagesUI=null;pinetreepages.SlideshowBase.prototype.dispose.call(this)};pinetreepages.SlideshowImages=a})();(function(){var a=function(){pinetreepages.SlideshowBase.call(this);this._loadedIndex=0;this._buttonList=null};var b=__extends(a,pinetreepages.SlideshowBase);b.initData=function(c){pinetreepages.SlideshowBase.prototype.initData.call(this,c);this._initUI()};b._initUI=function(){this._buttonList=new pinetreecom.ButtonList(pinetreecom.MiniCircle,this.data.length);this.addChild(this._buttonList);this._buttonList.ON_CLICK.add(this,this.onClickButton);this._buttonList.onOverColor=pt.onOverColor;this._buttonList.onOutColor=pt.onOutColor;this._buttonList.onOverAlpha=1;this._buttonList.onOutAlpha=0.2;this._buttonList.gap=pinetree.isDevice?10:10;this._buttonList.itemSize=pinetree.isDevice?10*2:5*2;this._buttonList.alignType=pinetreecom.ButtonList.ALIGN_HORIZONTAL;this._buttonList.init();this._buttonList.show();this._buttonList.visible=this.data.length>1;this.redraw()};b.onNavigate=function(c){var e=c.customTarget,d;if(e==this._btnLeft){d=this.facade.$.setting.leftButtonLink}else{d=this.facade.$.setting.rightButtonLink}pinetreecom.LinkManager.to(d)};b.timerUpdate=function(c){};b.onClickButton=function(d){var c=d.index;this.onSelect(c)};b.change=function(c){this._buttonList.setSelectBtn(c)};b.onSelect=function(c){this.ON_SLIDESHOW_STOP.dispatch();this.ON_CHANGE.dispatch(c)};b.imageLoadComplete=function(c){this._buttonList.setEnabledByIndex(this._loadedIndex,true);this._loadedIndex++};b.resize=function(c,d){if(this._buttonList){this._buttonList.x=c-this._buttonList.contentWidth+Math.floor(this._buttonList.buttonSize/2)-8-8;this._buttonList.y=d-this._buttonList.contentHeight-(pinetree.isSmallMode?0:pt.currentBottomHeight)+Math.floor(this._buttonList.buttonSize/2)-8}};b.predispose=function(){if(this._buttonList){this._buttonList.hide(Delegate.create(this,this.dispose))}else{this.dispose()}};b.dispose=function(){this._buttonList&&this._buttonList.dispose();this._buttonList=null;this.facade.$.listUI=null;pinetreepages.SlideshowBase.prototype.dispose.call(this)};pinetreepages.SlideshowList=a})();(function(){var a=function(){pinetreepages.SlideshowBase.call(this);this._currentIndex=0;this._prevIndex=0;this._isInited=false;this._tipsContainer=null;this._bgAlpha=0.9};var b=__extends(a,pinetreepages.SlideshowBase);b.addedToStage=function(){if(!this.isInitialized){}pinetreepages.SlideshowBase.prototype.addedToStage.call(this)};b.initData=function(c){pinetreepages.SlideshowBase.prototype.initData.call(this,c);this._initUI()};b._initUI=function(){this._tipsContainer=new pinetreepages.SlideTipsContainer();this._tipsContainer.transition=Quart.easeOut;this._tipsContainer.tweenTime=1.2*this.tweenTime;this.addChild(this._tipsContainer)};b.change=function(d){this._prevIndex=this._currentIndex;this._currentIndex=d;if(this._prevIndex==this._currentIndex){var c=this.data[d];this._tipsContainer.runWith(c.texts)}else{this._tipsContainer.back(Delegate.create(this,this._onBackComplete))}};b._onBackComplete=function(){var c=this.data[this._currentIndex];this._tipsContainer.runWith(c.texts)};b._setText=function(c,d){};b.resize=function(c,d){if(!this._isInited){return}};b.predispose=function(){this.mouseChildren=this.mouseEnabled=false;if(this._tipsContainer){this._tipsContainer.back(Delegate.create(this,this.dispose))}else{this.dispose()}};b.dispose=function(){this._isInited=false;this._tipsContainer&&this._tipsContainer.dispose();this._tipsContainer=null;this.facade.$.textsUI=null;pinetreepages.SlideshowBase.prototype.dispose.call(this)};pinetreepages.SlideshowTexts=a})();(function(){var a=function(){pinetreepages.SlideshowBase.call(this);this._currentIndex=0;this._loading=null;this._duration=0;this._tween=null;this.ON_UPDATE=new pinetree.Signal();this.percent=0};var b=__extends(a,pinetreepages.SlideshowBase);b.initData=function(c){pinetreepages.SlideshowBase.prototype.initData.call(this,c);this._duration=this.facade.$.setting.duration;var d=this.facade.$.setting.timerColor;this.visible=false};b.change=function(c){this._currentIndex=c};b._onWaiting=function(c){if(this._currentIndex<this.facade.$.loadedCount){this.removeEventListener(pinetree.Event.ENTER_FRAME,this._onWaiting,this);this.ON_CHANGE.dispatch(this._currentIndex)}};b.start=function(){this.visible=true;this.redraw();this._tween&&this._tween.kill();this.percent=0;this._tween=TweenMax.to(this,this._duration,{percent:1,ease:Linear.easeNone,onUpdate:this._onUpdate,onUpdateParams:[this],onComplete:this._onChange,onCompleteParams:[this]})};b.stop=function(){this._tween&&this._tween.kill();this._tween=null};b._onChange=function(d){var c=d.data.length;d._currentIndex>=c-1?d._currentIndex=0:d._currentIndex++;if(d._currentIndex<d.facade.$.loadedCount){d.ON_CHANGE.dispatch(d._currentIndex)}else{d.addEventListener(pinetree.Event.ENTER_FRAME,d._onWaiting,d)}};b._onUpdate=function(c){c.ON_UPDATE.dispatch(c.percent)};b._onStopComplete=function(c){c._tween&&c._tween.kill();c._tween=null};b.slideshowStart=function(){if(this.data.length>1){if(this._currentIndex<this.facade.$.loadedCount){this.start()}else{this.addEventListener(pinetree.Event.ENTER_FRAME,this._onWaiting,this)}}};b.slideshowStop=function(){if(this.data&&this.data.length>1){this.stop()}};b.slideshowPause=function(){this._tween&&this._tween.pause()};b.slideshowResume=function(){this._tween&&this._tween.resume()};b.resize=function(c,d){};b.predispose=function(){this.dispose()};b._onPredispose=function(c){c.dispose()};b.dispose=function(){this.removeEventListener(pinetree.Event.ENTER_FRAME,this._onWaiting,this);this._tween&&this._tween.kill();this._tween=null;this.ON_UPDATE&&this.ON_UPDATE.removeAll();this.ON_UPDATE=null;this.facade.$.timerUI=null;pinetreepages.SlideshowBase.prototype.dispose.call(this)};pinetreepages.SlideshowTimer=a})();(function(){var b=function(c){pinetreepages.ViewBase.call(this,c);this._teamFacade=null;this._container=null};var a=__extends(b,pinetreepages.ViewBase);a.addedToStage=function(){pinetreepages.ViewBase.prototype.addedToStage.call(this);this._teamFacade=new pinetreepages.TeamFacade();this._teamFacade.ON_DISPOSE_COMPLETE.add(this,this._mvcDisposed);this._container=new pinetree.Sprite();this.addChild(this._container)};a.transitionIn=function(){this._teamFacade.startUp({container:this._container,source:this.data.src,size:this.data.size});this.transitionInComplete()};a.transitionOut=function(){this._teamFacade&&this._teamFacade.predispose()};a._mvcDisposed=function(){this.transitionOutComplete()};a.dispose=function(){pinetreepages.ViewBase.prototype.dispose.call(this)};a.toString=function(){return"[Object TeamView]"};pinetreepages.TeamView=b}());(function(){var a=function(){pinetreemvc.Facade.call(this);this.$={NFT_START_UP:"notification_start_up",NFT_DATA_LOAD_COMPLETE:"notification_data_load_complete",NFT_IMAGE_CHANGE:"notification_image_change",NFT_IMAGE_LOAD_COMPLETE:"notification_image_load_complete",setting:null,root:null,listUI:null,imagesUI:null}};var b=__extends(a,pinetreemvc.Facade);b.startUp=function(c){this.registerCommand(this.$.NFT_START_UP,pinetreepages.TeamStartUpCommand);this.sendNotification(this.$.NFT_START_UP,c)};pinetreepages.TeamFacade=a}());(function(){var a=function(){this.itemWidth=0;this.itemHeight=0;this.gap=5;this.moreLabel="Read More";this.imageWidth=0;this.imageHeight=0;this.textHeight=0;this.showInfo=false;this.hideInfoButton=false;this.totalWidth=0};a.from=function(c){var b=new pinetreepages.TeamSetting();if(c){b.itemWidth=c.itemWidth;b.itemHeight=c.itemHeight;b.gap=c.gap||b.gap;b.moreLabel=__defaultSet(c.moreLabel,b.moreLabel);b.imageWidth=c.imageWidth;b.imageHeight=c.imageHeight;b.textHeight=c.textHeight;b.showInfo=c.showInfo||false;b.hideInfoButton=c.hideInfoButton||false;b.totalWidth=b.itemWidth+b.middleGap+b.imageWidth}return b};pinetreepages.TeamSetting=a})();(function(){var a=function(){this.name="";this.moreLabel="";this.preview="";this.description="";this.thumburl="";this.itemWidth=0;this.itemHeight=0;this.imageurl=""};a.from=function(c){var b=new pinetreepages.TeamImageVo();b.name=c.name||b.name;b.description=c.description||b.description;b.preview=c.preview||b.description;b.thumburl=c.imageurl;b.imageurl=c.imageurl;return b};pinetreepages.TeamImageVo=a})();(function(){var a=function(e,d,g,c){pinetreemvc.Proxy.call(this,e,d,g,c)};a.NAME="TeamImageProxy";var b=__extends(a,pinetreemvc.Proxy);b.parse=function(e){var k=[];var j=JSON.parse(e);var h=pinetreepages.TeamSetting.from(j.setting);this.facade.$.setting=h;var c=j.data.length,d;for(var g=0;g<c;g++){d=pinetreepages.TeamImageVo.from(j.data[g]);d.moreLabel=h.moreLabel;d.itemWidth=h.itemWidth;d.itemHeight=h.itemHeight;k.push(d)}this.sendNotification(this.facade.$.NFT_DATA_LOAD_COMPLETE,k)};pinetreepages.TeamImageProxy=a})();(function(){var b=function(e,d,c){pinetreemvc.Mediator.call(this,e,d,c);c.ON_CHANGE.add(this,this.onChange);c.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);this.interests=[e.$.NFT_DATA_LOAD_COMPLETE,e.$.NFT_IMAGE_CHANGE,e.$.NFT_IMAGE_LOAD_COMPLETE]};b.NAME="TeamImagesMediator";var a=__extends(b,pinetreemvc.Mediator);a.handleNotification=function(e){var c=e.name;var d=e.data;switch(c){case this.facade.$.NFT_DATA_LOAD_COMPLETE:this.viewComponent.initData(d);break;case this.facade.$.NFT_IMAGE_CHANGE:this.viewComponent.change(d);break;case this.facade.$.NFT_IMAGE_LOAD_COMPLETE:break;default:break}};a.onChange=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_CHANGE,c)};a.onLoadComplete=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_LOAD_COMPLETE,c)};pinetreepages.TeamImagesMediator=b})();(function(){var a=function(e,d,c){pinetreemvc.Mediator.call(this,e,d,c);c.ON_CHANGE.add(this,this.onChange);c.ON_LOAD_COMPLETE.add(this,this.onLoadComplete);this.interests=[e.$.NFT_DATA_LOAD_COMPLETE,e.$.NFT_IMAGE_CHANGE,e.$.NFT_IMAGE_LOAD_COMPLETE]};a.NAME="TeamListMediator";var b=__extends(a,pinetreemvc.Mediator);b.handleNotification=function(e){var c=e.name;var d=e.data;switch(c){case this.facade.$.NFT_DATA_LOAD_COMPLETE:this.viewComponent.initData(d);break;case this.facade.$.NFT_IMAGE_CHANGE:break;case this.facade.$.NFT_IMAGE_LOAD_COMPLETE:break;default:break}};b.onChange=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_CHANGE,c)};b.onLoadComplete=function(c){this.sendNotification(this.facade.$.NFT_IMAGE_LOAD_COMPLETE,c)};pinetreepages.TeamListMediator=a})();(function(){var b=function(){pinetreemvc.Command.call(this)};var a=__extends(b,pinetreemvc.Command);a.execute=function(i){var h=i.data;var d=h.container;var g=h.source;var c=h.size;this.facade.$.root=d;var j=new pinetreepages.TeamList();var e=new pinetreepages.TeamImages();d.addChild(j);d.addChild(e);this.facade.$.listUI=j;this.facade.$.imagesUI=e;this.facade.registerMediator(null,pinetreepages.TeamListMediator,j);this.facade.registerMediator(null,pinetreepages.TeamImagesMediator,e);this.facade.registerProxy(null,pinetreepages.TeamImageProxy,g,c)};pinetreepages.TeamStartUpCommand=b})();(function(){var a=function(e,c,d){pinetree.Sprite.call(this);this.tweenTime=1;this.transition=Quad.easeOut;this._data=e;this._tipWidth=c;this._tipHeight=d;this._gapX=30;this._gapY=5;this._nameTxt=null;this._previewTxt=null;this._moreTxt=null;this.selectable=false;this.buttonMode=true;this.useMouseHand=true};var b=__extends(a,pinetree.Sprite);b.addedToStage=function(){if(!this.isInitialized){this._nameTxt=new pinetree.TextField();this._nameTxt.useMouseHand=true;this._nameTxt.selectable=false;this.addChild(this._nameTxt);this._nameTxt.className+=" team_name";this._previewTxt=new pinetree.TextField();this._previewTxt.useMouseHand=true;this._previewTxt.selectable=false;this.addChild(this._previewTxt);this._previewTxt.className+=" team_preview";this._moreTxt=new pinetree.TextField();this._moreTxt.useMouseHand=true;this._moreTxt.selectable=false;this._moreTxt.wordWrap=false;this.addChild(this._moreTxt);this._moreTxt.textColor=pt.onOverColor;this._moreTxt.className+=" team_more"}this.update();this.buttonMode=true;pinetree.Sprite.prototype.addedToStage.call(this)};b.over=function(){this._nameTxt&&this._nameTxt.tweenColor(pt.onOverColor,this.tweenTime/3)};b.out=function(){this._nameTxt&&this._nameTxt.tweenColor(pt.textColor,this.tweenTime/3)};b.update=function(){this._nameTxt.width=this._tipWidth-this._gapX;this._nameTxt.htmlText=this._data.name;this._nameTxt.x=this._gapX;this._nameTxt.y=-2;this._previewTxt.width=this._tipWidth/2;this._previewTxt.height=10;this._previewTxt.htmlText=this._data.preview;this._previewTxt.x=this._gapX;this._previewTxt.y=this._nameTxt.y+this._nameTxt.height+this._gapY;this._previewTxt.setLimitation(1,true);this._previewTxt.alpha=0.8;this._moreTxt.htmlText=this._data.moreLabel;this._moreTxt.x=this._tipWidth-this._moreTxt.width-this._gapX;this._moreTxt.y=this._tipHeight-this._moreTxt.height};b.setChildEnabled=function(c){pinetree.Sprite.prototype.setChildEnabled.call(this,c);if(this._nameTxt){this._nameTxt.cursor=c?"pointer":"default"}if(this._previewTxt){this._previewTxt.cursor=c?"pointer":"default"}if(this._moreTxt){this._moreTxt.cursor=c?"pointer":"default"}};b.dispose=function(){TweenMax.killTweensOf(this._nameTxt);pinetree.Sprite.prototype.dispose.call(this)};pinetreepages.TeamListTips=a}());(function(){var b=function(){pinetreecom.ListItemBase.call(this);this._clipRect=new pinetree.Rectangle(0,0,0,0);this._originWidth=0;this._originHeight=0;this._bgAlpha=pt.bgAlpha;this._startX=20;this._thumbnail=null;this._tips=null;this._line=null;this._isShowing=false;this._isActive=false;this.mouseChildren=false};var a=__extends(b,pinetreecom.ListItemBase);a.setUpWith=function(c,d,e){pinetreecom.ListItemBase.prototype.setUpWith.call(this,c,d,e);this._originWidth=c;this._originHeight=d;this._thumbnail=new pinetreecom.ShadowImageLoader(this._itemHeight,this._itemHeight);this._thumbnail.className="shadow_20px";this._thumbnail.x=this._startX;this._thumbnail.loadingType="small";this.addChild(this._thumbnail);this._thumbnail.useMouseHand=true;this._line=new pinetree.Quad();this._line.alpha=0.2;this._line.color=pt.onOutColor;this._line.width=c;this._line.height=1;this._line.y=d+12;this.addChild(this._line);this.width=this._itemWidth;this.height=this._itemHeight;this.alpha=0;this.buttonMode=true};a.setLineVisible=function(c){this._line.visible=c};a.addedToStage=function(){if(!this.isInitialized){this._tips=new pinetreepages.TeamListTips(this._data,this._itemWidth-this._itemHeight-this._startX,this._itemHeight);this.addChild(this._tips);this._tips.x=this._itemHeight+this._startX}pinetreecom.ListItemBase.prototype.addedToStage.call(this)};a.tweenAlpha=function(c){if(this._isShowing){TweenMax.killTweensOf(this,false,{alpha:true});TweenMax.to(this,this.tweenTime,{alpha:c,ease:Quart.easeOut})}};a.getThumbnail=function(){return this._thumbnail};a.load=function(){if(this._thumbnail){this._thumbnail.load(this._data.thumburl)}else{this._onImgLoadComplete(null)}};a._onImgLoadComplete=function(c){};a.over=function(){if(this._tips){this._tips.over()}};a.out=function(){if(this._tips){this._tips.out()}};a.getWidth=function(){return this._itemWidth};a.getOriginWidth=function(){return this._originWidth};a.getOriginHeight=function(){return this._originHeight};a.getCurrentWidth=function(){return this._itemWidth};a.getCurrentHeight=function(){return this._itemHeight};a.setEnable=function(){};a.setState=function(d,c){if(c){this.show();this._isActive=true}else{this.hide();this._isActive=false}};a.show=function(){if(this._isShowing){return}this._isShowing=true;if(!this.parent){this.addToParent()}TweenMax.killTweensOf(this,false,{alpha:true});TweenMax.to(this,this.tweenTime,{alpha:1,ease:Quart.easeOut,onComplete:this._onShowComplete,onCompleteParams:[this]})};a._onShowComplete=function(c){};a.hide=function(){if(!this._isShowing){return}this._isShowing=false;TweenMax.killTweensOf(this,false,{alpha:true});TweenMax.to(this,this.tweenTime,{alpha:0,ease:Quart.easeOut,onComplete:this._onHideComplete,onCompleteParams:[this]})};a._onHideComplete=function(c){c.removeFromParent()};a.getGlobalBounds=function(){var c=this.localToGlobal(new pinetree.Point());return new pinetree.Rectangle(c.x,c.y,this._itemWidth,this._itemHeight)};a.animationIn=function(d,c,e,g){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if(d==0&&c==0){this._onInComplete(this,g);return}TweenMax.killTweensOf(this);this.alpha=1;this.x=this.originX+pt.stageWidth;TweenMax.to(this,d,{x:this.originX,delay:c,ease:e||this.transition,onComplete:this._onInComplete,onCompleteParams:[this,g]});this.addToParent()};a._onInComplete=function(c,d){if(!c.mouseEnabled){if(c.x!=c.originX){c.x=c.originX}c.mouseEnabled=true}d&&d()};a.animationOut=function(d,c,e,g){if(d==undefined){d=this.tweenTime}if(c==undefined){c=0}if(d==0&&c==0){this._onOutComplete(this,g);return}TweenMax.killTweensOf(this);this.mouseEnabled=false;TweenMax.to(this,d,{x:this.originX+pt.stageWidth,delay:c,ease:e||this.transition,onComplete:this._onOutComplete,onCompleteParams:[this,g]})};a._onOutComplete=function(c,d){if(!pinetree.isDevice){c.removeFromParent()}d&&d()};a.dispose=function(){if(this._thumbnail){this._thumbnail.dispose();this._thumbnail=null}if(!pinetree.isDevice){this.removeEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this)}else{this.removeEventListener(pinetree.MouseEvent.MOUSE_DOWN,this._onOver,this);this.removeEventListener(pinetree.MouseEvent.MOUSE_UP,this._onOut,this)}TweenMax.killTweensOf(this);pinetreecom.ListItemBase.prototype.dispose.call(this)};pinetreepages.TeamListRender=b}());(function(){var a=function(){pinetreemvc.ViewComponentBase.call(this);this.data=null;this.ON_CHANGE=new pinetree.Signal();this.ON_LOAD_COMPLETE=new pinetree.Signal()};var b=__extends(a,pinetreemvc.ViewComponentBase);b.initData=function(c){this.data=c||[]};b.change=function(c){};b.dispose=function(){this.ON_CHANGE&&this.ON_CHANGE.removeAll();this.ON_LOAD_COMPLETE&&this.ON_LOAD_COMPLETE.removeAll();this.ON_CHANGE=null;this.ON_LOAD_COMPLETE=null;pinetreemvc.ViewComponentBase.prototype.dispose.call(this)};pinetreepages.TeamBase=a})();(function(){var a=function(){pinetreepages.TeamBase.call(this);this._currentIndex=0;this._dataCount=0;this._isInited=false;this.visible=false};var b=__extends(a,pinetreepages.TeamBase);b.addedToStage=function(){if(!this.isInitialized){}pinetreepages.TeamBase.prototype.addedToStage.call(this)};b.initData=function(c){pinetreepages.TeamBase.prototype.initData.call(this,c);this._currentIndex=0;this._dataCount=c.length;this._initUI()};b._initUI=function(){};b.change=function(c){this._currentIndex=c};b.loadNext=function(c){};b.resize=function(c,d){if(!this._isInited){return}if(pinetree.isDevice){}else{}};b.transitionIn=function(){};b.transitionOut=function(c){this._isInited=false};b.predispose=function(){if(this._isInited){this.transitionOut(Delegate.create(this,this.dispose))}else{this.dispose()}};b.dispose=function(){pinetreecom.DelayCaller.removeByOwner(this);this.facade.$.imagesUI=null;pinetreepages.TeamBase.prototype.dispose.call(this)};pinetreepages.TeamImages=a})();(function(){var a=function(){pinetreepages.TeamBase.call(this);this._gap=0;this._itemWidth=0;this._itemHeight=0;this._imageWidth=0;this._imageHeight=0;this._currentRow=0;this._itemEdge=100*2;this._middleGap=180;this._maxContentWidth=640;this._currentListContentHeight=0;this._maxShownCount=5;this._pageIndex=0;this._pageTotal=0;this._currentIndex=0;this._dataCount=0;this._padding=30;this._isInited=false;this.sliderWidth=pinetree.isDevice?0:150;this.sliderHeight=pinetree.isDevice?0:10;this.sliderStartX=30;this.sliderOverColor=pt.onOverColor;this.sliderOutColor=pt.onOverColor;this.sliderOverAlpha=1;this.sliderOutAlpha=1;this.sliderBGColor=pt.onOutColor;this.sliderBGAlpha=0.1;this._hscroller=null;this._container=null;this._listContainer=null;this._triggerRect=null;this._buttonList=null;this._imageLoader=null;this._titleTxt=null;this._txtContainer=null;this._showInfoFirst=false;this._hideInfoButton=false;this._isShowingInfo=false;this.selectable=false;this.mouseChildren=this.mouseEnabled=false;this.resizePriority=1;__defineGetterSetter(this,["enabled"])};var b=__extends(a,pinetreepages.TeamBase);b.addedToStage=function(){if(!this.isInitialized){}pinetreepages.TeamBase.prototype.addedToStage.call(this)};b.initData=function(c){pinetreepages.TeamBase.prototype.initData.call(this,c);this._dataCount=c.length;this._itemWidth=this.facade.$.setting.itemWidth;this._itemHeight=this.facade.$.setting.itemHeight;this._imageWidth=this.facade.$.setting.imageWidth;this._imageHeight=this.facade.$.setting.imageHeight;this._showInfoFirst=this.facade.$.setting.showInfo;this._hideInfoButton=this.facade.$.setting.hideInfoButton;this._gap=this.facade.$.setting.gap;this._initUI()};b._initUI=function(){this._container=new pinetree.Sprite();this._container.alpha=0;this._imageLoader=new pinetreecom.ShadowImageLoader(this._imageWidth,this._imageHeight);this._container.addChild(this._imageLoader);this.registerAutoDispose(this._imageLoader);if(!pinetree.isDevice){this._imageLoader.x=this._itemWidth+this._middleGap;this._hscroller=new pinetreecom.HScroller(this.sliderWidth,this.sliderHeight,1,1,this.sliderOverColor,this.sliderOutColor,this.sliderOverAlpha,this.sliderOutAlpha,this.sliderBGColor,this.sliderBGAlpha,null,false,true,false);this.addChild(this._hscroller);this._hscroller.ON_CHANGE.add(this,this._onScrollProgress);this.registerAutoDispose(this._hscroller);this._hscroller.addTarget(this._container,0,0,0);this._hscroller.useIntPosition=true;this._listContainer=new pinetreecom.ListContainer();this._container.addChild(this._listContainer);this._listContainer.animateTime=this.tweenTime;this._listContainer.animateDelay=0.1*this.tweenTime;this._listContainer.ON_TWEEN_IN_COMPLETE.add(this,this.tweenInComplete);this._listContainer.ON_TWEEN_OUT_COMPLETE.add(this,this.tweenOutComplete);this._listContainer.ON_OVER.add(this,this.onOverItem);this._listContainer.ON_OUT.add(this,this.onOutItem);this._listContainer.ON_CLICK.add(this,this.onClickThumbnail);this._listContainer.ON_NEED_RESIZE.add(this,this.redraw);this._listContainer.onlyFullShown=true;this._listContainer.useRealPosition=false;this._listContainer.useRealStagePos=false;this._listContainer.maxShownCount=this._maxShownCount;this.registerAutoDispose(this._listContainer);this._triggerRect=new pinetreecom.TriggerRect(1,1,65280,0);this.addChildAt(this._triggerRect,0);this.registerAutoDispose(this._triggerRect);this._listContainer.reset();this._listContainer.setUpWith(pinetreepages.TeamListRender,this._itemWidth,this._itemHeight,0,this._gap,pinetreecom.AlignUtil.ALIGN_VERTICAL,1,this.data,pt.stageWidth,pt.stageHeight);this._buttonList=new pinetreecom.ButtonList(pinetreecom.MiniCircle,this.data.length);this.addChild(this._buttonList);this.registerAutoDispose(this._buttonList);this._buttonList.ON_CLICK.add(this,this.onClickButton);this._buttonList.onOverColor=pt.onOverColor;this._buttonList.onOutColor=pt.onOutColor;this._buttonList.onOverAlpha=1;this._buttonList.onOutAlpha=0.2;this._buttonList.gap=pinetree.isDevice?10:10;this._buttonList.itemSize=pinetree.isDevice?10*2:5*2;this._buttonList.alignType=pinetreecom.ButtonList.ALIGN_VERTICAL;this._buttonList.init();this._buttonList.visible=this._pageTotal>1;this._buttonList.setSelectBtn(0);this._titleTxt=new pinetree.TextField();this._titleTxt.className+=" team_detail_title";this._titleTxt.x=this._itemWidth+this._middleGap+5;this._titleTxt.y=this._imageHeight+30;this._titleTxt.width=this._imageWidth-30;this._container.addChild(this._titleTxt);this._txtContainer=new pinetreecom.TextContainer(this._imageWidth,this._imageHeight,pt.bgColor,0.95,true,true,false);this._container.addChild(this._txtContainer);this._txtContainer.sliderOverColor=pt.onOverColor;this._txtContainer.sliderOutColor=pt.onOverColor;this._txtContainer.sliderBGAlpha=0;this._txtContainer.padding=20;this._txtContainer.init();this._txtContainer.scrollerHeight=this._imageHeight-40;this._txtContainer.alpha=0;this.registerAutoDispose(this._txtContainer);this._txtContainer.x=this._itemWidth+this._middleGap;this._txtContainer.y=0;if(!this._hideInfoButton){var c=pt.getCommonTexture(pinetreepages.EnumTextures.BTN_INFO_SMALL);this._infoBtn=new pinetreecom.TextureButton(pt.onOverColor,pt.onOverColor,pt.onOverColor,pt.onOverColor,1,0.8);this._infoBtn.className+=" team_info_button";this._infoBtn.setTextures(c);this._container.addChild(this._infoBtn);this._infoBtn.x=this._itemWidth+this._middleGap+this._imageWidth-c.sourceWidth;this._infoBtn.y=this._imageHeight+33;this._infoBtn.show();this._infoBtn.addEventListener(pinetree.MouseEvent.CLICK,this._onClickInfo,this)}if(this._showInfoFirst){this._onClickInfo()}this._hscroller.reset();this._hscroller.enabled=false;this._hscroller.scrollMC.alpha=0;this._hscroller.mouseWheelArea=this._triggerRect;this._hscroller.enabled=true;this._hscroller.show()}else{this.addChild(this._container);this._imageLoader.x=this._padding;this._imageLoader.y=this._padding+pt.TOP_HEIGHT;this._txtContainer=new pinetreecom.DeviceTextContainer(this._textWidth,this._bgColor,0,true,true);this._container.addChild(this._txtContainer);this._txtContainer.paddingLeft=this._padding;this._txtContainer.paddingRight=this._padding;this._txtContainer.paddingTop=0;this._txtContainer.paddingBottom=0;this._txtContainer.init();this.registerAutoDispose(this._txtContainer);var d=this.data[this._currentIndex];this._txtContainer.title=d.name;this._txtContainer.information=d.description;this._txtContainer.x=0;this._txtContainer.y=this._imageHeight+this._imageLoader.y+this._padding}this.enabled=false;pinetreecom.DelayCaller.delayCall(this,this.transitionIn,0.1)};b._dragPrev=function(d){if(this._currentIndex<=0){pt.dragPrevNext.back()}else{this._currentIndex--;var c=this.data[this._currentIndex];if(c){this._imageLoader.reset();this._imageLoader.load(c.imageurl);this._txtContainer.reset();this._txtContainer.title=c.name;this._txtContainer.information=c.description}pt.dragPrevNext.back()}};b._dragNext=function(d){if(this._currentIndex>=this._totalCount-1){pt.dragPrevNext.back()}else{this._currentIndex++;var c=this.data[this._currentIndex];if(c){this._imageLoader.reset();this._imageLoader.load(c.imageurl);this._txtContainer.reset();this._txtContainer.title=c.name;this._txtContainer.information=c.description}pt.dragPrevNext.back()}};b.onControlPNChange=function(d){if(d.type==pinetreecom.SimplePNButtonsManager.PREV_TYPE){this._currentIndex--}else{this._currentIndex++}pt.controlBtns.showPNButtons(this._currentIndex>0,this._currentIndex<this._dataCount-1);if(this._currentIndex>=0&&this._currentIndex<this._dataCount){var c=this.data[this._currentIndex];if(c){this._imageLoader.reset();this._imageLoader.load(c.imageurl);this._txtContainer.reset();this._txtContainer.title=c.name;this._txtContainer.information=c.description}}};b.onClickButton=function(c){if(c.index==this._pageIndex){return}this._pageIndex=c.index;this._tweenListPosition()};b._tweenListPosition=function(){var c=this._pageIndex*-1*(this._currentListContentHeight+this._gap);this._listContainer.updateCurrentPos(c);TweenMax.to(this._listContainer.itemContainer,this.tweenTime,{y:c,ease:Quart.easeOut});this.redraw()};b.setEnabled=function(c){this.mouseChildren=this.mouseEnabled=c;if(this._triggerRect){this._triggerRect.isEnabled=c}};b._onClickInfo=function(c){if(this._isShowingInfo){TweenMax.to(this._txtContainer,this.tweenTime/3,{alpha:0,ease:Quad.easeOut})}else{TweenMax.to(this._txtContainer,this.tweenTime/3,{alpha:1,ease:Quad.easeOut})}this._isShowingInfo=!this._isShowingInfo};b.tweenInComplete=function(){};b.tweenOutComplete=function(){};b.onLoadFirstPageComplete=function(){};b.onOverItem=function(c){var d=this._listContainer.getItemByIndex(c);if(d){d.over()}};b.onOutItem=function(c){var d=this._listContainer.getItemByIndex(c);if(d){d.out()}};b.onClickThumbnail=function(d){if(!this._isInited){return}var g=this._listContainer.getItemByIndex(d);if(g){g.mouseEnabled=g.mouseChildren=false;g.over()}for(var e=0;e<this._dataCount;e++){if(e!=d){g=this._listContainer.getItemByIndex(e);if(g){g.mouseEnabled=g.mouseChildren=true;g.out()}}}var c=this.data[d];if(c){this._imageLoader.reset();this._imageLoader.load(c.imageurl);this._titleTxt.htmlText=c.name;this._txtContainer.information=c.description}};b._onScrollProgress=function(c){};b.resize=function(m,j){if(!this._isInited){return}if(!pinetree.isDevice){this._listContainer.resize(1440,j-this._itemEdge);var g=this._listContainer.fullShownItems;var k=g.length;for(var h=0;h<k-1;h++){if(g[h]){g[h].setLineVisible(true)}}if(g[k-1]){g[k-1].setLineVisible(false)}var n=Math.floor((j-this._itemEdge+this._gap)/(this._itemHeight+this._gap));if(n>this._maxShownCount){n=this._maxShownCount}else{if(n<1){n=1}}if(this._currentRow!=n){this._currentRow=n;this._currentListContentHeight=(this._itemHeight+this._gap)*n-this._gap;var d=this._pageIndex*this._pageTotal;if(d>this._dataCount-1){d=this._dataCount-1}var e=Math.floor(d/n);this._pageTotal=Math.ceil(this._dataCount/n);this._buttonList.count=this._pageTotal;this._buttonList.visible=this._pageTotal>1;if(e!=this._pageIndex){this._pageIndex=e;this._buttonList.setSelectBtn(this._pageIndex);this._tweenListPosition()}}var c=this._itemWidth+this._imageWidth+this._middleGap+this.sliderStartX*2;var l=((m-c)>>1)+this.sliderStartX;if(l<this.sliderStartX){l=this.sliderStartX}this._hscroller.setSize(c,j,m,((m-this.sliderWidth)>>1)-l,this._currentListContentHeight+30);if(this._buttonList.visible){this._buttonList.x=l-30-this._buttonList.width;this._buttonList.y=(j-this._buttonList.height)>>1}this._hscroller.x=l;this._hscroller.y=(j-this._currentListContentHeight)>>1;this._hscroller.scrollerWidth=this.sliderWidth;if(this._triggerRect){this._triggerRect.width=m;this._triggerRect.height=j}}else{pt.controlBtns.infoVisible=false;pt.controlBtns.closeVisible=false;pt.controlBtns.show(0);pt.controlBtns.showPNButtons(this._currentIndex>0,this._currentIndex<this._dataCount-1);pt.refreshControlBtns();var c=m;if(c>this._maxContentWidth){c=this._maxContentWidth}this._txtContainer.contentWidth=c;this._txtContainer.scrollGapX=0;this.height=this._txtContainer.y+this._txtContainer.contentHeight+this._padding;if(this._height<j-pt.TOP_HEIGHT-this._padding*2){this._container.y=(j-pt.TOP_HEIGHT-this._padding*2-this._height)>>1}else{this._container.y=0}this.x=(m-c)>>1}};b.transitionIn=function(){this._isTweening=true;this._isInited=true;this.redraw();this.mouseChildren=this.mouseEnabled=true;if(pinetree.isDevice){TweenMax.to(this._container,this.tweenTime/2,{alpha:1,ease:Quad.easeOut,onComplete:Delegate.create(this,this._onAniComplete)});var c=this.data[0];if(c){pinetreecom.DelayCaller.delayAfterFrames(this,this._imageLoader.load,1,[c.imageurl]);this._txtContainer.title=c.name;this._txtContainer.information=c.description}}else{this._container.alpha=1;this._hscroller.y=-this._currentListContentHeight;this._listContainer.animateDelay=0;this._listContainer.animationIn(pinetreecom.ListBase.ANI_DIRECTION_TOP2BOTTOM,0,Cubic.easeOut);this._listContainer.resize(pt.stageWidth,pt.stageHeight-this._itemEdge);var d=(pt.stageHeight-this._currentListContentHeight)>>1;TweenMax.to(this._hscroller,this.tweenTime*1.2,{y:d,ease:Quart.easeOut,onComplete:Delegate.create(this,this._onAniComplete)});pinetreecom.DelayCaller.delayAfterFrames(this,this.onClickThumbnail,1,[0])}};b._onAniComplete=function(){this._isTweening=false;this.redraw();this.enabled=true;pt.controlBtns.listen(this);this.ON_CHANGE.dispatch(0);if(this._hscroller){this._hscroller.tweenScrollerAlpha(1,this.tweenTime/2)}if(this._buttonList){this._buttonList.show()}};b.transitionOut=function(c){this._isInited=false;this.enabled=false;pt.controlBtns.cancel(this);pt.controlBtns.hide();pinetreecom.DelayCaller.removeByOwner(this);if(this._buttonList){this._buttonList.hide()}if(pinetree.isDevice){TweenMax.to(this._container,this.tweenTime/2,{alpha:0,ease:Quad.easeOut,onComplete:c})}else{TweenMax.to(this._hscroller,this.tweenTime,{y:pt.stageHeight+50,ease:Quart.easeIn,onComplete:c})}};b.predispose=function(){if(this._isInited){this.transitionOut(Delegate.create(this,this.dispose))}else{this.dispose()}};b.dispose=function(){pt.dragPrevNext.remove();this.facade.$.listUI=null;pinetreepages.TeamBase.prototype.dispose.call(this)};pinetreepages.TeamList=a})();(function(){var a=function(m,i,c,l,j,d,k,e,g){pinetreecom.Thumbnail.call(this,m,i,c,l,j,d,k,e,g);this._animation=new pinetreecom.GridAnimation(pt.config.animationColumn,pt.config.animationRow);this._animation.visible=false;this._animation.tweenTime=0.5;this._animation.ON_TWEEN_IN_COMPLETE.add(this,this._onAniInComplete);this._animation.ON_TWEEN_OUT_COMPLETE.add(this,this._onAniOutComplete);this.addChild(this._animation);this._tweenInSize=0;this.ON_ANIMATION_IN_COMPLETE=new pinetree.Signal();this.ON_ANIMATION_OUT_COMPLETE=new pinetree.Signal()};var b=__extends(a,pinetreecom.Thumbnail);b.onLoadComplete=function(c){this._loader.visible=false;pinetreecom.Thumbnail.prototype.onLoadComplete.call(this,c)};b.show=function(d){this._tweenInSize=this.imageWidth;var c=this.imageWidth/this._loader.originWidth;this._animation.initWith(this._loader.getImageElement(),c,0);this._animation.visible=true;this._animation.tweenIn(d)};b.hide=function(d){if(this.imageWidth!=this._tweenInSize){var c=this.imageWidth/this._loader.originWidth;this._animation.initWith(this._loader.getImageElement(),c,1)}this._animation.visible=true;this._animation.tweenOut(d);this._loader.visible=false;this._tweenInSize=0};b._onAniInComplete=function(){this._loader.visible=true;this._animation.visible=false;this.ON_ANIMATION_IN_COMPLETE.dispatch()};b._onAniOutComplete=function(){this.ON_ANIMATION_IN_COMPLETE.dispatch()};b.reset=function(){pinetreecom.Thumbnail.prototype.reset.call(this);this._animation.reset()};b.dispose=function(){this._animation&&this._animation.dispose();this._animation=null;this.ON_ANIMATION_IN_COMPLETE&&this.ON_ANIMATION_IN_COMPLETE.dispose();this.ON_ANIMATION_IN_COMPLETE=null;this.ON_ANIMATION_OUT_COMPLETE&&this.ON_ANIMATION_OUT_COMPLETE.dispose();this.ON_ANIMATION_OUT_COMPLETE=null;pinetreecom.Thumbnail.prototype.dispose.call(this)};pinetreepages.GridAniThumbnail=a}());(function(){var a=function(){this._txt=null};var b=__extends(a,pinetree.Sprite);b.addedToStage=function(){if(!this.isInitialized){this._txt=new pinetree.TextField();this._txt.fontSize=14;this.addChild(this._txt)}pinetree.Sprite.prototype.addedToStage.call(this)};pinetreepages.TextListItemRender=a}());(function(){var a=function(h,j,e,i){pinetree.Sprite.call(this);this._thumbWidth=h;this._thumbHeight=h;this._thumbGap=j;this._datas=e;this._currentIndex=0;this._totalCount=this._datas.length;this._data=null;this._dataCount=0;this._loadedIndex=0;this._loadCount=0;this._rowColumn=3;this._thumbContainer=null;this._prevThumbs=[];this._currentThumbs=[];this._isLoading=false;this._isTweening=false;this._duration=__defaultSet(i,3);this.tweenTime=1;this.transition=Quad.easeInOut;var d=h*1.414;var g=j*1.414;var c=h*2+j;this._ALIGN_CONST=[{align:[1],size:[c],offset:c/4+j/4},{align:[2,4],size:[h,h],offset:c/4+j/4},{align:[1,4,5],size:[h,h,h],offset:h/4+j/4},{align:[1,2,4,5],size:[h,h,h,h],offset:h/2+j/2},{align:[0,5,6,7,8],size:[c,h,h,h,h],offset:-h/4-j/4},{align:[0,1,2,4,5,8],size:[h,h,h,h,h,h],offset:h/2+j/2},{align:[0,1,2,3,5,7,8],size:[h,h,h,h,h,h,h],offset:h/4+j/4},{align:[0,1,2,3,4,5,7,8],size:[h,h,h,h,h,h,h,h],offset:h/4+j/4},{align:[0,1,2,3,4,5,6,7,8],size:[h,h,h,h,h,h,h,h,h],offset:0}]};var b=__extends(a,pinetree.Sprite);b.addedToStage=function(){if(!this.isInitialized){this._initUI()}pinetree.Sprite.prototype.addedToStage.call(this)};b._initUI=function(){this._thumbContainer=new pinetree.Sprite();this.addChild(this._thumbContainer);this._thumbContainer.x=-((this._thumbWidth+this._thumbGap)*this._rowColumn-this._thumbGap)>>1;this._thumbContainer.y=-((this._thumbHeight+this._thumbGap)*this._rowColumn-this._thumbGap)>>1;this.update(this._currentIndex)};b.prev=function(){if(this._totalCount<=1){return}if(this._isLoading||this._isTweening){return}this._currentIndex--;if(this._currentIndex<0){this._currentIndex=this._totalCount-1}this.update(this._currentIndex)};b.next=function(){if(this._totalCount<=1){return}if(this._isLoading||this._isTweening){return}this._currentIndex++;if(this._currentIndex>=this._totalCount){this._currentIndex=0}this.update(this._currentIndex)};b._runTimer=function(){pinetreecom.DelayCaller.removeByOwner(this);pinetreecom.DelayCaller.delayCall(this,this.next,this._duration)};b.update=function(j){if(this._isLoading){return}if(j>=this._totalCount){return}this._data=this._datas[j];this._dataCount=this._data.length;if(this._dataCount>9){this._dataCount=9}this._alignObj=this._ALIGN_CONST[this._dataCount-1];var d=this._alignObj.offset;this._loadedIndex=0;this._loadCount=this._dataCount;if(this._prevThumbs.length>0){for(var n in this._prevThumbs){this._prevThumbs[n]&&this._prevThumbs[n].dispose()}this._prevThumbs.splice(0,this._prevThumbs.length)}this._prevThumbs=this._currentThumbs.concat();this._currentThumbs.splice(0,this._currentThumbs.length);var c,m,g,l,k;for(var e=0;e<this._dataCount;e++){l=Math.floor(this._alignObj.align[e]%this._rowColumn)*(this._thumbWidth+this._thumbGap);k=Math.floor(this._alignObj.align[e]/this._rowColumn)*(this._thumbHeight+this._thumbGap);m=Math.floor(this._alignObj.size[e]);g=Math.floor(this._alignObj.size[e]);c=new pinetreecom.Thumbnail(m,g,0,pt.bgColor,false,null,true);c.visible=false;c.scale=0;c.x=l-d;c.y=k+d;this._thumbContainer.addChild(c);c.addEventListener(pinetree.MouseEvent.ROLL_OVER,this._onOver,this);c.addEventListener(pinetree.MouseEvent.ROLL_OUT,this._onOut,this);c.addEventListener(pinetree.MouseEvent.CLICK,this._onClick,this);c.ON_LOAD_COMPLETE.add(this,this._onLoadThumbComplete);c.index=e;c.load(this._data[e]);this._currentThumbs.push(c)}this._isLoading=true};b._onLoadThumbComplete=function(c){c.setRealFitSize(c.imageWidth,c.imageHeight);this._loadedIndex++;if(this._loadedIndex==this._loadCount){this._isLoading=false;this._tween()}};b._tween=function(){var d,e,c=this._prevThumbs.length;if(c>0){for(e=0;e<c;e++){d=this._prevThumbs[e];if(d){TweenMax.to(d,this.tweenTime-0.1,{scale:0,ease:this.transition,onComplete:this._onHideComplete,onCompleteParams:[this,d,e,c-1]})}}this._prevThumbs.splice(0,c)}c=this._currentThumbs.length;if(c>0){for(e=0;e<c;e++){d=this._currentThumbs[e];d.scale=0;d.visible=true;if(d){TweenMax.to(d,this.tweenTime,{scale:1,ease:this.transition,onComplete:this._onShowComplete,onCompleteParams:[this,d,e,c-1]})}}}this._isTweening=true};b._onHideComplete=function(c,e,d,g){if(e){e.visible=false;e.removeFromParent(true)}};b._onShowComplete=function(c,e,d,g){if(d==g){c._isTweening=false;c._runTimer()}};b._onOver=function(c){var d=c.customTarget;var e=d.index;var g=this._data[e].link};b._onOut=function(c){var d=c.customTarget;var e=d.index;var g=this._data[e].link};b._onClick=function(c){var d=c.customTarget;var e=d.index;var g=this._data[e].link};b.dispose=function(){pinetreecom.DelayCaller.removeByOwner(this);var c;if(this._prevThumbs&&this._prevThumbs.length>0){for(c in this._prevThumbs){this._prevThumbs[c]&&this._prevThumbs[c].dispose()}this._prevThumbs.splice(0,this._prevThumbs.length);this._prevThumbs=null}if(this._currentThumbs&&this._currentThumbs.length>0){for(c in this._currentThumbs){this._currentThumbs[c]&&this._currentThumbs[c].dispose()}this._currentThumbs.splice(0,this._currentThumbs.length);this._currentThumbs=null}pinetree.Sprite.prototype.dispose.call(this)};pinetreepages.HomeThumbContainer=a}());